<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>

<!-- Mirrored from localhost:8080/Cookbook/Matplotlib/LaTeX_Examples?highlight=%28%28CategoryCookbook%29%29 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 29 Oct 2015 23:34:10 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<meta name="edit_on_doubleclick" content="/">
<meta name="robots" content="noindex,nofollow">

<title>Cookbook/Matplotlib/LaTeX_Examples - SciPy wiki dump</title>
<script type="text/javascript" src="../../moin_static197/common/js/common.js"></script>

<script type="text/javascript">
<!--
var search_hint = "Search";
//-->
</script>


<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="../../moin_static197/modern/css/common.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="screen" href="../../moin_static197/modern/css/screen.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="print" href="../../moin_static197/modern/css/print.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="projection" href="../../moin_static197/modern/css/projection.css">

<!-- css only for MS IE6/IE7 browsers -->
<!--[if lt IE 8]>
   <link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="/moin_static197/modern/css/msie.css">
<![endif]-->


<link rel="alternate" title="SciPy: Cookbook/Matplotlib/LaTeX_Examples" href="../../../external.html?link=http://localhost:8080/Cookbook/Matplotlib/LaTeX_Examples?diffs=1&amp;show_att=1&amp;action=rss_rc&amp;unique=0&amp;page=Cookbook%2FMatplotlib%2FLaTeX_Examples&amp;ddiffs=1" type="application/rss+xml">


<link rel="Start" href="../../AllPages.html">
<link rel="Alternate" title="Wiki Markup" href="../../../external.html?link=http://localhost:8080/Cookbook/Matplotlib/LaTeX_Examples?action=raw">
<link rel="Alternate" media="print" title="Print View" href="../../../external.html?link=http://localhost:8080/Cookbook/Matplotlib/LaTeX_Examples?action=print">
<link rel="Up" href="../Matplotlib.html">
<link rel="Appendix" title="fig.png" href="LaTeX_Examples94d3.html?action=AttachFile&amp;do=view&amp;target=fig.png">
<link rel="Appendix" title="fig1.png" href="LaTeX_Examplesf25b.html?action=AttachFile&amp;do=view&amp;target=fig1.png">
<link rel="Appendix" title="naka-rushton.png" href="LaTeX_Examples79f9.html?action=AttachFile&amp;do=view&amp;target=naka-rushton.png">
<link rel="Appendix" title="psfrag_example.png" href="LaTeX_Examples0b94.html?action=AttachFile&amp;do=view&amp;target=psfrag_example.png">
<link rel="Search" href="../../FindPage.html">
<link rel="Index" href="../../TitleIndex.html">
<link rel="Glossary" href="../../WordIndex.html">
<link rel="Help" href="../../HelpOnFormatting.html">
</head>

<body  lang="en" dir="ltr"><div style="background: white; padding:2em;">This is an archival dump of old wiki content --- see <a href="http://scipy.org/">scipy.org</a> for current material.<br>Please see <a href="http://scipy-cookbook.readthedocs.org/">http://scipy-cookbook.readthedocs.org/</a></div>

<div id="header">


<form id="searchform" method="get" action="../../../external.html?link=http://localhost:8080/Cookbook/Matplotlib/LaTeX_Examples">
<div>
<input type="hidden" name="action" value="fullsearch">
<input type="hidden" name="context" value="180">
<label for="searchinput">Search:</label>
<input id="searchinput" type="text" name="value" value="" size="20"
    onfocus="searchFocus(this)" onblur="searchBlur(this)"
    onkeyup="searchChange(this)" onchange="searchChange(this)" alt="Search">
<input id="titlesearch" name="titlesearch" type="submit"
    value="Titles" alt="Search Titles">
<input id="fullsearch" name="fullsearch" type="submit"
    value="Text" alt="Search Full Text">
</div>
</form>
<script type="text/javascript">
<!--// Initialize search form
var f = document.getElementById('searchform');
f.getElementsByTagName('label')[0].style.display = 'none';
var e = document.getElementById('searchinput');
searchChange(e);
searchBlur(e);
//-->
</script>

<ul id="username"><li><a href="LaTeX_Examples456e.html?action=login" id="login" rel="nofollow">Login</a></li></ul>
<div id="locationline">
<div id="interwiki"><span><a href="../../AllPages.html" rel="nofollow">SciPy</a></span></div>

<ul id="pagelocation">
<li><a href="../../Cookbook.html">Cookbook</a></li><li><a href="../Matplotlib.html">Matplotlib</a></li><li><a class="backlink" href="LaTeX_Examplesf0f7.html?action=fullsearch&amp;context=180&amp;value=linkto%3A%22Cookbook%2FMatplotlib%2FLaTeX_Examples%22" rel="nofollow" title="Click to do a full-text search for this title">LaTeX_Examples</a></li>
</ul>

</div>


<ul id="navibar">
<li class="wikilink"><a href="../../RecentChanges.html">RecentChanges</a></li><li class="wikilink"><a class="nonexistent" href="../../FindPage.html">FindPage</a></li><li class="wikilink"><a class="nonexistent" href="../../HelpContents.html">HelpContents</a></li><li class="current"><a href="LaTeX_Examples.html">LaTeX_Examples</a></li>
</ul>

<div id="pageline"><hr style="display:none;"></div>

<ul class="editbar"><li class="toggleCommentsButton" style="display:none;"><a href="#" class="nbcomment" onClick="toggleComments();return false;">Comments</a></li><li><a class="nbattachments" href="LaTeX_Examples37dc.html?action=AttachFile" rel="nofollow">Attachments</a></li><li>
<form class="actionsmenu" method="GET" action="../../../external.html?link=http://localhost:8080/Cookbook/Matplotlib/LaTeX_Examples">
<div>
    <label>More Actions:</label>
    <select name="action"
        onchange="if ((this.selectedIndex != 0) &&
                      (this.options[this.selectedIndex].disabled == false)) {
                this.form.submit();
            }
            this.selectedIndex = 0;">
        <option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="RenamePage" disabled class="disabled">Rename Page</option>
<option value="DeletePage" disabled class="disabled">Delete Page</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Subscribe User</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Remove Spam</option>
<option value="show" disabled class="disabled">Revert to this revision</option>
    </select>
    <input type="submit" value="Do">
    
</div>
<script type="text/javascript">
<!--// Init menu
actionsMenuInit('More Actions:');
//-->
</script>
</form>
</li></ul>

</div>

<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en"><span class="anchor" id="top"></span>
<span class="anchor" id="line-1"></span><p class="line867">
<h1 id="Producing_Graphs_for_Publication_using_LaTeX">Producing Graphs for Publication using LaTeX</h1>
<span class="anchor" id="line-2"></span><p class="line874">This page describes several ways to produce publication quality graphics with LaTeX. <span class="anchor" id="line-3"></span><span class="anchor" id="line-4"></span><p class="line867">
<h2 id="LaTeX_UsingTex">LaTeX UsingTex</h2>
<span class="anchor" id="line-5"></span><p class="line862">This section describes a technique following the <a href="UsingTex.html">Cookbook/Matplotlib/UsingTex</a> guidelines. <span class="anchor" id="line-6"></span><span class="anchor" id="line-7"></span><p class="line862">Here is the outline of the LaTeX file used to include the figure (example for <tt class="backtick">REVTeX4</tt> for publication is APS physics journals with a two column format.) <span class="anchor" id="line-8"></span><span class="anchor" id="line-9"></span><p class="line867"><span class="anchor" id="line-10"></span><span class="anchor" id="line-11"></span><span class="anchor" id="line-12"></span><span class="anchor" id="line-13"></span><span class="anchor" id="line-14"></span><span class="anchor" id="line-15"></span><span class="anchor" id="line-16"></span><span class="anchor" id="line-17"></span><span class="anchor" id="line-18"></span><span class="anchor" id="line-19"></span><span class="anchor" id="line-20"></span><span class="anchor" id="line-21"></span><span class="anchor" id="line-22"></span><span class="anchor" id="line-23"></span><pre><span class="anchor" id="line-1-1"></span>\documentclass[prl,10pt,twocolumn]{revtex4}
<span class="anchor" id="line-2-1"></span>\usepackage{graphicx}    % Used to import the graphics
<span class="anchor" id="line-3-1"></span>\begin{document}
<span class="anchor" id="line-4-1"></span>%...
<span class="anchor" id="line-5-1"></span>\begin{figure}[t]
<span class="anchor" id="line-6-1"></span>  \begin{center}
<span class="anchor" id="line-7-1"></span>    \showthe\columnwidth % Use this to determine the width of the figure.
<span class="anchor" id="line-8-1"></span>    \includegraphics[width=\columnwidth]{fig1.eps}
<span class="anchor" id="line-9-1"></span>    \caption{\label{fig:sin_cos} Plot of the sine and cosine functions.}
<span class="anchor" id="line-10-1"></span>  \end{center}
<span class="anchor" id="line-11-1"></span>\end{figure}
<span class="anchor" id="line-12-1"></span>%...
<span class="anchor" id="line-13-1"></span>\end{document}</pre><span class="anchor" id="line-24"></span><p class="line867">
<h3 id="Determining_the_Figure_Size">Determining the Figure Size</h3>
<span class="anchor" id="line-25"></span><p class="line862">The first step is to determine the size of the figure: this way, when the graphic is included, it will not be resized, and the fonts etc. will be exactly as you set them rather than scaled (and possibly distored).  This can be done in LaTeX by explicitly setting the width of the figure and using the <tt class="backtick">\showthe</tt> command to print this width.  (In the example above, the figure width is set to the <tt class="backtick">\columnwidth</tt>.) <span class="anchor" id="line-26"></span><span class="anchor" id="line-27"></span><p class="line862">When the file is processed by LaTeX, look at the output.  The example above produces the following output (Note: LaTeX will pause after the <tt class="backtick">\showthe</tt> command, press enter to continue): <span class="anchor" id="line-28"></span><span class="anchor" id="line-29"></span><p class="line867"><span class="anchor" id="line-30"></span><span class="anchor" id="line-31"></span><span class="anchor" id="line-32"></span><span class="anchor" id="line-33"></span><span class="anchor" id="line-34"></span><span class="anchor" id="line-35"></span><span class="anchor" id="line-36"></span><span class="anchor" id="line-37"></span><span class="anchor" id="line-38"></span><span class="anchor" id="line-39"></span><pre><span class="anchor" id="line-1-2"></span>This is TeX, Version 3.14159 (Web2C 7.4.5)
<span class="anchor" id="line-2-2"></span>LaTeX2e &lt;2001/06/01&gt;
<span class="anchor" id="line-3-2"></span>...
<span class="anchor" id="line-4-2"></span>&gt; 246.0pt.
<span class="anchor" id="line-5-2"></span>l.8     \showthe\columnwidth
<span class="anchor" id="line-6-2"></span>                             % Use this to determine the width of the figure.
<span class="anchor" id="line-7-2"></span>?
<span class="anchor" id="line-8-2"></span>&lt;fig1.eps&gt; [1] (./tst.aux) )
<span class="anchor" id="line-9-2"></span>...</pre><span class="anchor" id="line-40"></span><p class="line862">Thus, the figure will be 246.0pt wide.  There are 1 inch = 72.27pt (in [La]TeX), so this means that the figure width should be 3.40390 inches.  The heigth depends on the content of the figure, but the golden mean may be used to make a pleasing figure.  Once this is determined, the <tt class="backtick">figure.figsize</tt> property can be used to set the default figure size. <span class="anchor" id="line-41"></span><span class="anchor" id="line-42"></span><p class="line867"><span class="anchor" id="line-43"></span><span class="anchor" id="line-44"></span><span class="anchor" id="line-45"></span><span class="anchor" id="line-46"></span><span class="anchor" id="line-47"></span><span class="anchor" id="line-48"></span><span class="anchor" id="line-49"></span><span class="anchor" id="line-50"></span><span class="anchor" id="line-1-3"></span><div class="highlight python"><div class="codearea" dir="ltr" lang="en"><pre dir="ltr" id="CA-0cd81afd3070322133c1c18028f6835f85ecec45" lang="en"><span class="line"><span class="anchor" id="line-1-4"></span><span class="ID">fig_width_pt</span> = <span class="Number">246.0</span>  <span class="Comment"># Get this from LaTeX using \showthe\columnwidth</span></span>
<span class="line"><span class="anchor" id="line-2-3"></span><span class="ID">inches_per_pt</span> = <span class="Number">1.0</span>/<span class="Number">72.27</span>               <span class="Comment"># Convert pt to inches</span></span>
<span class="line"><span class="anchor" id="line-3-3"></span><span class="ID">golden_mean</span> = (<span class="ID">sqrt</span>(<span class="Number">5</span>)-<span class="Number">1.0</span>)/<span class="Number">2.0</span>         <span class="Comment"># Aesthetic ratio</span></span>
<span class="line"><span class="anchor" id="line-4-3"></span><span class="ID">fig_width</span> = <span class="ID">fig_width_pt</span>*<span class="ID">inches_per_pt</span>  <span class="Comment"># width in inches</span></span>
<span class="line"><span class="anchor" id="line-5-3"></span><span class="ID">fig_height</span> =<span class="ID">fig_width</span>*<span class="ID">golden_mean</span>       <span class="Comment"># height in inches</span></span>
<span class="line"><span class="anchor" id="line-6-3"></span><span class="ID">fig_size</span> = [<span class="ID">fig_width</span>,<span class="ID">fig_height</span>]</span>
</pre></div></div><span class="anchor" id="line-51"></span><p class="line867">
<h3 id="Setting_Font_Sizes">Setting Font Sizes</h3>
<span class="anchor" id="line-52"></span><p class="line874">Since the figure will not be scaled down, we may explicitly set the font sizes. <span class="anchor" id="line-53"></span><span class="anchor" id="line-54"></span><p class="line867"><span class="anchor" id="line-55"></span><span class="anchor" id="line-56"></span><span class="anchor" id="line-57"></span><span class="anchor" id="line-58"></span><span class="anchor" id="line-59"></span><span class="anchor" id="line-60"></span><span class="anchor" id="line-61"></span><span class="anchor" id="line-62"></span><span class="anchor" id="line-63"></span><span class="anchor" id="line-1-5"></span><div class="highlight python"><div class="codearea" dir="ltr" lang="en"><pre dir="ltr" id="CA-07d112e8ca9e92f1affa6f08aa6d6a5c7ad5cab0" lang="en"><span class="line"><span class="anchor" id="line-1-6"></span>          <span class="String">'</span><span class="String">font.size</span><span class="String">'</span> : <span class="Number">10</span>,</span>
<span class="line"><span class="anchor" id="line-2-4"></span>          <span class="String">'</span><span class="String">axes.labelsize</span><span class="String">'</span> : <span class="Number">10</span>,</span>
<span class="line"><span class="anchor" id="line-3-4"></span>          <span class="String">'</span><span class="String">font.size</span><span class="String">'</span> : <span class="Number">10</span>,</span>
<span class="line"><span class="anchor" id="line-4-4"></span>          <span class="String">'</span><span class="String">text.fontsize</span><span class="String">'</span> : <span class="Number">10</span>,</span>
<span class="line"><span class="anchor" id="line-5-4"></span>          <span class="String">'</span><span class="String">legend.fontsize</span><span class="String">'</span>: <span class="Number">10</span>,</span>
<span class="line"><span class="anchor" id="line-6-4"></span>          <span class="String">'</span><span class="String">xtick.labelsize</span><span class="String">'</span> : <span class="Number">8</span>,</span>
<span class="line"><span class="anchor" id="line-7-3"></span>          <span class="String">'</span><span class="String">ytick.labelsize</span><span class="String">'</span> : <span class="Number">8</span>,</span>
</pre></div></div><span class="anchor" id="line-64"></span><p class="line867">
<h3 id="Fine_Tuning">Fine Tuning</h3>
<span class="anchor" id="line-65"></span><p class="line862">With these smaller plot sizes, the default margins are not enough to display the axis labels, so we need to specify large margins.  We do this with an explicit call to the <tt class="backtick">axes()</tt> function.  In this example, we only have one axis.  The typeset LaTeX document will have whitespace on either side of the figure, so we do not need to include this in the figure.  Thus, we keep just a bit of whitespace at the top and to the right so that the labels do not extend beyond the bounding box, and add more space to the bottom for the x label: <span class="anchor" id="line-66"></span><span class="anchor" id="line-67"></span><p class="line867"><span class="anchor" id="line-68"></span><span class="anchor" id="line-69"></span><span class="anchor" id="line-70"></span><span class="anchor" id="line-1-7"></span><div class="highlight python"><div class="codearea" dir="ltr" lang="en"><pre dir="ltr" id="CA-366f0c2c156ff50231d7569cd969e0846a1be34d" lang="en"><span class="line"><span class="anchor" id="line-1-8"></span><span class="ID">pylab</span>.<span class="ID">axes</span>([<span class="Number">0.125</span>,<span class="Number">0.2</span>,<span class="Number">0.95</span>-<span class="Number">0.125</span>,<span class="Number">0.95</span>-<span class="Number">0.2</span>])</span>
</pre></div></div><span class="anchor" id="line-71"></span><p class="line867">
<h3 id="Putting_it_all_Together">Putting it all Together</h3>
<span class="anchor" id="line-72"></span><p class="line874">Here is the python file that generates the plots. <span class="anchor" id="line-73"></span><span class="anchor" id="line-74"></span><p class="line867"><span class="anchor" id="line-75"></span><span class="anchor" id="line-76"></span><span class="anchor" id="line-77"></span><span class="anchor" id="line-78"></span><span class="anchor" id="line-79"></span><span class="anchor" id="line-80"></span><span class="anchor" id="line-81"></span><span class="anchor" id="line-82"></span><span class="anchor" id="line-83"></span><span class="anchor" id="line-84"></span><span class="anchor" id="line-85"></span><span class="anchor" id="line-86"></span><span class="anchor" id="line-87"></span><span class="anchor" id="line-88"></span><span class="anchor" id="line-89"></span><span class="anchor" id="line-90"></span><span class="anchor" id="line-91"></span><span class="anchor" id="line-92"></span><span class="anchor" id="line-93"></span><span class="anchor" id="line-94"></span><span class="anchor" id="line-95"></span><span class="anchor" id="line-96"></span><span class="anchor" id="line-97"></span><span class="anchor" id="line-98"></span><span class="anchor" id="line-99"></span><span class="anchor" id="line-100"></span><span class="anchor" id="line-101"></span><span class="anchor" id="line-102"></span><span class="anchor" id="line-103"></span><span class="anchor" id="line-104"></span><span class="anchor" id="line-105"></span><span class="anchor" id="line-106"></span><span class="anchor" id="line-107"></span><span class="anchor" id="line-1-9"></span><div class="highlight python"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
function isnumbered(obj) {
  return obj.childNodes.length && obj.firstChild.childNodes.length && obj.firstChild.firstChild.className == 'LineNumber';
}
function nformat(num,chrs,add) {
  var nlen = Math.max(0,chrs-(''+num).length), res = '';
  while (nlen>0) { res += ' '; nlen-- }
  return res+num+add;
}
function addnumber(did, nstart, nstep) {
  var c = document.getElementById(did), l = c.firstChild, n = 1;
  if (!isnumbered(c)) {
    if (typeof nstart == 'undefined') nstart = 1;
    if (typeof nstep  == 'undefined') nstep = 1;
    var n = nstart;
    while (l != null) {
      if (l.tagName == 'SPAN') {
        var s = document.createElement('SPAN');
        var a = document.createElement('A');
        s.className = 'LineNumber';
        a.appendChild(document.createTextNode(nformat(n,4,'')));
        a.href = '#' + did + '_' + n;
        s.appendChild(a);
        s.appendChild(document.createTextNode(' '));
        n += nstep;
        if (l.childNodes.length) {
          l.insertBefore(s, l.firstChild);
        }
        else {
          l.appendChild(s);
        }
      }
      l = l.nextSibling;
    }
  }
  return false;
}
function remnumber(did) {
  var c = document.getElementById(did), l = c.firstChild;
  if (isnumbered(c)) {
    while (l != null) {
      if (l.tagName == 'SPAN' && l.firstChild.className == 'LineNumber') l.removeChild(l.firstChild);
      l = l.nextSibling;
    }
  }
  return false;
}
function togglenumber(did, nstart, nstep) {
  var c = document.getElementById(did);
  if (isnumbered(c)) {
    remnumber(did);
  } else {
    addnumber(did,nstart,nstep);
  }
  return false;
}
</script>

<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-4a6765d38bb7db022827f87fc5cae2619e693f5a\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script>
<pre dir="ltr" id="CA-4a6765d38bb7db022827f87fc5cae2619e693f5a" lang="en"><span class="line"><span class="LineNumber"><a href="#CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_1">   1</a> </span><span class="LineAnchor" id="CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_1"></span><span class="anchor" id="line-1-10"></span><span class="ResWord">import</span> <span class="ID">pylab</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_2">   2</a> </span><span class="LineAnchor" id="CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_2"></span><span class="anchor" id="line-2-5"></span><span class="ResWord">from</span> <span class="ID">pylab</span> <span class="ResWord">import</span> <span class="ID">arange</span>,<span class="ID">pi</span>,<span class="ID">sin</span>,<span class="ID">cos</span>,<span class="ID">sqrt</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_3">   3</a> </span><span class="LineAnchor" id="CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_3"></span><span class="anchor" id="line-3-5"></span><span class="ID">fig_width_pt</span> = <span class="Number">246.0</span>  <span class="Comment"># Get this from LaTeX using \showthe\columnwidth</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_4">   4</a> </span><span class="LineAnchor" id="CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_4"></span><span class="anchor" id="line-4-5"></span><span class="ID">inches_per_pt</span> = <span class="Number">1.0</span>/<span class="Number">72.27</span>               <span class="Comment"># Convert pt to inch</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_5">   5</a> </span><span class="LineAnchor" id="CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_5"></span><span class="anchor" id="line-5-5"></span><span class="ID">golden_mean</span> = (<span class="ID">sqrt</span>(<span class="Number">5</span>)-<span class="Number">1.0</span>)/<span class="Number">2.0</span>         <span class="Comment"># Aesthetic ratio</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_6">   6</a> </span><span class="LineAnchor" id="CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_6"></span><span class="anchor" id="line-6-5"></span><span class="ID">fig_width</span> = <span class="ID">fig_width_pt</span>*<span class="ID">inches_per_pt</span>  <span class="Comment"># width in inches</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_7">   7</a> </span><span class="LineAnchor" id="CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_7"></span><span class="anchor" id="line-7-4"></span><span class="ID">fig_height</span> = <span class="ID">fig_width</span>*<span class="ID">golden_mean</span>      <span class="Comment"># height in inches</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_8">   8</a> </span><span class="LineAnchor" id="CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_8"></span><span class="anchor" id="line-8-3"></span><span class="ID">fig_size</span> =  [<span class="ID">fig_width</span>,<span class="ID">fig_height</span>]</span>
<span class="line"><span class="LineNumber"><a href="#CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_9">   9</a> </span><span class="LineAnchor" id="CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_9"></span><span class="anchor" id="line-9-3"></span><span class="ID">params</span> = {<span class="String">'</span><span class="String">backend</span><span class="String">'</span>: <span class="String">'</span><span class="String">ps</span><span class="String">'</span>,</span>
<span class="line"><span class="LineNumber"><a href="#CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_10">  10</a> </span><span class="LineAnchor" id="CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_10"></span><span class="anchor" id="line-10-2"></span>          <span class="String">'</span><span class="String">axes.labelsize</span><span class="String">'</span>: <span class="Number">10</span>,</span>
<span class="line"><span class="LineNumber"><a href="#CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_11">  11</a> </span><span class="LineAnchor" id="CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_11"></span><span class="anchor" id="line-11-2"></span>          <span class="String">'</span><span class="String">text.fontsize</span><span class="String">'</span>: <span class="Number">10</span>,</span>
<span class="line"><span class="LineNumber"><a href="#CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_12">  12</a> </span><span class="LineAnchor" id="CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_12"></span><span class="anchor" id="line-12-2"></span>          <span class="String">'</span><span class="String">legend.fontsize</span><span class="String">'</span>: <span class="Number">10</span>,</span>
<span class="line"><span class="LineNumber"><a href="#CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_13">  13</a> </span><span class="LineAnchor" id="CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_13"></span><span class="anchor" id="line-13-2"></span>          <span class="String">'</span><span class="String">xtick.labelsize</span><span class="String">'</span>: <span class="Number">8</span>,</span>
<span class="line"><span class="LineNumber"><a href="#CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_14">  14</a> </span><span class="LineAnchor" id="CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_14"></span><span class="anchor" id="line-14-1"></span>          <span class="String">'</span><span class="String">ytick.labelsize</span><span class="String">'</span>: <span class="Number">8</span>,</span>
<span class="line"><span class="LineNumber"><a href="#CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_15">  15</a> </span><span class="LineAnchor" id="CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_15"></span><span class="anchor" id="line-15-1"></span>          <span class="String">'</span><span class="String">text.usetex</span><span class="String">'</span>: <span class="ResWord">True</span>,</span>
<span class="line"><span class="LineNumber"><a href="#CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_16">  16</a> </span><span class="LineAnchor" id="CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_16"></span><span class="anchor" id="line-16-1"></span>          <span class="String">'</span><span class="String">figure.figsize</span><span class="String">'</span>: <span class="ID">fig_size</span>}</span>
<span class="line"><span class="LineNumber"><a href="#CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_17">  17</a> </span><span class="LineAnchor" id="CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_17"></span><span class="anchor" id="line-17-1"></span><span class="ID">pylab</span>.<span class="ID">rcParams</span>.<span class="ID">update</span>(<span class="ID">params</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_18">  18</a> </span><span class="LineAnchor" id="CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_18"></span><span class="anchor" id="line-18-1"></span><span class="Comment"># Generate data</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_19">  19</a> </span><span class="LineAnchor" id="CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_19"></span><span class="anchor" id="line-19-1"></span><span class="ID">x</span> = <span class="ID">pylab</span>.<span class="ID">arange</span>(-<span class="Number">2</span>*<span class="ID">pi</span>,<span class="Number">2</span>*<span class="ID">pi</span>,<span class="Number">0.01</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_20">  20</a> </span><span class="LineAnchor" id="CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_20"></span><span class="anchor" id="line-20-1"></span><span class="ID">y1</span> = <span class="ID">sin</span>(<span class="ID">x</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_21">  21</a> </span><span class="LineAnchor" id="CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_21"></span><span class="anchor" id="line-21-1"></span><span class="ID">y2</span> = <span class="ID">cos</span>(<span class="ID">x</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_22">  22</a> </span><span class="LineAnchor" id="CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_22"></span><span class="anchor" id="line-22-1"></span><span class="Comment"># Plot data</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_23">  23</a> </span><span class="LineAnchor" id="CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_23"></span><span class="anchor" id="line-23-1"></span><span class="ID">pylab</span>.<span class="ID">figure</span>(<span class="Number">1</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_24">  24</a> </span><span class="LineAnchor" id="CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_24"></span><span class="anchor" id="line-24-1"></span><span class="ID">pylab</span>.<span class="ID">clf</span>()</span>
<span class="line"><span class="LineNumber"><a href="#CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_25">  25</a> </span><span class="LineAnchor" id="CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_25"></span><span class="anchor" id="line-25-1"></span><span class="ID">pylab</span>.<span class="ID">axes</span>([<span class="Number">0.125</span>,<span class="Number">0.2</span>,<span class="Number">0.95</span>-<span class="Number">0.125</span>,<span class="Number">0.95</span>-<span class="Number">0.2</span>])</span>
<span class="line"><span class="LineNumber"><a href="#CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_26">  26</a> </span><span class="LineAnchor" id="CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_26"></span><span class="anchor" id="line-26-1"></span><span class="ID">pylab</span>.<span class="ID">plot</span>(<span class="ID">x</span>,<span class="ID">y1</span>,<span class="String">'</span><span class="String">g:</span><span class="String">'</span>,<span class="ID">label</span>=<span class="String">'</span><span class="String">$</span><span class="String">\</span><span class="String">sin(x)$</span><span class="String">'</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_27">  27</a> </span><span class="LineAnchor" id="CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_27"></span><span class="anchor" id="line-27-1"></span><span class="ID">pylab</span>.<span class="ID">plot</span>(<span class="ID">x</span>,<span class="ID">y2</span>,<span class="String">'</span><span class="String">-b</span><span class="String">'</span>,<span class="ID">label</span>=<span class="String">'</span><span class="String">$</span><span class="String">\</span><span class="String">cos(x)$</span><span class="String">'</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_28">  28</a> </span><span class="LineAnchor" id="CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_28"></span><span class="anchor" id="line-28-1"></span><span class="ID">pylab</span>.<span class="ID">xlabel</span>(<span class="String">'</span><span class="String">$x$ (radians)</span><span class="String">'</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_29">  29</a> </span><span class="LineAnchor" id="CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_29"></span><span class="anchor" id="line-29-1"></span><span class="ID">pylab</span>.<span class="ID">ylabel</span>(<span class="String">'</span><span class="String">$y$</span><span class="String">'</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_30">  30</a> </span><span class="LineAnchor" id="CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_30"></span><span class="anchor" id="line-30-1"></span><span class="ID">pylab</span>.<span class="ID">legend</span>()</span>
<span class="line"><span class="LineNumber"><a href="#CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_31">  31</a> </span><span class="LineAnchor" id="CA-4a6765d38bb7db022827f87fc5cae2619e693f5a_31"></span><span class="anchor" id="line-31-1"></span><span class="ID">pylab</span>.<span class="ID">savefig</span>(<span class="String">'</span><span class="String">fig1.eps</span><span class="String">'</span>)</span>
</pre></div></div><span class="anchor" id="line-108"></span><p class="line867"><img alt="fig.png" class="attachment" src="fig36cf.png?action=AttachFile&amp;do=get&amp;target=fig.png" title="fig.png" /> <span class="anchor" id="line-109"></span><span class="anchor" id="line-110"></span><p class="line867">
<h2 id="producing_gray_scale_dashed_plots">producing gray scale dashed plots</h2>
<span class="anchor" id="line-111"></span><ul><li style="list-style-type:none"><p class="line862">An obvious solution is to greyscale convert your figure, but for readibility, adding dashes is often better.. This maybe implemented for an example of a <a class="nonexistent" href="../../SigmoidalFunctions.html">SigmoidalFunctions</a> with <span class="anchor" id="line-112"></span><span class="anchor" id="line-113"></span><span class="anchor" id="line-114"></span><span class="anchor" id="line-115"></span><span class="anchor" id="line-116"></span><span class="anchor" id="line-117"></span><span class="anchor" id="line-118"></span><span class="anchor" id="line-119"></span><span class="anchor" id="line-120"></span><span class="anchor" id="line-121"></span><span class="anchor" id="line-122"></span><span class="anchor" id="line-123"></span><span class="anchor" id="line-124"></span><span class="anchor" id="line-125"></span><span class="anchor" id="line-126"></span><span class="anchor" id="line-127"></span><span class="anchor" id="line-128"></span><span class="anchor" id="line-129"></span><span class="anchor" id="line-130"></span><span class="anchor" id="line-131"></span><span class="anchor" id="line-132"></span><span class="anchor" id="line-133"></span><span class="anchor" id="line-134"></span><span class="anchor" id="line-135"></span><pre><span class="anchor" id="line-1-11"></span>from pylab import *
<span class="anchor" id="line-2-6"></span>from numpy import mod
<span class="anchor" id="line-3-6"></span>
<span class="anchor" id="line-4-6"></span>dashes = ['--', #    : dashed line
<span class="anchor" id="line-5-6"></span>          '-', #     : solid line
<span class="anchor" id="line-6-6"></span>          '-.', #   : dash-dot line
<span class="anchor" id="line-7-5"></span>          ':', #    : dotted line
<span class="anchor" id="line-8-4"></span>           '-']
<span class="anchor" id="line-9-4"></span>
<span class="anchor" id="line-10-3"></span>def NR(C,C50,n):
<span class="anchor" id="line-11-3"></span>    return (  ( C / C50)**n /( 1 + ( C / C50)**n ))
<span class="anchor" id="line-12-3"></span>
<span class="anchor" id="line-13-3"></span>figure(1)
<span class="anchor" id="line-14-2"></span>C = arange(0.0,3.0,0.1)
<span class="anchor" id="line-15-2"></span>C50 = arange(0.5,2.5,0.5)
<span class="anchor" id="line-16-2"></span>
<span class="anchor" id="line-17-2"></span>for i,c50 in enumerate(C50):
<span class="anchor" id="line-18-2"></span>    plot(C, NR(C,c50,2), label = 'C50 = ' + str(c50), c= 'k', linestyle = dashes[mod(i,len(dashes))] )
<span class="anchor" id="line-19-2"></span>
<span class="anchor" id="line-20-2"></span>xlabel('Contrast')
<span class="anchor" id="line-21-2"></span>ylabel('gain')
<span class="anchor" id="line-22-2"></span>legend(loc='lower right')
<span class="anchor" id="line-23-2"></span>savefig('naka-rushton.png')</pre><span class="anchor" id="line-136"></span></li></ul><p class="line867"><img alt="naka-rushton.png" class="attachment" src="naka-rushton1701.png?action=AttachFile&amp;do=get&amp;target=naka-rushton.png" title="naka-rushton.png" /> <span class="anchor" id="line-137"></span><span class="anchor" id="line-138"></span><p class="line867">
<h2 id="LaTeX_using_psfrag">LaTeX using psfrag</h2>
<span class="anchor" id="line-139"></span><p class="line867"><strong>Note: This section is obsolete.</strong> Recent versions matplotlib break the psfrag functionality (see for example <a class="http" href="../../../external.html?link=http://article.gmane.org/gmane.comp.python.matplotlib.general/26740/">this discussion</a>.  That being said, one can use the usetex feature to render the LaTeX text directly with very good results (if you are careful about choosing fonts).  I will try to discuss this here further in the near future.  -- <a class="nonexistent" href="../../MichaelMcNeilForbes.html">MichaelMcNeilForbes</a> <span class="anchor" id="line-140"></span><span class="anchor" id="line-141"></span><p class="line862">To ensure that your graphics use exactly the same fonts as your document, you can have LaTeX generate and substitute the text for your graph using the psfrag package.  This is a good option if you have problems with the <tt class="backtick">text.usetex</tt> method (for example, if the appropriate fonts cannot be found.) <span class="anchor" id="line-142"></span><span class="anchor" id="line-143"></span><p class="line874">To do this, simply use plain text for the labels and then replace them using the psfrag package.  Here are the modified files to make use of this method: <span class="anchor" id="line-144"></span><span class="anchor" id="line-145"></span><p class="line867"><span class="anchor" id="line-146"></span><span class="anchor" id="line-147"></span><span class="anchor" id="line-148"></span><span class="anchor" id="line-149"></span><span class="anchor" id="line-150"></span><span class="anchor" id="line-151"></span><span class="anchor" id="line-152"></span><span class="anchor" id="line-153"></span><span class="anchor" id="line-154"></span><span class="anchor" id="line-155"></span><span class="anchor" id="line-156"></span><span class="anchor" id="line-157"></span><span class="anchor" id="line-158"></span><span class="anchor" id="line-159"></span><span class="anchor" id="line-160"></span><span class="anchor" id="line-161"></span><span class="anchor" id="line-162"></span><span class="anchor" id="line-163"></span><span class="anchor" id="line-164"></span><span class="anchor" id="line-165"></span><span class="anchor" id="line-166"></span><span class="anchor" id="line-167"></span><span class="anchor" id="line-168"></span><span class="anchor" id="line-169"></span><span class="anchor" id="line-170"></span><span class="anchor" id="line-171"></span><span class="anchor" id="line-172"></span><span class="anchor" id="line-173"></span><span class="anchor" id="line-174"></span><span class="anchor" id="line-175"></span><span class="anchor" id="line-176"></span><span class="anchor" id="line-177"></span><span class="anchor" id="line-178"></span><span class="anchor" id="line-179"></span><span class="anchor" id="line-180"></span><pre><span class="anchor" id="line-1-12"></span>\documentclass[prl,10pt,twocolumn]{revtex4}
<span class="anchor" id="line-2-7"></span>\usepackage{graphicx}    % Used to import the graphics
<span class="anchor" id="line-3-7"></span>\usepackage{psfrag}
<span class="anchor" id="line-4-7"></span>\begin{document}
<span class="anchor" id="line-5-7"></span>%...
<span class="anchor" id="line-6-7"></span>\begin{figure}[t]
<span class="anchor" id="line-7-6"></span>  \begin{center}
<span class="anchor" id="line-8-5"></span>    \psfrag{sin(x)}{$\sin(x)$}
<span class="anchor" id="line-9-5"></span>    \psfrag{cos(x)}{$\cos(x)$}
<span class="anchor" id="line-10-4"></span>    \psfrag{x (radians)}{$x$ (radians)}
<span class="anchor" id="line-11-4"></span>    \psfrag{y}{$y$}
<span class="anchor" id="line-12-4"></span>    {\footnotesize                  % Replace tick-lables with smaller font.
<span class="anchor" id="line-13-4"></span>      \psfrag{1.0}{1.0}
<span class="anchor" id="line-14-3"></span>      \psfrag{0.5}{0.5}
<span class="anchor" id="line-15-3"></span>      \psfrag{0.0}{0.0}
<span class="anchor" id="line-16-3"></span>      \psfrag{-0.5}{-0.5}
<span class="anchor" id="line-17-3"></span>      \psfrag{-1.0}{-1.0}
<span class="anchor" id="line-18-3"></span>      \psfrag{-8}{-8}
<span class="anchor" id="line-19-3"></span>      \psfrag{-6}{-6}
<span class="anchor" id="line-20-3"></span>      \psfrag{-4}{-4}
<span class="anchor" id="line-21-3"></span>      \psfrag{-2}{-2}
<span class="anchor" id="line-22-3"></span>      \psfrag{0}{0}
<span class="anchor" id="line-23-3"></span>      \psfrag{2}{2}
<span class="anchor" id="line-24-2"></span>      \psfrag{4}{4}
<span class="anchor" id="line-25-2"></span>      \psfrag{6}{6}
<span class="anchor" id="line-26-2"></span>      \psfrag{8}{8}
<span class="anchor" id="line-27-2"></span>      \showthe\columnwidth % Use this to determine the width of the figure.
<span class="anchor" id="line-28-2"></span>      \includegraphics[width=\columnwidth]{fig2.eps}
<span class="anchor" id="line-29-2"></span>    } % Note that the psfrag commands only work in the top-most environment.
<span class="anchor" id="line-30-2"></span>    \caption{\label{fig:sin_cos} Plot of the sine and cosine functions.}
<span class="anchor" id="line-31-2"></span>  \end{center}
<span class="anchor" id="line-32-1"></span>\end{figure}
<span class="anchor" id="line-33-1"></span>%...
<span class="anchor" id="line-34-1"></span>\end{document}</pre><span class="anchor" id="line-181"></span><p class="line867"><span class="anchor" id="line-182"></span><span class="anchor" id="line-183"></span><span class="anchor" id="line-184"></span><span class="anchor" id="line-185"></span><span class="anchor" id="line-186"></span><span class="anchor" id="line-187"></span><span class="anchor" id="line-188"></span><span class="anchor" id="line-189"></span><span class="anchor" id="line-190"></span><span class="anchor" id="line-191"></span><span class="anchor" id="line-192"></span><span class="anchor" id="line-193"></span><span class="anchor" id="line-194"></span><span class="anchor" id="line-195"></span><span class="anchor" id="line-196"></span><span class="anchor" id="line-197"></span><span class="anchor" id="line-198"></span><span class="anchor" id="line-199"></span><span class="anchor" id="line-200"></span><span class="anchor" id="line-201"></span><span class="anchor" id="line-202"></span><span class="anchor" id="line-203"></span><span class="anchor" id="line-204"></span><span class="anchor" id="line-205"></span><span class="anchor" id="line-206"></span><span class="anchor" id="line-207"></span><span class="anchor" id="line-208"></span><span class="anchor" id="line-209"></span><span class="anchor" id="line-210"></span><span class="anchor" id="line-211"></span><span class="anchor" id="line-212"></span><span class="anchor" id="line-213"></span><span class="anchor" id="line-214"></span><span class="anchor" id="line-215"></span><span class="anchor" id="line-1-13"></span><div class="highlight python"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-3b44923669a4853e36b3340258803f1948d16bb0\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script>
<pre dir="ltr" id="CA-3b44923669a4853e36b3340258803f1948d16bb0" lang="en"><span class="line"><span class="LineNumber"><a href="#CA-3b44923669a4853e36b3340258803f1948d16bb0_1">   1</a> </span><span class="LineAnchor" id="CA-3b44923669a4853e36b3340258803f1948d16bb0_1"></span><span class="anchor" id="line-1-14"></span><span class="ResWord">import</span> <span class="ID">pylab</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-3b44923669a4853e36b3340258803f1948d16bb0_2">   2</a> </span><span class="LineAnchor" id="CA-3b44923669a4853e36b3340258803f1948d16bb0_2"></span><span class="anchor" id="line-2-8"></span><span class="ResWord">from</span> <span class="ID">pylab</span> <span class="ResWord">import</span> <span class="ID">arange</span>,<span class="ID">pi</span>,<span class="ID">sin</span>,<span class="ID">cos</span>,<span class="ID">sqrt</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-3b44923669a4853e36b3340258803f1948d16bb0_3">   3</a> </span><span class="LineAnchor" id="CA-3b44923669a4853e36b3340258803f1948d16bb0_3"></span><span class="anchor" id="line-3-8"></span><span class="ID">fig_width_pt</span> = <span class="Number">246.0</span>  <span class="Comment"># Get this from LaTeX using \showthe\columnwidth</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-3b44923669a4853e36b3340258803f1948d16bb0_4">   4</a> </span><span class="LineAnchor" id="CA-3b44923669a4853e36b3340258803f1948d16bb0_4"></span><span class="anchor" id="line-4-8"></span><span class="ID">inches_per_pt</span> = <span class="Number">1.0</span>/<span class="Number">72.27</span>               <span class="Comment"># Convert pt to inch</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-3b44923669a4853e36b3340258803f1948d16bb0_5">   5</a> </span><span class="LineAnchor" id="CA-3b44923669a4853e36b3340258803f1948d16bb0_5"></span><span class="anchor" id="line-5-8"></span><span class="ID">golden_mean</span> = (<span class="ID">sqrt</span>(<span class="Number">5</span>)-<span class="Number">1.0</span>)/<span class="Number">2.0</span>         <span class="Comment"># Aesthetic ratio</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-3b44923669a4853e36b3340258803f1948d16bb0_6">   6</a> </span><span class="LineAnchor" id="CA-3b44923669a4853e36b3340258803f1948d16bb0_6"></span><span class="anchor" id="line-6-8"></span><span class="ID">fig_width</span> = <span class="ID">fig_width_pt</span>*<span class="ID">inches_per_pt</span>  <span class="Comment"># width in inches</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-3b44923669a4853e36b3340258803f1948d16bb0_7">   7</a> </span><span class="LineAnchor" id="CA-3b44923669a4853e36b3340258803f1948d16bb0_7"></span><span class="anchor" id="line-7-7"></span><span class="ID">fig_height</span> = <span class="ID">fig_width</span>*<span class="ID">golden_mean</span>      <span class="Comment"># height in inches</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-3b44923669a4853e36b3340258803f1948d16bb0_8">   8</a> </span><span class="LineAnchor" id="CA-3b44923669a4853e36b3340258803f1948d16bb0_8"></span><span class="anchor" id="line-8-6"></span><span class="ID">fig_size</span> =  [<span class="ID">fig_width</span>,<span class="ID">fig_height</span>]</span>
<span class="line"><span class="LineNumber"><a href="#CA-3b44923669a4853e36b3340258803f1948d16bb0_9">   9</a> </span><span class="LineAnchor" id="CA-3b44923669a4853e36b3340258803f1948d16bb0_9"></span><span class="anchor" id="line-9-6"></span><span class="ID">params</span> = {<span class="String">'</span><span class="String">backend</span><span class="String">'</span>: <span class="String">'</span><span class="String">ps</span><span class="String">'</span>,</span>
<span class="line"><span class="LineNumber"><a href="#CA-3b44923669a4853e36b3340258803f1948d16bb0_10">  10</a> </span><span class="LineAnchor" id="CA-3b44923669a4853e36b3340258803f1948d16bb0_10"></span><span class="anchor" id="line-10-5"></span>          <span class="String">'</span><span class="String">axes.labelsize</span><span class="String">'</span>: <span class="Number">10</span>,</span>
<span class="line"><span class="LineNumber"><a href="#CA-3b44923669a4853e36b3340258803f1948d16bb0_11">  11</a> </span><span class="LineAnchor" id="CA-3b44923669a4853e36b3340258803f1948d16bb0_11"></span><span class="anchor" id="line-11-5"></span>          <span class="String">'</span><span class="String">text.fontsize</span><span class="String">'</span>: <span class="Number">10</span>,</span>
<span class="line"><span class="LineNumber"><a href="#CA-3b44923669a4853e36b3340258803f1948d16bb0_12">  12</a> </span><span class="LineAnchor" id="CA-3b44923669a4853e36b3340258803f1948d16bb0_12"></span><span class="anchor" id="line-12-5"></span>          <span class="String">'</span><span class="String">legend.fontsize</span><span class="String">'</span>: <span class="Number">10</span>,</span>
<span class="line"><span class="LineNumber"><a href="#CA-3b44923669a4853e36b3340258803f1948d16bb0_13">  13</a> </span><span class="LineAnchor" id="CA-3b44923669a4853e36b3340258803f1948d16bb0_13"></span><span class="anchor" id="line-13-5"></span>          <span class="String">'</span><span class="String">xtick.labelsize</span><span class="String">'</span>: <span class="Number">8</span>,</span>
<span class="line"><span class="LineNumber"><a href="#CA-3b44923669a4853e36b3340258803f1948d16bb0_14">  14</a> </span><span class="LineAnchor" id="CA-3b44923669a4853e36b3340258803f1948d16bb0_14"></span><span class="anchor" id="line-14-4"></span>          <span class="String">'</span><span class="String">ytick.labelsize</span><span class="String">'</span>: <span class="Number">8</span>,</span>
<span class="line"><span class="LineNumber"><a href="#CA-3b44923669a4853e36b3340258803f1948d16bb0_15">  15</a> </span><span class="LineAnchor" id="CA-3b44923669a4853e36b3340258803f1948d16bb0_15"></span><span class="anchor" id="line-15-4"></span>          <span class="String">'</span><span class="String">text.usetex</span><span class="String">'</span>: <span class="ResWord">False</span>,</span>
<span class="line"><span class="LineNumber"><a href="#CA-3b44923669a4853e36b3340258803f1948d16bb0_16">  16</a> </span><span class="LineAnchor" id="CA-3b44923669a4853e36b3340258803f1948d16bb0_16"></span><span class="anchor" id="line-16-4"></span>          <span class="String">'</span><span class="String">figure.figsize</span><span class="String">'</span>: <span class="ID">fig_size</span>}</span>
<span class="line"><span class="LineNumber"><a href="#CA-3b44923669a4853e36b3340258803f1948d16bb0_17">  17</a> </span><span class="LineAnchor" id="CA-3b44923669a4853e36b3340258803f1948d16bb0_17"></span><span class="anchor" id="line-17-4"></span><span class="ID">pylab</span>.<span class="ID">rcParams</span>.<span class="ID">update</span>(<span class="ID">params</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-3b44923669a4853e36b3340258803f1948d16bb0_18">  18</a> </span><span class="LineAnchor" id="CA-3b44923669a4853e36b3340258803f1948d16bb0_18"></span><span class="anchor" id="line-18-4"></span><span class="Comment"># Generate data</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-3b44923669a4853e36b3340258803f1948d16bb0_19">  19</a> </span><span class="LineAnchor" id="CA-3b44923669a4853e36b3340258803f1948d16bb0_19"></span><span class="anchor" id="line-19-4"></span><span class="ID">x</span> = <span class="ID">pylab</span>.<span class="ID">arange</span>(-<span class="Number">2</span>*<span class="ID">pi</span>,<span class="Number">2</span>*<span class="ID">pi</span>,<span class="Number">0.01</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-3b44923669a4853e36b3340258803f1948d16bb0_20">  20</a> </span><span class="LineAnchor" id="CA-3b44923669a4853e36b3340258803f1948d16bb0_20"></span><span class="anchor" id="line-20-4"></span><span class="ID">y1</span> = <span class="ID">sin</span>(<span class="ID">x</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-3b44923669a4853e36b3340258803f1948d16bb0_21">  21</a> </span><span class="LineAnchor" id="CA-3b44923669a4853e36b3340258803f1948d16bb0_21"></span><span class="anchor" id="line-21-4"></span><span class="ID">y2</span> = <span class="ID">cos</span>(<span class="ID">x</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-3b44923669a4853e36b3340258803f1948d16bb0_22">  22</a> </span><span class="LineAnchor" id="CA-3b44923669a4853e36b3340258803f1948d16bb0_22"></span><span class="anchor" id="line-22-4"></span><span class="Comment"># Plot data</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-3b44923669a4853e36b3340258803f1948d16bb0_23">  23</a> </span><span class="LineAnchor" id="CA-3b44923669a4853e36b3340258803f1948d16bb0_23"></span><span class="anchor" id="line-23-4"></span><span class="Comment"># Plot data</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-3b44923669a4853e36b3340258803f1948d16bb0_24">  24</a> </span><span class="LineAnchor" id="CA-3b44923669a4853e36b3340258803f1948d16bb0_24"></span><span class="anchor" id="line-24-3"></span><span class="ID">pylab</span>.<span class="ID">figure</span>(<span class="Number">1</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-3b44923669a4853e36b3340258803f1948d16bb0_25">  25</a> </span><span class="LineAnchor" id="CA-3b44923669a4853e36b3340258803f1948d16bb0_25"></span><span class="anchor" id="line-25-3"></span><span class="ID">pylab</span>.<span class="ID">clf</span>()</span>
<span class="line"><span class="LineNumber"><a href="#CA-3b44923669a4853e36b3340258803f1948d16bb0_26">  26</a> </span><span class="LineAnchor" id="CA-3b44923669a4853e36b3340258803f1948d16bb0_26"></span><span class="anchor" id="line-26-3"></span><span class="ID">pylab</span>.<span class="ID">axes</span>([<span class="Number">0.125</span>,<span class="Number">0.2</span>,<span class="Number">0.95</span>-<span class="Number">0.125</span>,<span class="Number">0.95</span>-<span class="Number">0.2</span>])</span>
<span class="line"><span class="LineNumber"><a href="#CA-3b44923669a4853e36b3340258803f1948d16bb0_27">  27</a> </span><span class="LineAnchor" id="CA-3b44923669a4853e36b3340258803f1948d16bb0_27"></span><span class="anchor" id="line-27-3"></span><span class="ID">pylab</span>.<span class="ID">plot</span>(<span class="ID">x</span>,<span class="ID">y1</span>,<span class="String">'</span><span class="String">g:</span><span class="String">'</span>,<span class="ID">label</span>=<span class="String">'</span><span class="String">sin(x)</span><span class="String">'</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-3b44923669a4853e36b3340258803f1948d16bb0_28">  28</a> </span><span class="LineAnchor" id="CA-3b44923669a4853e36b3340258803f1948d16bb0_28"></span><span class="anchor" id="line-28-3"></span><span class="ID">pylab</span>.<span class="ID">plot</span>(<span class="ID">x</span>,<span class="ID">y2</span>,<span class="String">'</span><span class="String">-b</span><span class="String">'</span>,<span class="ID">label</span>=<span class="String">'</span><span class="String">cos(x)</span><span class="String">'</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-3b44923669a4853e36b3340258803f1948d16bb0_29">  29</a> </span><span class="LineAnchor" id="CA-3b44923669a4853e36b3340258803f1948d16bb0_29"></span><span class="anchor" id="line-29-3"></span><span class="ID">pylab</span>.<span class="ID">xlabel</span>(<span class="String">'</span><span class="String">x (radians)</span><span class="String">'</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-3b44923669a4853e36b3340258803f1948d16bb0_30">  30</a> </span><span class="LineAnchor" id="CA-3b44923669a4853e36b3340258803f1948d16bb0_30"></span><span class="anchor" id="line-30-3"></span><span class="ID">pylab</span>.<span class="ID">ylabel</span>(<span class="String">'</span><span class="String">y</span><span class="String">'</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-3b44923669a4853e36b3340258803f1948d16bb0_31">  31</a> </span><span class="LineAnchor" id="CA-3b44923669a4853e36b3340258803f1948d16bb0_31"></span><span class="anchor" id="line-31-3"></span><span class="ID">pylab</span>.<span class="ID">legend</span>()</span>
<span class="line"><span class="LineNumber"><a href="#CA-3b44923669a4853e36b3340258803f1948d16bb0_32">  32</a> </span><span class="LineAnchor" id="CA-3b44923669a4853e36b3340258803f1948d16bb0_32"></span><span class="anchor" id="line-32-2"></span><span class="ID">pylab</span>.<span class="ID">savefig</span>(<span class="String">'</span><span class="String">fig2.eps</span><span class="String">'</span>)</span>
</pre></div></div><span class="anchor" id="line-216"></span><p class="line867"><img alt="psfrag_example.png" class="attachment" src="psfrag_example7f80.png?action=AttachFile&amp;do=get&amp;target=psfrag_example.png" title="psfrag_example.png" /> <span class="anchor" id="line-217"></span><span class="anchor" id="line-218"></span><p class="line867">
<h2 id="Odds_and_Ends">Odds and Ends</h2>
<span class="anchor" id="line-219"></span><p class="line874">Another way to set the legend fonts after the legend has been drawn is to use, for example: <span class="anchor" id="line-220"></span><span class="anchor" id="line-221"></span><span class="anchor" id="line-222"></span><span class="anchor" id="line-223"></span><span class="anchor" id="line-224"></span><pre><span class="anchor" id="line-1-15"></span>from matplotlib.font_manager import fontManager, FontProperties
<span class="anchor" id="line-2-9"></span>font= FontProperties(size='x-small');
<span class="anchor" id="line-3-9"></span>pylab.legend(loc=0, prop=font);</pre><span class="anchor" id="line-225"></span><p class="line862">-- <a class="nonexistent" href="../../DavidDonovan.html">DavidDonovan</a> <span class="anchor" id="line-226"></span><span class="anchor" id="line-227"></span><p class="line867">
<h3 id="PDF_File_Size">PDF File Size</h3>
<span class="anchor" id="line-228"></span><p class="line874">If you have very complex images such as high-resolution contour plots or three-dimensional plots, saving these to vector graphic formats like PDF or EPS can result in unacceptably large files (though with the ability for stunning zooms).  One solution is to selectively convert parts of the plot (not the text labels) to a rasterized image.  This can be done with the so-called &quot;mixed-mode rendering&quot; capability in recent versions of matplotlib.  Here is an example as it should probably work: <span class="anchor" id="line-229"></span><span class="anchor" id="line-230"></span><span class="anchor" id="line-231"></span><span class="anchor" id="line-232"></span><span class="anchor" id="line-233"></span><span class="anchor" id="line-234"></span><span class="anchor" id="line-235"></span><span class="anchor" id="line-236"></span><span class="anchor" id="line-237"></span><span class="anchor" id="line-238"></span><span class="anchor" id="line-239"></span><span class="anchor" id="line-1-16"></span><div class="highlight python"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-b65b1ae13f68488d1deea9d56b3413a9d3a22ce7\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script>
<pre dir="ltr" id="CA-b65b1ae13f68488d1deea9d56b3413a9d3a22ce7" lang="en"><span class="line"><span class="LineNumber"><a href="#CA-b65b1ae13f68488d1deea9d56b3413a9d3a22ce7_1">   1</a> </span><span class="LineAnchor" id="CA-b65b1ae13f68488d1deea9d56b3413a9d3a22ce7_1"></span><span class="anchor" id="line-1-17"></span><span class="ResWord">from</span> <span class="ID">pylab</span> <span class="ResWord">import</span> <span class="ID">meshgrid</span>, <span class="ID">sin</span>, <span class="ID">cos</span>, <span class="ID">linspace</span>, <span class="ID">contourf</span>, <span class="ID">savefig</span>, <span class="ID">clf</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-b65b1ae13f68488d1deea9d56b3413a9d3a22ce7_2">   2</a> </span><span class="LineAnchor" id="CA-b65b1ae13f68488d1deea9d56b3413a9d3a22ce7_2"></span><span class="anchor" id="line-2-10"></span><span class="ID">x</span>, <span class="ID">y</span> = <span class="ID">meshgrid</span>(*(<span class="ID">linspace</span>(-<span class="Number">1</span>,<span class="Number">1</span>,<span class="Number">500</span>),)*<span class="Number">2</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-b65b1ae13f68488d1deea9d56b3413a9d3a22ce7_3">   3</a> </span><span class="LineAnchor" id="CA-b65b1ae13f68488d1deea9d56b3413a9d3a22ce7_3"></span><span class="anchor" id="line-3-10"></span><span class="ID">z</span> = <span class="ID">sin</span>(<span class="Number">20</span>*<span class="ID">x</span>**<span class="Number">2</span>)*<span class="ID">cos</span>(<span class="Number">30</span>*<span class="ID">y</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-b65b1ae13f68488d1deea9d56b3413a9d3a22ce7_4">   4</a> </span><span class="LineAnchor" id="CA-b65b1ae13f68488d1deea9d56b3413a9d3a22ce7_4"></span><span class="anchor" id="line-4-9"></span><span class="ID">c</span> = <span class="ID">contourf</span>(<span class="ID">x</span>,<span class="ID">y</span>,<span class="ID">z</span>,<span class="Number">50</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-b65b1ae13f68488d1deea9d56b3413a9d3a22ce7_5">   5</a> </span><span class="LineAnchor" id="CA-b65b1ae13f68488d1deea9d56b3413a9d3a22ce7_5"></span><span class="anchor" id="line-5-9"></span><span class="ID">savefig</span>(<span class="String">'</span><span class="String">full_vector.pdf</span><span class="String">'</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-b65b1ae13f68488d1deea9d56b3413a9d3a22ce7_6">   6</a> </span><span class="LineAnchor" id="CA-b65b1ae13f68488d1deea9d56b3413a9d3a22ce7_6"></span><span class="anchor" id="line-6-9"></span><span class="ID">clf</span>()</span>
<span class="line"><span class="LineNumber"><a href="#CA-b65b1ae13f68488d1deea9d56b3413a9d3a22ce7_7">   7</a> </span><span class="LineAnchor" id="CA-b65b1ae13f68488d1deea9d56b3413a9d3a22ce7_7"></span><span class="anchor" id="line-7-8"></span><span class="ID">c</span> = <span class="ID">contourf</span>(<span class="ID">x</span>,<span class="ID">y</span>,<span class="ID">z</span>,<span class="Number">50</span>,<span class="ID">rasterized</span>=<span class="ResWord">True</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-b65b1ae13f68488d1deea9d56b3413a9d3a22ce7_8">   8</a> </span><span class="LineAnchor" id="CA-b65b1ae13f68488d1deea9d56b3413a9d3a22ce7_8"></span><span class="anchor" id="line-8-7"></span><span class="ID">savefig</span>(<span class="String">'</span><span class="String">rasterized.pdf</span><span class="String">'</span>)</span>
</pre></div></div><span class="anchor" id="line-240"></span><p class="line862">however, <tt>contourf</tt> currently does not support the <tt>rasterized</tt> option (which is silently ignored).  Some other plot elements do however.  I am looking into a solution for this.  -- <a class="nonexistent" href="../../MichaelMcNeilForbes.html">MichaelMcNeilForbes</a> <span class="anchor" id="line-241"></span><span class="anchor" id="line-242"></span><span class="anchor" id="line-243"></span><span class="anchor" id="line-244"></span><p class="line867"><a href="../../CategoryCookbookMatplotlib.html"><strong class="highlight">CategoryCookbook</strong>Matplotlib</a> <span class="anchor" id="line-245"></span><span class="anchor" id="bottom"></span></div><p id="pageinfo" class="info" lang="en" dir="ltr">SciPy: Cookbook/Matplotlib/LaTeX_Examples  (last edited 2015-10-24 17:48:23 by <span title="">anonymous</span>)</p>

<div id="pagebottom"></div>
</div>


<div id="footer">
<ul class="editbar"><li class="toggleCommentsButton" style="display:none;"><a href="#" class="nbcomment" onClick="toggleComments();return false;">Comments</a></li><li><a class="nbattachments" href="LaTeX_Examples37dc.html?action=AttachFile" rel="nofollow">Attachments</a></li><li>
<form class="actionsmenu" method="GET" action="../../../external.html?link=http://localhost:8080/Cookbook/Matplotlib/LaTeX_Examples">
<div>
    <label>More Actions:</label>
    <select name="action"
        onchange="if ((this.selectedIndex != 0) &&
                      (this.options[this.selectedIndex].disabled == false)) {
                this.form.submit();
            }
            this.selectedIndex = 0;">
        <option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="RenamePage" disabled class="disabled">Rename Page</option>
<option value="DeletePage" disabled class="disabled">Delete Page</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Subscribe User</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Remove Spam</option>
<option value="show" disabled class="disabled">Revert to this revision</option>
    </select>
    <input type="submit" value="Do">
    
</div>
<script type="text/javascript">
<!--// Init menu
actionsMenuInit('More Actions:');
//-->
</script>
</form>
</li></ul>

<ul id="credits">
<li><a href="../../../external.html?link=http://moinmo.in/" title="This site uses the MoinMoin Wiki software.">MoinMoin Powered</a></li><li><a href="../../../external.html?link=http://moinmo.in/Python" title="MoinMoin is written in Python.">Python Powered</a></li><li><a href="../../../external.html?link=http://moinmo.in/GPL" title="MoinMoin is GPL licensed.">GPL licensed</a></li><li><a href="../../../external.html?link=http://validator.w3.org/check?uri=referer" title="Click here to validate this page.">Valid HTML 4.01</a></li>
</ul>


</div>
</body>

<!-- Mirrored from localhost:8080/Cookbook/Matplotlib/LaTeX_Examples?highlight=%28%28CategoryCookbook%29%29 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 29 Oct 2015 23:34:10 GMT -->
</html>

