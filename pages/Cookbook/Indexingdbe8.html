<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>

<!-- Mirrored from localhost:8080/Cookbook/Indexing?action=recoverpass by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 29 Oct 2015 23:19:03 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<meta name="edit_on_doubleclick" content="/">
<meta name="robots" content="noindex,nofollow">

<title>Cookbook/Indexing - SciPy wiki dump</title>
<script type="text/javascript" src="../moin_static197/common/js/common.js"></script>

<script type="text/javascript">
<!--
var search_hint = "Search";
//-->
</script>


<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="../moin_static197/modern/css/common.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="screen" href="../moin_static197/modern/css/screen.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="print" href="../moin_static197/modern/css/print.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="projection" href="../moin_static197/modern/css/projection.css">

<!-- css only for MS IE6/IE7 browsers -->
<!--[if lt IE 8]>
   <link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="/moin_static197/modern/css/msie.css">
<![endif]-->


<link rel="alternate" title="SciPy: Cookbook/Indexing" href="../../external.html?link=http://localhost:8080/Cookbook/Indexing?diffs=1&amp;show_att=1&amp;action=rss_rc&amp;unique=0&amp;page=Cookbook%2FIndexing&amp;ddiffs=1" type="application/rss+xml">


<link rel="Start" href="../AllPages.html">
<link rel="Alternate" title="Wiki Markup" href="../../external.html?link=http://localhost:8080/Cookbook/Indexing?action=raw">
<link rel="Alternate" media="print" title="Print View" href="../../external.html?link=http://localhost:8080/Cookbook/Indexing?action=print">
<link rel="Up" href="../Cookbook.html">
<link rel="Search" href="../FindPage.html">
<link rel="Index" href="../TitleIndex.html">
<link rel="Glossary" href="../WordIndex.html">
<link rel="Help" href="../HelpOnFormatting.html">
</head>

<body  lang="en" dir="ltr"><div style="background: white; width:100%; padding:2em;">This is an archival dump of old wiki content --- see <a href="http://scipy.org/">scipy.org</a> for current material</div>

<div id="header">


<form id="searchform" method="get" action="../../external.html?link=http://localhost:8080/Cookbook/Indexing">
<div>
<input type="hidden" name="action" value="fullsearch">
<input type="hidden" name="context" value="180">
<label for="searchinput">Search:</label>
<input id="searchinput" type="text" name="value" value="" size="20"
    onfocus="searchFocus(this)" onblur="searchBlur(this)"
    onkeyup="searchChange(this)" onchange="searchChange(this)" alt="Search">
<input id="titlesearch" name="titlesearch" type="submit"
    value="Titles" alt="Search Titles">
<input id="fullsearch" name="fullsearch" type="submit"
    value="Text" alt="Search Full Text">
</div>
</form>
<script type="text/javascript">
<!--// Initialize search form
var f = document.getElementById('searchform');
f.getElementsByTagName('label')[0].style.display = 'none';
var e = document.getElementById('searchinput');
searchChange(e);
searchBlur(e);
//-->
</script>

<ul id="username"><li><a href="Indexing456e.html?action=login" id="login" rel="nofollow">Login</a></li></ul>
<div id="locationline">
<div id="interwiki"><span><a href="../AllPages.html" rel="nofollow">SciPy</a></span></div>

<ul id="pagelocation">
<li><a href="../Cookbook.html">Cookbook</a></li><li><a class="backlink" href="Indexingb7b6.html?action=fullsearch&amp;context=180&amp;value=linkto%3A%22Cookbook%2FIndexing%22" rel="nofollow" title="Click to do a full-text search for this title">Indexing</a></li>
</ul>

</div>


<ul id="navibar">
<li class="wikilink"><a href="../RecentChanges.html">RecentChanges</a></li><li class="wikilink"><a class="nonexistent" href="../FindPage.html">FindPage</a></li><li class="wikilink"><a class="nonexistent" href="../HelpContents.html">HelpContents</a></li><li class="current"><a href="Indexing.html">Cookbook/Indexing</a></li>
</ul>

<div id="pageline"><hr style="display:none;"></div>
<div id="message">
<p><div class="warning">This wiki is not enabled for mail processing.
Contact the owner of the wiki, who can enable email.</div></p><a class="clear-link" href="Indexing.html">Clear message</a>
</div>

<ul class="editbar"><li class="toggleCommentsButton" style="display:none;"><a href="#" class="nbcomment" onClick="toggleComments();return false;">Comments</a></li><li><a class="nbattachments" href="Indexing37dc.html?action=AttachFile" rel="nofollow">Attachments</a></li><li>
<form class="actionsmenu" method="GET" action="../../external.html?link=http://localhost:8080/Cookbook/Indexing">
<div>
    <label>More Actions:</label>
    <select name="action"
        onchange="if ((this.selectedIndex != 0) &&
                      (this.options[this.selectedIndex].disabled == false)) {
                this.form.submit();
            }
            this.selectedIndex = 0;">
        <option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="RenamePage" disabled class="disabled">Rename Page</option>
<option value="DeletePage" disabled class="disabled">Delete Page</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Subscribe User</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Remove Spam</option>
<option value="show" disabled class="disabled">Revert to this revision</option>
    </select>
    <input type="submit" value="Do">
    
</div>
<script type="text/javascript">
<!--// Init menu
actionsMenuInit('More Actions:');
//-->
</script>
</form>
</li></ul>

</div>

<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en"><span class="anchor" id="top"></span>
<span class="anchor" id="line-1"></span><p class="line867">
<h1 id="Indexing_numpy_arrays">Indexing numpy arrays</h1>
<span class="anchor" id="line-2"></span><p class="line874">The whole point of numpy is to introduce a multidimensional array object for holding homogeneously-typed numerical data. This is of course a useful tool for storing data, but it is also possible to manipulate large numbers of values without writing inefficient python loops. To accomplish this, one needs to be able to refer to elements of the arrays in many different ways, from simple &quot;slices&quot; to using arrays as lookup tables. The purpose of this page is to go over the various different types of indexing available. Hopefully the sometimes-peculiar syntax will also become more clear. <span class="anchor" id="line-3"></span><span class="anchor" id="line-4"></span><p class="line867"><div class="table-of-contents"><p class="table-of-contents-heading">Contents<ol><li>
<a href="#Indexing_numpy_arrays">Indexing numpy arrays</a><ol><li>
<a href="#Elements">Elements</a></li><li>
<a href="#Slices">Slices</a><ol><li>
<a href="#One-dimensional_slices">One-dimensional slices</a></li><li>
<a href="#Multidimensional_slices">Multidimensional slices</a></li><li>
<a href="#Views_versus_copies">Views versus copies</a></li></ol></li><li>
<a href="#Fancy_indexing">Fancy indexing</a><ol><li>
<a href="#Boolean_indexing">Boolean indexing</a><ol><li>
<a href="#Multidimensional_boolean_indexing">Multidimensional boolean indexing</a></li></ol></li><li>
<a href="#List-of-locations_indexing">List-of-locations indexing</a><ol><li>
<a href="#Multidimensional_list-of-locations_indexing">Multidimensional list-of-locations indexing</a></li><li>
<a href="#Picking_out_rows_and_columns">Picking out rows and columns</a></li></ol></li></ol></li><li>
<a href="#Mixed_indexing_modes">Mixed indexing modes</a></li><li>
<a href="#How_indexing_works_under_the_hood">How indexing works under the hood</a></li><li>
<a href="#Array-like_objects">Array-like objects</a></li></ol></li></ol></div> <span class="anchor" id="line-5"></span><span class="anchor" id="line-6"></span><p class="line874">We will use the same arrays as examples wherever possible: <span class="anchor" id="line-7"></span><span class="anchor" id="line-8"></span><p class="line867"><span class="anchor" id="line-9"></span><span class="anchor" id="line-10"></span><span class="anchor" id="line-11"></span><span class="anchor" id="line-12"></span><span class="anchor" id="line-13"></span><span class="anchor" id="line-14"></span><span class="anchor" id="line-15"></span><span class="anchor" id="line-16"></span><span class="anchor" id="line-17"></span><span class="anchor" id="line-18"></span><span class="anchor" id="line-19"></span><span class="anchor" id="line-20"></span><span class="anchor" id="line-21"></span><span class="anchor" id="line-22"></span><span class="anchor" id="line-23"></span><span class="anchor" id="line-24"></span><span class="anchor" id="line-25"></span><span class="anchor" id="line-26"></span><span class="anchor" id="line-27"></span><span class="anchor" id="line-28"></span><span class="anchor" id="line-29"></span><span class="anchor" id="line-30"></span><span class="anchor" id="line-31"></span><span class="anchor" id="line-1-1"></span><div class="highlight python"><div class="codearea" dir="ltr" lang="en"><pre dir="ltr" id="CA-ef02c0cdbf7e7b9d4bb9da344f833460b7e2bd8b" lang="en"><span class="line"><span class="anchor" id="line-1-2"></span>&gt;&gt;&gt; <span class="ResWord">import</span> <span class="ID">numpy</span> <span class="ResWord">as</span> <span class="ID">np</span></span>
<span class="line"><span class="anchor" id="line-2-1"></span>&gt;&gt;&gt;</span>
<span class="line"><span class="anchor" id="line-3-1"></span>&gt;&gt;&gt; <span class="ID">A</span> = <span class="ID">np</span>.<span class="ID">arange</span>(<span class="Number">10</span>)</span>
<span class="line"><span class="anchor" id="line-4-1"></span>&gt;&gt;&gt; <span class="ID">A</span></span>
<span class="line"><span class="anchor" id="line-5-1"></span><span class="ID">array</span>([<span class="Number">0</span>, <span class="Number">1</span>, <span class="Number">2</span>, <span class="Number">3</span>, <span class="Number">4</span>, <span class="Number">5</span>, <span class="Number">6</span>, <span class="Number">7</span>, <span class="Number">8</span>, <span class="Number">9</span>])</span>
<span class="line"><span class="anchor" id="line-6-1"></span>&gt;&gt;&gt;</span>
<span class="line"><span class="anchor" id="line-7-1"></span>&gt;&gt;&gt; <span class="ID">B</span> = <span class="ID">np</span>.<span class="ID">reshape</span>(<span class="ID">np</span>.<span class="ID">arange</span>(<span class="Number">9</span>),(<span class="Number">3</span>,<span class="Number">3</span>))</span>
<span class="line"><span class="anchor" id="line-8-1"></span>&gt;&gt;&gt; <span class="ID">B</span></span>
<span class="line"><span class="anchor" id="line-9-1"></span><span class="ID">array</span>([[<span class="Number">0</span>, <span class="Number">1</span>, <span class="Number">2</span>],</span>
<span class="line"><span class="anchor" id="line-10-1"></span>       [<span class="Number">3</span>, <span class="Number">4</span>, <span class="Number">5</span>],</span>
<span class="line"><span class="anchor" id="line-11-1"></span>       [<span class="Number">6</span>, <span class="Number">7</span>, <span class="Number">8</span>]])</span>
<span class="line"><span class="anchor" id="line-12-1"></span>&gt;&gt;&gt;</span>
<span class="line"><span class="anchor" id="line-13-1"></span>&gt;&gt;&gt; <span class="ID">C</span> = <span class="ID">np</span>.<span class="ID">reshape</span>(<span class="ID">np</span>.<span class="ID">arange</span>(<span class="Number">2</span>*<span class="Number">3</span>*<span class="Number">4</span>),(<span class="Number">2</span>,<span class="Number">3</span>,<span class="Number">4</span>))</span>
<span class="line"><span class="anchor" id="line-14-1"></span>&gt;&gt;&gt; <span class="ID">C</span></span>
<span class="line"><span class="anchor" id="line-15-1"></span><span class="ID">array</span>([[[ <span class="Number">0</span>,  <span class="Number">1</span>,  <span class="Number">2</span>,  <span class="Number">3</span>],</span>
<span class="line"><span class="anchor" id="line-16-1"></span>        [ <span class="Number">4</span>,  <span class="Number">5</span>,  <span class="Number">6</span>,  <span class="Number">7</span>],</span>
<span class="line"><span class="anchor" id="line-17-1"></span>        [ <span class="Number">8</span>,  <span class="Number">9</span>, <span class="Number">10</span>, <span class="Number">11</span>]],</span>
<span class="line"><span class="anchor" id="line-18-1"></span>       [[<span class="Number">12</span>, <span class="Number">13</span>, <span class="Number">14</span>, <span class="Number">15</span>],</span>
<span class="line"><span class="anchor" id="line-19-1"></span>        [<span class="Number">16</span>, <span class="Number">17</span>, <span class="Number">18</span>, <span class="Number">19</span>],</span>
<span class="line"><span class="anchor" id="line-20-1"></span>        [<span class="Number">20</span>, <span class="Number">21</span>, <span class="Number">22</span>, <span class="Number">23</span>]]])</span>
<span class="line"><span class="anchor" id="line-21-1"></span>&gt;&gt;&gt;</span>
</pre></div></div><span class="anchor" id="line-32"></span><p class="line867">
<h2 id="Elements">Elements</h2>
<span class="anchor" id="line-33"></span><p class="line874">The simplest way to pick one or some elements of an array looks very similar to python lists: <span class="anchor" id="line-34"></span><span class="anchor" id="line-35"></span><span class="anchor" id="line-36"></span><span class="anchor" id="line-37"></span><span class="anchor" id="line-38"></span><span class="anchor" id="line-39"></span><span class="anchor" id="line-40"></span><span class="anchor" id="line-41"></span><span class="anchor" id="line-42"></span><span class="anchor" id="line-1-3"></span><div class="highlight python"><div class="codearea" dir="ltr" lang="en"><pre dir="ltr" id="CA-b24973767bd2c767d0a040400786a4b702a34666" lang="en"><span class="line"><span class="anchor" id="line-1-4"></span>&gt;&gt;&gt; <span class="ID">A</span>[<span class="Number">1</span>]</span>
<span class="line"><span class="anchor" id="line-2-2"></span><span class="Number">1</span></span>
<span class="line"><span class="anchor" id="line-3-2"></span>&gt;&gt;&gt; <span class="ID">B</span>[<span class="Number">1</span>,<span class="Number">0</span>]</span>
<span class="line"><span class="anchor" id="line-4-2"></span><span class="Number">3</span></span>
<span class="line"><span class="anchor" id="line-5-2"></span>&gt;&gt;&gt; <span class="ID">C</span>[<span class="Number">1</span>,<span class="Number">0</span>,<span class="Number">2</span>]</span>
<span class="line"><span class="anchor" id="line-6-2"></span><span class="Number">14</span></span>
</pre></div></div><span class="anchor" id="line-43"></span><p class="line874">That is, to pick out a particular element, you simply put the indices into square brackets after it. As is standard for python, element numbers start at zero.  <span class="anchor" id="line-44"></span><span class="anchor" id="line-45"></span><p class="line874">If you want to change an array value in-place, you can simply use the syntax above in an assignment: <span class="anchor" id="line-46"></span><span class="anchor" id="line-47"></span><span class="anchor" id="line-48"></span><span class="anchor" id="line-49"></span><span class="anchor" id="line-50"></span><span class="anchor" id="line-51"></span><span class="anchor" id="line-52"></span><span class="anchor" id="line-53"></span><span class="anchor" id="line-54"></span><span class="anchor" id="line-55"></span><span class="anchor" id="line-1-5"></span><div class="highlight python"><div class="codearea" dir="ltr" lang="en"><pre dir="ltr" id="CA-2489f895399be0606b43e58cb81fc4f67168692f" lang="en"><span class="line"><span class="anchor" id="line-1-6"></span>&gt;&gt;&gt; <span class="ID">T</span> = <span class="ID">A</span>.<span class="ID">copy</span>()</span>
<span class="line"><span class="anchor" id="line-2-3"></span>&gt;&gt;&gt; <span class="ID">T</span>[<span class="Number">3</span>] = -<span class="Number">5</span></span>
<span class="line"><span class="anchor" id="line-3-3"></span>&gt;&gt;&gt; <span class="ID">T</span></span>
<span class="line"><span class="anchor" id="line-4-3"></span><span class="ID">array</span>([ <span class="Number">0</span>,  <span class="Number">1</span>,  <span class="Number">2</span>, -<span class="Number">5</span>,  <span class="Number">4</span>,  <span class="Number">5</span>,  <span class="Number">6</span>,  <span class="Number">7</span>,  <span class="Number">8</span>,  <span class="Number">9</span>])</span>
<span class="line"><span class="anchor" id="line-5-3"></span>&gt;&gt;&gt; <span class="ID">T</span>[<span class="Number">0</span>] += <span class="Number">7</span></span>
<span class="line"><span class="anchor" id="line-6-3"></span>&gt;&gt;&gt; <span class="ID">T</span></span>
<span class="line"><span class="anchor" id="line-7-2"></span><span class="ID">array</span>([ <span class="Number">7</span>,  <span class="Number">1</span>,  <span class="Number">2</span>, -<span class="Number">5</span>,  <span class="Number">4</span>,  <span class="Number">5</span>,  <span class="Number">6</span>,  <span class="Number">7</span>,  <span class="Number">8</span>,  <span class="Number">9</span>])</span>
</pre></div></div><span class="anchor" id="line-56"></span><p class="line874">(The business with .copy() is to ensure that we don't actually modify A, since that would make further examples confusing.) Note that numpy also supports python's &quot;augmented assignment&quot; operators, +=, -=, *=, and so on. <span class="anchor" id="line-57"></span><span class="anchor" id="line-58"></span><p class="line874">Be aware that the type of array elements is a property of the array itself, so that if you try to assign an element of another type to an array, it will be silently converted (if possible): <span class="anchor" id="line-59"></span><span class="anchor" id="line-60"></span><span class="anchor" id="line-61"></span><span class="anchor" id="line-62"></span><span class="anchor" id="line-63"></span><span class="anchor" id="line-64"></span><span class="anchor" id="line-65"></span><span class="anchor" id="line-66"></span><span class="anchor" id="line-67"></span><span class="anchor" id="line-68"></span><span class="anchor" id="line-69"></span><span class="anchor" id="line-70"></span><span class="anchor" id="line-71"></span><span class="anchor" id="line-1-7"></span><div class="highlight python"><div class="codearea" dir="ltr" lang="en"><pre dir="ltr" id="CA-0a5c69cfd81b878e6b34216a30bb63131bee031d" lang="en"><span class="line"><span class="anchor" id="line-1-8"></span>&gt;&gt;&gt; <span class="ID">T</span> = <span class="ID">A</span>.<span class="ID">copy</span>()</span>
<span class="line"><span class="anchor" id="line-2-4"></span>&gt;&gt;&gt; <span class="ID">T</span>[<span class="Number">3</span>] = -<span class="Number">1.5</span></span>
<span class="line"><span class="anchor" id="line-3-4"></span>&gt;&gt;&gt; <span class="ID">T</span></span>
<span class="line"><span class="anchor" id="line-4-4"></span><span class="ID">array</span>([ <span class="Number">0</span>,  <span class="Number">1</span>,  <span class="Number">2</span>, -<span class="Number">1</span>,  <span class="Number">4</span>,  <span class="Number">5</span>,  <span class="Number">6</span>,  <span class="Number">7</span>,  <span class="Number">8</span>,  <span class="Number">9</span>])</span>
<span class="line"><span class="anchor" id="line-5-4"></span>&gt;&gt;&gt; <span class="ID">T</span>[<span class="Number">3</span>] = -<span class="Number">0.5j</span></span>
<span class="line"><span class="anchor" id="line-6-4"></span><span class="ID">Traceback</span> (<span class="ID">most</span> <span class="ID">recent</span> <span class="ID">call</span> <span class="ID">last</span>):</span>
<span class="line"><span class="anchor" id="line-7-3"></span>  <span class="ID">File</span> <span class="String">&quot;</span><span class="String">&lt;stdin&gt;</span><span class="String">&quot;</span>, <span class="ID">line</span> <span class="Number">1</span>, <span class="ResWord">in</span> &lt;<span class="ID">module</span>&gt;</span>
<span class="line"><span class="anchor" id="line-8-2"></span><span class="ID">TypeError</span>: <span class="ID">can</span><span class="String">'</span><span class="String">t convert complex to int; use int(abs(z))</span></span>
<span class="line"><span class="anchor" id="line-9-2"></span>&gt;&gt;&gt; <span class="ID">T</span></span>
<span class="line"><span class="anchor" id="line-10-2"></span><span class="ID">array</span>([ <span class="Number">0</span>,  <span class="Number">1</span>,  <span class="Number">2</span>, -<span class="Number">1</span>,  <span class="Number">4</span>,  <span class="Number">5</span>,  <span class="Number">6</span>,  <span class="Number">7</span>,  <span class="Number">8</span>,  <span class="Number">9</span>])</span>
</pre></div></div><span class="anchor" id="line-72"></span><p class="line874">Note that the conversion that happens is a default conversion; in the case of float to int conversion, it's truncation. If you wanted something different, say taking the floor, you would have to arrange that yourself (for example with np.floor()). In the case of converting complex values to integers, there's no resonable default way to do it, so numpy raises an exception and leaves the array unchanged. <span class="anchor" id="line-73"></span><span class="anchor" id="line-74"></span><p class="line874">Finally, two slightly more technical matters. <span class="anchor" id="line-75"></span><span class="anchor" id="line-76"></span><p class="line874">If you want to manipulate indices programmatically, you should know that when you write something like <span class="anchor" id="line-77"></span><span class="anchor" id="line-78"></span><span class="anchor" id="line-79"></span><span class="anchor" id="line-80"></span><span class="anchor" id="line-81"></span><span class="anchor" id="line-1-9"></span><div class="highlight python"><div class="codearea" dir="ltr" lang="en"><pre dir="ltr" id="CA-7d504abd6acb652eb13b5e1c2722006705749a8b" lang="en"><span class="line"><span class="anchor" id="line-1-10"></span>&gt;&gt;&gt; <span class="ID">C</span>[<span class="Number">1</span>,<span class="Number">0</span>,<span class="Number">1</span>]</span>
<span class="line"><span class="anchor" id="line-2-5"></span><span class="Number">13</span></span>
</pre></div></div><span class="anchor" id="line-82"></span><p class="line874">it is the same as (in fact it is internally converted to) <span class="anchor" id="line-83"></span><span class="anchor" id="line-84"></span><span class="anchor" id="line-85"></span><span class="anchor" id="line-86"></span><span class="anchor" id="line-87"></span><span class="anchor" id="line-1-11"></span><div class="highlight python"><div class="codearea" dir="ltr" lang="en"><pre dir="ltr" id="CA-0850ba9e9a63caf54ad07bd8f8efe597d0a87ab1" lang="en"><span class="line"><span class="anchor" id="line-1-12"></span>&gt;&gt;&gt; <span class="ID">C</span>[(<span class="Number">1</span>,<span class="Number">0</span>,<span class="Number">1</span>)]</span>
<span class="line"><span class="anchor" id="line-2-6"></span><span class="Number">13</span></span>
</pre></div></div><span class="anchor" id="line-88"></span><p class="line862">This peculiar-looking syntax is constructing a tuple, python's data structure for immutable sequences, and using that tuple as an index into the array. (Under the hood, C[1,0,1] is converted to C.<span class="u">getitem</span>((1,0,1)).) This means you can whip up tuples if you want to: <span class="anchor" id="line-89"></span><span class="anchor" id="line-90"></span><span class="anchor" id="line-91"></span><span class="anchor" id="line-92"></span><span class="anchor" id="line-93"></span><span class="anchor" id="line-94"></span><span class="anchor" id="line-1-13"></span><div class="highlight python"><div class="codearea" dir="ltr" lang="en"><pre dir="ltr" id="CA-68d9087d65ba8cb60cfc7e39c51da79ab52080e4" lang="en"><span class="line"><span class="anchor" id="line-1-14"></span>&gt;&gt;&gt; <span class="ID">i</span> = (<span class="Number">1</span>,<span class="Number">0</span>,<span class="Number">1</span>)</span>
<span class="line"><span class="anchor" id="line-2-7"></span>&gt;&gt;&gt; <span class="ID">C</span>[<span class="ID">i</span>]</span>
<span class="line"><span class="anchor" id="line-3-5"></span><span class="Number">13</span></span>
</pre></div></div><span class="anchor" id="line-95"></span><p class="line874">If it doesn't seem likely you would ever want to do this, consider iterating over an arbitrarily multidimensional array: <span class="anchor" id="line-96"></span><span class="anchor" id="line-97"></span><span class="anchor" id="line-98"></span><span class="anchor" id="line-99"></span><span class="anchor" id="line-100"></span><span class="anchor" id="line-101"></span><span class="anchor" id="line-102"></span><span class="anchor" id="line-103"></span><span class="anchor" id="line-104"></span><span class="anchor" id="line-105"></span><span class="anchor" id="line-106"></span><span class="anchor" id="line-107"></span><span class="anchor" id="line-108"></span><span class="anchor" id="line-109"></span><span class="anchor" id="line-110"></span><span class="anchor" id="line-1-15"></span><div class="highlight python"><div class="codearea" dir="ltr" lang="en"><pre dir="ltr" id="CA-a1c14618e54f37d0150e9ccacb9cd9a1a58360ba" lang="en"><span class="line"><span class="anchor" id="line-1-16"></span>&gt;&gt;&gt; <span class="ResWord">for</span> <span class="ID">i</span> <span class="ResWord">in</span> <span class="ID">np</span>.<span class="ID">ndindex</span>(<span class="ID">B</span>.<span class="ID">shape</span>):</span>
<span class="line"><span class="anchor" id="line-2-8"></span>...     <span class="ResWord">print</span> <span class="ID">i</span>, <span class="ID">B</span>[<span class="ID">i</span>]</span>
<span class="line"><span class="anchor" id="line-3-6"></span>... </span>
<span class="line"><span class="anchor" id="line-4-5"></span>(<span class="Number">0</span>, <span class="Number">0</span>) <span class="Number">0</span></span>
<span class="line"><span class="anchor" id="line-5-5"></span>(<span class="Number">0</span>, <span class="Number">1</span>) <span class="Number">1</span></span>
<span class="line"><span class="anchor" id="line-6-5"></span>(<span class="Number">0</span>, <span class="Number">2</span>) <span class="Number">2</span></span>
<span class="line"><span class="anchor" id="line-7-4"></span>(<span class="Number">1</span>, <span class="Number">0</span>) <span class="Number">3</span></span>
<span class="line"><span class="anchor" id="line-8-3"></span>(<span class="Number">1</span>, <span class="Number">1</span>) <span class="Number">4</span></span>
<span class="line"><span class="anchor" id="line-9-3"></span>(<span class="Number">1</span>, <span class="Number">2</span>) <span class="Number">5</span></span>
<span class="line"><span class="anchor" id="line-10-3"></span>(<span class="Number">2</span>, <span class="Number">0</span>) <span class="Number">6</span></span>
<span class="line"><span class="anchor" id="line-11-2"></span>(<span class="Number">2</span>, <span class="Number">1</span>) <span class="Number">7</span></span>
<span class="line"><span class="anchor" id="line-12-2"></span>(<span class="Number">2</span>, <span class="Number">2</span>) <span class="Number">8</span></span>
</pre></div></div><span class="anchor" id="line-111"></span><p class="line874">Indexing with tuples will also become important when we start looking at fancy indexing and the function np.where(). <span class="anchor" id="line-112"></span><span class="anchor" id="line-113"></span><p class="line874">The last technical issue I want to mention is that when you select an element from an array, what you get back has the same type as the array elements. This may sound obvious, and in a way it is, but keep in mind that even innocuous numpy arrays like our A, B, and C often contain types that are not quite the python types: <span class="anchor" id="line-114"></span><span class="anchor" id="line-115"></span><span class="anchor" id="line-116"></span><span class="anchor" id="line-117"></span><span class="anchor" id="line-118"></span><span class="anchor" id="line-119"></span><span class="anchor" id="line-120"></span><span class="anchor" id="line-121"></span><span class="anchor" id="line-122"></span><span class="anchor" id="line-123"></span><span class="anchor" id="line-124"></span><span class="anchor" id="line-125"></span><span class="anchor" id="line-126"></span><span class="anchor" id="line-127"></span><span class="anchor" id="line-128"></span><span class="anchor" id="line-1-17"></span><div class="highlight python"><div class="codearea" dir="ltr" lang="en"><pre dir="ltr" id="CA-afb267d1394cc23c76d29f52603c033db45b5cb9" lang="en"><span class="line"><span class="anchor" id="line-1-18"></span>&gt;&gt;&gt; <span class="ID">a</span> = <span class="ID">C</span>[<span class="Number">1</span>,<span class="Number">2</span>,<span class="Number">3</span>]</span>
<span class="line"><span class="anchor" id="line-2-9"></span>&gt;&gt;&gt; <span class="ID">a</span></span>
<span class="line"><span class="anchor" id="line-3-7"></span><span class="Number">23</span></span>
<span class="line"><span class="anchor" id="line-4-6"></span>&gt;&gt;&gt; <span class="ResWord">type</span>(<span class="ID">a</span>)</span>
<span class="line"><span class="anchor" id="line-5-6"></span>&lt;<span class="ResWord">type</span> <span class="String">'</span><span class="String">numpy.int32</span><span class="String">'</span>&gt;</span>
<span class="line"><span class="anchor" id="line-6-6"></span>&gt;&gt;&gt; <span class="ResWord">type</span>(<span class="ResWord">int</span>(<span class="ID">a</span>))</span>
<span class="line"><span class="anchor" id="line-7-5"></span>&lt;<span class="ResWord">type</span> <span class="String">'</span><span class="String">int</span><span class="String">'</span>&gt;</span>
<span class="line"><span class="anchor" id="line-8-4"></span>&gt;&gt;&gt; <span class="ID">a</span>**<span class="ID">a</span></span>
<span class="line"><span class="anchor" id="line-9-4"></span><span class="ID">Warning</span>: <span class="ID">overflow</span> <span class="ID">encountered</span> <span class="ResWord">in</span> <span class="ID">long_scalars</span></span>
<span class="line"><span class="anchor" id="line-10-4"></span>-<span class="Number">1276351769</span></span>
<span class="line"><span class="anchor" id="line-11-3"></span>&gt;&gt;&gt; <span class="ResWord">int</span>(<span class="ID">a</span>)**<span class="ResWord">int</span>(<span class="ID">a</span>)</span>
<span class="line"><span class="anchor" id="line-12-3"></span><span class="Number">20880467999847912034355032910567L</span></span>
</pre></div></div><span class="anchor" id="line-129"></span><p class="line874">numpy scalars also support certain indexing operations, for consistency, but these are somewhat subtle and under discussion. <span class="anchor" id="line-130"></span><span class="anchor" id="line-131"></span><p class="line867">
<h2 id="Slices">Slices</h2>
<span class="anchor" id="line-132"></span><p class="line874">It is obviously essential to be able to work with single elements of an array. But one of the selling points of numpy is the ability to do operations &quot;array-wise&quot;: <span class="anchor" id="line-133"></span><span class="anchor" id="line-134"></span><span class="anchor" id="line-135"></span><span class="anchor" id="line-136"></span><span class="anchor" id="line-137"></span><span class="anchor" id="line-1-19"></span><div class="highlight python"><div class="codearea" dir="ltr" lang="en"><pre dir="ltr" id="CA-e97d3e07513370050cf5a97b12430c5204dc42f2" lang="en"><span class="line"><span class="anchor" id="line-1-20"></span>&gt;&gt;&gt; <span class="Number">2</span>*<span class="ID">A</span></span>
<span class="line"><span class="anchor" id="line-2-10"></span><span class="ID">array</span>([ <span class="Number">0</span>,  <span class="Number">2</span>,  <span class="Number">4</span>,  <span class="Number">6</span>,  <span class="Number">8</span>, <span class="Number">10</span>, <span class="Number">12</span>, <span class="Number">14</span>, <span class="Number">16</span>, <span class="Number">18</span>])</span>
</pre></div></div><span class="anchor" id="line-138"></span><p class="line874">This is handy, but one very often wants to work with only part of an array. For example, suppose one wants to compute the array of differences of A, that is, the array whose elements are A[1]-A[0], A[2]-A[1], and so on. (In fact, the function np.diff does this, but let's ignore that for expositional convenience.) numpy makes it possible to do this using array-wise operations: <span class="anchor" id="line-139"></span><span class="anchor" id="line-140"></span><span class="anchor" id="line-141"></span><span class="anchor" id="line-142"></span><span class="anchor" id="line-143"></span><span class="anchor" id="line-144"></span><span class="anchor" id="line-145"></span><span class="anchor" id="line-146"></span><span class="anchor" id="line-147"></span><span class="anchor" id="line-1-21"></span><div class="highlight python"><div class="codearea" dir="ltr" lang="en"><pre dir="ltr" id="CA-f25eab48c52736d62074fec76f0a4452becd8bc4" lang="en"><span class="line"><span class="anchor" id="line-1-22"></span>&gt;&gt;&gt; <span class="ID">A</span>[<span class="Number">1</span>:]</span>
<span class="line"><span class="anchor" id="line-2-11"></span><span class="ID">array</span>([<span class="Number">1</span>, <span class="Number">2</span>, <span class="Number">3</span>, <span class="Number">4</span>, <span class="Number">5</span>, <span class="Number">6</span>, <span class="Number">7</span>, <span class="Number">8</span>, <span class="Number">9</span>])</span>
<span class="line"><span class="anchor" id="line-3-8"></span>&gt;&gt;&gt; <span class="ID">A</span>[:-<span class="Number">1</span>]</span>
<span class="line"><span class="anchor" id="line-4-7"></span><span class="ID">array</span>([<span class="Number">0</span>, <span class="Number">1</span>, <span class="Number">2</span>, <span class="Number">3</span>, <span class="Number">4</span>, <span class="Number">5</span>, <span class="Number">6</span>, <span class="Number">7</span>, <span class="Number">8</span>])</span>
<span class="line"><span class="anchor" id="line-5-7"></span>&gt;&gt;&gt; <span class="ID">A</span>[<span class="Number">1</span>:] - <span class="ID">A</span>[:-<span class="Number">1</span>]</span>
<span class="line"><span class="anchor" id="line-6-7"></span><span class="ID">array</span>([<span class="Number">1</span>, <span class="Number">1</span>, <span class="Number">1</span>, <span class="Number">1</span>, <span class="Number">1</span>, <span class="Number">1</span>, <span class="Number">1</span>, <span class="Number">1</span>, <span class="Number">1</span>])</span>
</pre></div></div><span class="anchor" id="line-148"></span><p class="line874">This is done by making an array that is all but the first element of A, an array that is all but the last element of A, and subtracting the corresponding elements. The process of taking subarrays in this way is called &quot;slicing&quot;. <span class="anchor" id="line-149"></span><span class="anchor" id="line-150"></span><p class="line867">
<h3 id="One-dimensional_slices">One-dimensional slices</h3>
<span class="anchor" id="line-151"></span><p class="line862">The general syntax for a slice is <em>array</em>[<em>start</em>:<em>stop</em>:<em>step</em>]. Any or all of the values <em>start</em>, <em>stop</em>, and <em>step</em> may be left out (and if <em>step</em> is left out the colon in front of it may also be left out): <span class="anchor" id="line-152"></span><span class="anchor" id="line-153"></span><span class="anchor" id="line-154"></span><span class="anchor" id="line-155"></span><span class="anchor" id="line-156"></span><span class="anchor" id="line-157"></span><span class="anchor" id="line-158"></span><span class="anchor" id="line-159"></span><span class="anchor" id="line-160"></span><span class="anchor" id="line-161"></span><span class="anchor" id="line-162"></span><span class="anchor" id="line-163"></span><span class="anchor" id="line-164"></span><span class="anchor" id="line-1-23"></span><div class="highlight python"><div class="codearea" dir="ltr" lang="en"><pre dir="ltr" id="CA-b5c589f8b5a81f8366809bc6c64c70b748480608" lang="en"><span class="line"><span class="anchor" id="line-1-24"></span>&gt;&gt;&gt; <span class="ID">A</span>[<span class="Number">5</span>:]</span>
<span class="line"><span class="anchor" id="line-2-12"></span><span class="ID">array</span>([<span class="Number">5</span>, <span class="Number">6</span>, <span class="Number">7</span>, <span class="Number">8</span>, <span class="Number">9</span>])</span>
<span class="line"><span class="anchor" id="line-3-9"></span>&gt;&gt;&gt; <span class="ID">A</span>[:<span class="Number">5</span>]</span>
<span class="line"><span class="anchor" id="line-4-8"></span><span class="ID">array</span>([<span class="Number">0</span>, <span class="Number">1</span>, <span class="Number">2</span>, <span class="Number">3</span>, <span class="Number">4</span>])</span>
<span class="line"><span class="anchor" id="line-5-8"></span>&gt;&gt;&gt; <span class="ID">A</span>[::<span class="Number">2</span>]</span>
<span class="line"><span class="anchor" id="line-6-8"></span><span class="ID">array</span>([<span class="Number">0</span>, <span class="Number">2</span>, <span class="Number">4</span>, <span class="Number">6</span>, <span class="Number">8</span>])</span>
<span class="line"><span class="anchor" id="line-7-6"></span>&gt;&gt;&gt; <span class="ID">A</span>[<span class="Number">1</span>::<span class="Number">2</span>]</span>
<span class="line"><span class="anchor" id="line-8-5"></span><span class="ID">array</span>([<span class="Number">1</span>, <span class="Number">3</span>, <span class="Number">5</span>, <span class="Number">7</span>, <span class="Number">9</span>])</span>
<span class="line"><span class="anchor" id="line-9-5"></span>&gt;&gt;&gt; <span class="ID">A</span>[<span class="Number">1</span>:<span class="Number">8</span>:<span class="Number">2</span>]</span>
<span class="line"><span class="anchor" id="line-10-5"></span><span class="ID">array</span>([<span class="Number">1</span>, <span class="Number">3</span>, <span class="Number">5</span>, <span class="Number">7</span>])</span>
</pre></div></div><span class="anchor" id="line-165"></span><p class="line862">As usual for python, the <em>start</em> index is included and the <em>stop</em> index is not included. Also as usual for python, negative numbers for <em>start</em> or <em>stop</em> count backwards from the end of the array: <span class="anchor" id="line-166"></span><span class="anchor" id="line-167"></span><span class="anchor" id="line-168"></span><span class="anchor" id="line-169"></span><span class="anchor" id="line-170"></span><span class="anchor" id="line-171"></span><span class="anchor" id="line-172"></span><span class="anchor" id="line-1-25"></span><div class="highlight python"><div class="codearea" dir="ltr" lang="en"><pre dir="ltr" id="CA-36128c4915100fa4c251376fecb1cba1b2cf9a32" lang="en"><span class="line"><span class="anchor" id="line-1-26"></span>&gt;&gt;&gt; <span class="ID">A</span>[-<span class="Number">3</span>:]</span>
<span class="line"><span class="anchor" id="line-2-13"></span><span class="ID">array</span>([<span class="Number">7</span>, <span class="Number">8</span>, <span class="Number">9</span>])</span>
<span class="line"><span class="anchor" id="line-3-10"></span>&gt;&gt;&gt; <span class="ID">A</span>[:-<span class="Number">3</span>]</span>
<span class="line"><span class="anchor" id="line-4-9"></span><span class="ID">array</span>([<span class="Number">0</span>, <span class="Number">1</span>, <span class="Number">2</span>, <span class="Number">3</span>, <span class="Number">4</span>, <span class="Number">5</span>, <span class="Number">6</span>])</span>
</pre></div></div><span class="anchor" id="line-173"></span><p class="line862">If <em>stop</em> comes before <em>start</em> in the array, then an array of length zero is returned: <span class="anchor" id="line-174"></span><span class="anchor" id="line-175"></span><span class="anchor" id="line-176"></span><span class="anchor" id="line-177"></span><span class="anchor" id="line-178"></span><span class="anchor" id="line-1-27"></span><div class="highlight python"><div class="codearea" dir="ltr" lang="en"><pre dir="ltr" id="CA-5e709b69b39691dca53381b2b68b5d5a26050a48" lang="en"><span class="line"><span class="anchor" id="line-1-28"></span>&gt;&gt;&gt; <span class="ID">A</span>[<span class="Number">5</span>:<span class="Number">3</span>]</span>
<span class="line"><span class="anchor" id="line-2-14"></span><span class="ID">array</span>([], <span class="ID">dtype</span>=<span class="ID">int32</span>)</span>
</pre></div></div><span class="anchor" id="line-179"></span><p class="line874">(The &quot;dtype=int32&quot; is present in the printed form because in an array with no elements, one cannot tell what type the elements have from their printed representation. It nevertheless makes sense to keep track of the type that they would have if the array had any elements.) <span class="anchor" id="line-180"></span><span class="anchor" id="line-181"></span><p class="line874">If you specify a slice that happens to have only one element, you get an array in return that happens to have only one element: <span class="anchor" id="line-182"></span><span class="anchor" id="line-183"></span><span class="anchor" id="line-184"></span><span class="anchor" id="line-185"></span><span class="anchor" id="line-186"></span><span class="anchor" id="line-187"></span><span class="anchor" id="line-188"></span><span class="anchor" id="line-1-29"></span><div class="highlight python"><div class="codearea" dir="ltr" lang="en"><pre dir="ltr" id="CA-6c9398117028481dab0b9a43170d82b391668437" lang="en"><span class="line"><span class="anchor" id="line-1-30"></span>&gt;&gt;&gt; <span class="ID">A</span>[<span class="Number">5</span>:<span class="Number">6</span>]</span>
<span class="line"><span class="anchor" id="line-2-15"></span><span class="ID">array</span>([<span class="Number">5</span>])</span>
<span class="line"><span class="anchor" id="line-3-11"></span>&gt;&gt;&gt; <span class="ID">A</span>[<span class="Number">5</span>]</span>
<span class="line"><span class="anchor" id="line-4-10"></span><span class="Number">5</span></span>
</pre></div></div><span class="anchor" id="line-189"></span><p class="line874">This seems fairly obvious and reasonable, but when dealing with fancy indexing and multidimensional arrays it can be surprising. <span class="anchor" id="line-190"></span><span class="anchor" id="line-191"></span><p class="line862">If the number <em>step</em> is negative, the step through the array is negative, that is, the new array contains (some of) the elements of the original in reverse order: <span class="anchor" id="line-192"></span><span class="anchor" id="line-193"></span><span class="anchor" id="line-194"></span><span class="anchor" id="line-195"></span><span class="anchor" id="line-196"></span><span class="anchor" id="line-1-31"></span><div class="highlight python"><div class="codearea" dir="ltr" lang="en"><pre dir="ltr" id="CA-fd02c253808a9c8075e1193317bde1fe609c77ad" lang="en"><span class="line"><span class="anchor" id="line-1-32"></span>&gt;&gt;&gt; <span class="ID">A</span>[::-<span class="Number">1</span>]</span>
<span class="line"><span class="anchor" id="line-2-16"></span><span class="ID">array</span>([<span class="Number">9</span>, <span class="Number">8</span>, <span class="Number">7</span>, <span class="Number">6</span>, <span class="Number">5</span>, <span class="Number">4</span>, <span class="Number">3</span>, <span class="Number">2</span>, <span class="Number">1</span>, <span class="Number">0</span>])</span>
</pre></div></div><span class="anchor" id="line-197"></span><p class="line862">This is extremely useful, but it can be confusing when <em>start</em> and <em>stop</em> are given: <span class="anchor" id="line-198"></span><span class="anchor" id="line-199"></span><span class="anchor" id="line-200"></span><span class="anchor" id="line-201"></span><span class="anchor" id="line-202"></span><span class="anchor" id="line-203"></span><span class="anchor" id="line-204"></span><span class="anchor" id="line-1-33"></span><div class="highlight python"><div class="codearea" dir="ltr" lang="en"><pre dir="ltr" id="CA-3b1118edf5afcec150969249f33b63943d836f19" lang="en"><span class="line"><span class="anchor" id="line-1-34"></span>&gt;&gt;&gt; <span class="ID">A</span>[<span class="Number">5</span>:<span class="Number">3</span>:-<span class="Number">1</span>]</span>
<span class="line"><span class="anchor" id="line-2-17"></span><span class="ID">array</span>([<span class="Number">5</span>, <span class="Number">4</span>])</span>
<span class="line"><span class="anchor" id="line-3-12"></span>&gt;&gt;&gt; <span class="ID">A</span>[<span class="Number">3</span>:<span class="Number">5</span>:<span class="Number">1</span>]</span>
<span class="line"><span class="anchor" id="line-4-11"></span><span class="ID">array</span>([<span class="Number">3</span>, <span class="Number">4</span>])</span>
</pre></div></div><span class="anchor" id="line-205"></span><p class="line862">The rule to remember is: whether <em>step</em> is positive or negative, <em>start</em> is always included and <em>stop</em> never is. <span class="anchor" id="line-206"></span><span class="anchor" id="line-207"></span><p class="line874">Just as one can retrieve elements of an array as a subarray rather than one-by-one, one can modify them as a subarray rather than one-by-one: <span class="anchor" id="line-208"></span><span class="anchor" id="line-209"></span><span class="anchor" id="line-210"></span><span class="anchor" id="line-211"></span><span class="anchor" id="line-212"></span><span class="anchor" id="line-213"></span><span class="anchor" id="line-214"></span><span class="anchor" id="line-215"></span><span class="anchor" id="line-216"></span><span class="anchor" id="line-217"></span><span class="anchor" id="line-218"></span><span class="anchor" id="line-219"></span><span class="anchor" id="line-220"></span><span class="anchor" id="line-1-35"></span><div class="highlight python"><div class="codearea" dir="ltr" lang="en"><pre dir="ltr" id="CA-907e5913a3b63eb679a883dfbec58434bf502f37" lang="en"><span class="line"><span class="anchor" id="line-1-36"></span>&gt;&gt;&gt; <span class="ID">T</span> = <span class="ID">A</span>.<span class="ID">copy</span>()</span>
<span class="line"><span class="anchor" id="line-2-18"></span>&gt;&gt;&gt; <span class="ID">T</span></span>
<span class="line"><span class="anchor" id="line-3-13"></span><span class="ID">array</span>([<span class="Number">0</span>, <span class="Number">1</span>, <span class="Number">2</span>, <span class="Number">3</span>, <span class="Number">4</span>, <span class="Number">5</span>, <span class="Number">6</span>, <span class="Number">7</span>, <span class="Number">8</span>, <span class="Number">9</span>])</span>
<span class="line"><span class="anchor" id="line-4-12"></span>&gt;&gt;&gt; <span class="ID">T</span>[<span class="Number">1</span>::<span class="Number">2</span>]</span>
<span class="line"><span class="anchor" id="line-5-9"></span><span class="ID">array</span>([<span class="Number">1</span>, <span class="Number">3</span>, <span class="Number">5</span>, <span class="Number">7</span>, <span class="Number">9</span>])</span>
<span class="line"><span class="anchor" id="line-6-9"></span>&gt;&gt;&gt; <span class="ID">T</span>[<span class="Number">1</span>::<span class="Number">2</span>] = -<span class="ID">np</span>.<span class="ID">arange</span>(<span class="Number">5</span>)</span>
<span class="line"><span class="anchor" id="line-7-7"></span>&gt;&gt;&gt; <span class="ID">T</span>[<span class="Number">1</span>::<span class="Number">2</span>]</span>
<span class="line"><span class="anchor" id="line-8-6"></span><span class="ID">array</span>([ <span class="Number">0</span>, -<span class="Number">1</span>, -<span class="Number">2</span>, -<span class="Number">3</span>, -<span class="Number">4</span>])</span>
<span class="line"><span class="anchor" id="line-9-6"></span>&gt;&gt;&gt; <span class="ID">T</span></span>
<span class="line"><span class="anchor" id="line-10-6"></span><span class="ID">array</span>([ <span class="Number">0</span>,  <span class="Number">0</span>,  <span class="Number">2</span>, -<span class="Number">1</span>,  <span class="Number">4</span>, -<span class="Number">2</span>,  <span class="Number">6</span>, -<span class="Number">3</span>,  <span class="Number">8</span>, -<span class="Number">4</span>])</span>
</pre></div></div><span class="anchor" id="line-221"></span><span class="anchor" id="line-222"></span><p class="line874">If the array you are trying to assign is the wrong shape, an exception is raised: <span class="anchor" id="line-223"></span><span class="anchor" id="line-224"></span><span class="anchor" id="line-225"></span><span class="anchor" id="line-226"></span><span class="anchor" id="line-227"></span><span class="anchor" id="line-228"></span><span class="anchor" id="line-229"></span><span class="anchor" id="line-230"></span><span class="anchor" id="line-231"></span><span class="anchor" id="line-232"></span><span class="anchor" id="line-233"></span><span class="anchor" id="line-234"></span><span class="anchor" id="line-1-37"></span><div class="highlight python"><div class="codearea" dir="ltr" lang="en"><pre dir="ltr" id="CA-73a9793f020d29c4d501ae1c80b0190815b022ec" lang="en"><span class="line"><span class="anchor" id="line-1-38"></span>&gt;&gt;&gt; <span class="ID">T</span> = <span class="ID">A</span>.<span class="ID">copy</span>()</span>
<span class="line"><span class="anchor" id="line-2-19"></span>&gt;&gt;&gt; <span class="ID">T</span>[<span class="Number">1</span>::<span class="Number">2</span>] = <span class="ID">np</span>.<span class="ID">arange</span>(<span class="Number">6</span>)</span>
<span class="line"><span class="anchor" id="line-3-14"></span><span class="ID">Traceback</span> (<span class="ID">most</span> <span class="ID">recent</span> <span class="ID">call</span> <span class="ID">last</span>):</span>
<span class="line"><span class="anchor" id="line-4-13"></span>  <span class="ID">File</span> <span class="String">&quot;</span><span class="String">&lt;stdin&gt;</span><span class="String">&quot;</span>, <span class="ID">line</span> <span class="Number">1</span>, <span class="ResWord">in</span> &lt;<span class="ID">module</span>&gt;</span>
<span class="line"><span class="anchor" id="line-5-10"></span><span class="ID">ValueError</span>: <span class="ID">shape</span> <span class="ID">mismatch</span>: <span class="ID">objects</span> <span class="ID">cannot</span> <span class="ID">be</span> <span class="ID">broadcast</span> <span class="ID">to</span> <span class="ID">a</span> <span class="ID">single</span> <span class="ID">shape</span></span>
<span class="line"><span class="anchor" id="line-6-10"></span>&gt;&gt;&gt; <span class="ID">T</span>[:<span class="Number">4</span>] = <span class="ID">np</span>.<span class="ID">array</span>([[<span class="Number">0</span>,<span class="Number">1</span>],[<span class="Number">1</span>,<span class="Number">0</span>]])</span>
<span class="line"><span class="anchor" id="line-7-8"></span><span class="ID">Traceback</span> (<span class="ID">most</span> <span class="ID">recent</span> <span class="ID">call</span> <span class="ID">last</span>):</span>
<span class="line"><span class="anchor" id="line-8-7"></span>  <span class="ID">File</span> <span class="String">&quot;</span><span class="String">&lt;stdin&gt;</span><span class="String">&quot;</span>, <span class="ID">line</span> <span class="Number">1</span>, <span class="ResWord">in</span> &lt;<span class="ID">module</span>&gt;</span>
<span class="line"><span class="anchor" id="line-9-7"></span><span class="ID">ValueError</span>: <span class="ID">shape</span> <span class="ID">mismatch</span>: <span class="ID">objects</span> <span class="ID">cannot</span> <span class="ID">be</span> <span class="ID">broadcast</span> <span class="ID">to</span> <span class="ID">a</span> <span class="ID">single</span> <span class="ID">shape</span></span>
</pre></div></div><span class="anchor" id="line-235"></span><p class="line874">If you think the error message sounds confusing, I have to agree, but there is a reason. In the first case, we tried to stuff six elements into five slots, so numpy refused. In the second case, there were the right number of elements - four - but we tried to stuff a two-by-two array where there was supposed to be a one-dimensional array of length four. While numpy could have coerced the two-by-two array into the right shape, instead the designers chose to follow the python philosophy &quot;explicit is better than implicit&quot; and leave any coercing up to the user. Let's do that, though: <span class="anchor" id="line-236"></span><span class="anchor" id="line-237"></span><span class="anchor" id="line-238"></span><span class="anchor" id="line-239"></span><span class="anchor" id="line-240"></span><span class="anchor" id="line-241"></span><span class="anchor" id="line-242"></span><span class="anchor" id="line-1-39"></span><div class="highlight python"><div class="codearea" dir="ltr" lang="en"><pre dir="ltr" id="CA-bc6c14b30f5e57b2c93b23a3c0cfc43ef549f951" lang="en"><span class="line"><span class="anchor" id="line-1-40"></span>&gt;&gt;&gt; <span class="ID">T</span> = <span class="ID">A</span>.<span class="ID">copy</span>()</span>
<span class="line"><span class="anchor" id="line-2-20"></span>&gt;&gt;&gt; <span class="ID">T</span>[:<span class="Number">4</span>] = <span class="ID">np</span>.<span class="ID">array</span>([[<span class="Number">0</span>,<span class="Number">1</span>],[<span class="Number">1</span>,<span class="Number">0</span>]]).<span class="ID">ravel</span>()</span>
<span class="line"><span class="anchor" id="line-3-15"></span>&gt;&gt;&gt; <span class="ID">T</span></span>
<span class="line"><span class="anchor" id="line-4-14"></span><span class="ID">array</span>([<span class="Number">0</span>, <span class="Number">1</span>, <span class="Number">1</span>, <span class="Number">0</span>, <span class="Number">4</span>, <span class="Number">5</span>, <span class="Number">6</span>, <span class="Number">7</span>, <span class="Number">8</span>, <span class="Number">9</span>])</span>
</pre></div></div><span class="anchor" id="line-243"></span><p class="line874">So in order for assignment to work, it is not simply enough to have the right number of elements - they must be arranged in an array of the right shape.  <span class="anchor" id="line-244"></span><span class="anchor" id="line-245"></span><p class="line874">There is another issue complicating the error message: numpy has some extremely convenient rules for converting lower-dimensional arrays into higher-dimensional arrays, and for implicitly repeating arrays along axes. This process is called &quot;broadcasting&quot;. We will see more of it elsewhere, but here it is in its simplest possible form: <span class="anchor" id="line-246"></span><span class="anchor" id="line-247"></span><span class="anchor" id="line-248"></span><span class="anchor" id="line-249"></span><span class="anchor" id="line-250"></span><span class="anchor" id="line-251"></span><span class="anchor" id="line-252"></span><span class="anchor" id="line-1-41"></span><div class="highlight python"><div class="codearea" dir="ltr" lang="en"><pre dir="ltr" id="CA-1560c9aff7ebef8824757b5145a6d67ae01336ff" lang="en"><span class="line"><span class="anchor" id="line-1-42"></span>&gt;&gt;&gt; <span class="ID">T</span> = <span class="ID">A</span>.<span class="ID">copy</span>()</span>
<span class="line"><span class="anchor" id="line-2-21"></span>&gt;&gt;&gt; <span class="ID">T</span>[<span class="Number">1</span>::<span class="Number">2</span>] = -<span class="Number">1</span></span>
<span class="line"><span class="anchor" id="line-3-16"></span>&gt;&gt;&gt; <span class="ID">T</span></span>
<span class="line"><span class="anchor" id="line-4-15"></span><span class="ID">array</span>([ <span class="Number">0</span>, -<span class="Number">1</span>,  <span class="Number">2</span>, -<span class="Number">1</span>,  <span class="Number">4</span>, -<span class="Number">1</span>,  <span class="Number">6</span>, -<span class="Number">1</span>,  <span class="Number">8</span>, -<span class="Number">1</span>])</span>
</pre></div></div><span class="anchor" id="line-253"></span><p class="line874">We told numpy to take a scalar, -1, and put it into an array of length five. Rather than signal an error, numpy's broadcasting rules tell it to convert this scalar into an effective array of length five by repeating the scalar five times. (It does not, of course, actually create a temporary array of this size; in fact it uses a clever trick of telling itself that the temporary array has its elements spaced zero bytes apart.) This particular case of broadcasting gets used all the time: <span class="anchor" id="line-254"></span><span class="anchor" id="line-255"></span><span class="anchor" id="line-256"></span><span class="anchor" id="line-257"></span><span class="anchor" id="line-258"></span><span class="anchor" id="line-259"></span><span class="anchor" id="line-260"></span><span class="anchor" id="line-1-43"></span><div class="highlight python"><div class="codearea" dir="ltr" lang="en"><pre dir="ltr" id="CA-7ec4f03280597d052db28be74f77b67dab9ae2db" lang="en"><span class="line"><span class="anchor" id="line-1-44"></span>&gt;&gt;&gt; <span class="ID">T</span> = <span class="ID">A</span>.<span class="ID">copy</span>()</span>
<span class="line"><span class="anchor" id="line-2-22"></span>&gt;&gt;&gt; <span class="ID">T</span>[<span class="Number">1</span>::<span class="Number">2</span>] -= <span class="Number">1</span></span>
<span class="line"><span class="anchor" id="line-3-17"></span>&gt;&gt;&gt; <span class="ID">T</span></span>
<span class="line"><span class="anchor" id="line-4-16"></span><span class="ID">array</span>([<span class="Number">0</span>, <span class="Number">0</span>, <span class="Number">2</span>, <span class="Number">2</span>, <span class="Number">4</span>, <span class="Number">4</span>, <span class="Number">6</span>, <span class="Number">6</span>, <span class="Number">8</span>, <span class="Number">8</span>])</span>
</pre></div></div><span class="anchor" id="line-261"></span><span class="anchor" id="line-262"></span><p class="line874">Assignment is sometimes a good reason to use the &quot;everything&quot; slice: <span class="anchor" id="line-263"></span><span class="anchor" id="line-264"></span><span class="anchor" id="line-265"></span><span class="anchor" id="line-266"></span><span class="anchor" id="line-267"></span><span class="anchor" id="line-268"></span><span class="anchor" id="line-269"></span><span class="anchor" id="line-270"></span><span class="anchor" id="line-271"></span><span class="anchor" id="line-272"></span><span class="anchor" id="line-273"></span><span class="anchor" id="line-1-45"></span><div class="highlight python"><div class="codearea" dir="ltr" lang="en"><pre dir="ltr" id="CA-37c994885a6c2903a44fc2326094805c8fa3196b" lang="en"><span class="line"><span class="anchor" id="line-1-46"></span>&gt;&gt;&gt; <span class="ID">T</span> = <span class="ID">A</span>.<span class="ID">copy</span>()</span>
<span class="line"><span class="anchor" id="line-2-23"></span>&gt;&gt;&gt; <span class="ID">T</span>[:] = -<span class="Number">1</span></span>
<span class="line"><span class="anchor" id="line-3-18"></span>&gt;&gt;&gt; <span class="ID">T</span></span>
<span class="line"><span class="anchor" id="line-4-17"></span><span class="ID">array</span>([-<span class="Number">1</span>, -<span class="Number">1</span>, -<span class="Number">1</span>, -<span class="Number">1</span>, -<span class="Number">1</span>, -<span class="Number">1</span>, -<span class="Number">1</span>, -<span class="Number">1</span>, -<span class="Number">1</span>, -<span class="Number">1</span>])</span>
<span class="line"><span class="anchor" id="line-5-11"></span>&gt;&gt;&gt; <span class="ID">T</span> = <span class="ID">A</span>.<span class="ID">copy</span>()</span>
<span class="line"><span class="anchor" id="line-6-11"></span>&gt;&gt;&gt; <span class="ID">T</span> = -<span class="Number">1</span></span>
<span class="line"><span class="anchor" id="line-7-9"></span>&gt;&gt;&gt; <span class="ID">T</span></span>
<span class="line"><span class="anchor" id="line-8-8"></span>-<span class="Number">1</span></span>
</pre></div></div><span class="anchor" id="line-274"></span><p class="line862">What happened here? Well, in the first case we told numpy to assign -1 to all the elements of T, so that's what it did. In the second case, we told python &quot;T = -1&quot;. In python, variables are just names that can be attached to objects in memory. This is in sharp contrast with languages like C, where a variable is a named region of memory where data can be stored. Assignment to a variable name - T in this case - simply changes which object the name refers to, without altering the underlying object in any way. (If the name was the only reference to the original object, it becomes impossible for your program ever to find it again after the reassignment, so python deletes the original object to free up some memory.) In a language like C, assigning to a variable changes the value stored in that memory region. If you really must think in terms of C, you can think of all python variables as holding pointers to actual objects; assignment to a python variable is just modification of the pointer, and doesn't affect the object pointed to (unless garbage collection deletes it). In any case, if you want to modify the <em>contents</em> of an array, you can't do it by assigning to the name you gave the array; you must use slice assignment or some other approach. <span class="anchor" id="line-275"></span><span class="anchor" id="line-276"></span><p class="line874">Finally, a technical point: how can a program work with slices programmatically? What if you want to, say, save a slice specification to apply to many arrays later on? The answer is to use a slice object, which is constructed using slice(): <span class="anchor" id="line-277"></span><span class="anchor" id="line-278"></span><span class="anchor" id="line-279"></span><span class="anchor" id="line-280"></span><span class="anchor" id="line-281"></span><span class="anchor" id="line-282"></span><span class="anchor" id="line-283"></span><span class="anchor" id="line-284"></span><span class="anchor" id="line-1-47"></span><div class="highlight python"><div class="codearea" dir="ltr" lang="en"><pre dir="ltr" id="CA-d8ff22876292c010a57e9bc95ae54c2893689d92" lang="en"><span class="line"><span class="anchor" id="line-1-48"></span>&gt;&gt;&gt; <span class="ID">A</span>[<span class="Number">1</span>::<span class="Number">2</span>]</span>
<span class="line"><span class="anchor" id="line-2-24"></span><span class="ID">array</span>([<span class="Number">1</span>, <span class="Number">3</span>, <span class="Number">5</span>, <span class="Number">7</span>, <span class="Number">9</span>])</span>
<span class="line"><span class="anchor" id="line-3-19"></span>&gt;&gt;&gt; <span class="ID">s</span> = <span class="ResWord">slice</span>(<span class="Number">1</span>,<span class="ResWord">None</span>,<span class="Number">2</span>)</span>
<span class="line"><span class="anchor" id="line-4-18"></span>&gt;&gt;&gt; <span class="ID">A</span>[<span class="ID">s</span>]</span>
<span class="line"><span class="anchor" id="line-5-12"></span><span class="ID">array</span>([<span class="Number">1</span>, <span class="Number">3</span>, <span class="Number">5</span>, <span class="Number">7</span>, <span class="Number">9</span>])</span>
</pre></div></div><span class="anchor" id="line-285"></span><p class="line874">(Regrettably, you can't just write &quot;s = 1::2&quot;. But within square brackets, 1::2 is converted internally to slice(1,None,2).) You can leave out arguments to slice() just like you can with the colon notation, with one exception: <span class="anchor" id="line-286"></span><span class="anchor" id="line-287"></span><span class="anchor" id="line-288"></span><span class="anchor" id="line-289"></span><span class="anchor" id="line-290"></span><span class="anchor" id="line-291"></span><span class="anchor" id="line-292"></span><span class="anchor" id="line-293"></span><span class="anchor" id="line-294"></span><span class="anchor" id="line-295"></span><span class="anchor" id="line-296"></span><span class="anchor" id="line-297"></span><span class="anchor" id="line-298"></span><span class="anchor" id="line-1-49"></span><div class="highlight python"><div class="codearea" dir="ltr" lang="en"><pre dir="ltr" id="CA-959e888ec6670c8f3b5b1b1f06a24a3d6155360f" lang="en"><span class="line"><span class="anchor" id="line-1-50"></span>&gt;&gt;&gt; <span class="ID">A</span>[<span class="ResWord">slice</span>(-<span class="Number">3</span>)]</span>
<span class="line"><span class="anchor" id="line-2-25"></span><span class="ID">array</span>([<span class="Number">0</span>, <span class="Number">1</span>, <span class="Number">2</span>, <span class="Number">3</span>, <span class="Number">4</span>, <span class="Number">5</span>, <span class="Number">6</span>])</span>
<span class="line"><span class="anchor" id="line-3-20"></span>&gt;&gt;&gt; <span class="ID">A</span>[<span class="ResWord">slice</span>(<span class="ResWord">None</span>,<span class="Number">3</span>)]</span>
<span class="line"><span class="anchor" id="line-4-19"></span><span class="ID">array</span>([<span class="Number">0</span>, <span class="Number">1</span>, <span class="Number">2</span>])</span>
<span class="line"><span class="anchor" id="line-5-13"></span>&gt;&gt;&gt; <span class="ID">A</span>[<span class="ResWord">slice</span>()]</span>
<span class="line"><span class="anchor" id="line-6-12"></span><span class="ID">Traceback</span> (<span class="ID">most</span> <span class="ID">recent</span> <span class="ID">call</span> <span class="ID">last</span>):</span>
<span class="line"><span class="anchor" id="line-7-10"></span>  <span class="ID">File</span> <span class="String">&quot;</span><span class="String">&lt;stdin&gt;</span><span class="String">&quot;</span>, <span class="ID">line</span> <span class="Number">1</span>, <span class="ResWord">in</span> &lt;<span class="ID">module</span>&gt;</span>
<span class="line"><span class="anchor" id="line-8-9"></span><span class="ID">TypeError</span>: <span class="ResWord">slice</span> <span class="ID">expected</span> <span class="ID">at</span> <span class="ID">least</span> <span class="Number">1</span> <span class="ID">arguments</span>, <span class="ID">got</span> <span class="Number">0</span></span>
<span class="line"><span class="anchor" id="line-9-8"></span>&gt;&gt;&gt; <span class="ID">A</span>[<span class="ResWord">slice</span>(<span class="ResWord">None</span>,<span class="ResWord">None</span>,<span class="ResWord">None</span>)]</span>
<span class="line"><span class="anchor" id="line-10-7"></span><span class="ID">array</span>([<span class="Number">0</span>, <span class="Number">1</span>, <span class="Number">2</span>, <span class="Number">3</span>, <span class="Number">4</span>, <span class="Number">5</span>, <span class="Number">6</span>, <span class="Number">7</span>, <span class="Number">8</span>, <span class="Number">9</span>])</span>
</pre></div></div><span class="anchor" id="line-299"></span><span class="anchor" id="line-300"></span><p class="line867">
<h3 id="Multidimensional_slices">Multidimensional slices</h3>
<span class="anchor" id="line-301"></span><p class="line874">One-dimensional arrays are extremely useful, but often one has data that is naturally multidimensional - image data might be an N by M array of pixel values, or an N by M by 3 array of colour values, for example. Just as it is useful to take slices of one-dimensional arrays, it is useful to take slices of multidimensional arrays. This is fairly straightforward: <span class="anchor" id="line-302"></span><span class="anchor" id="line-303"></span><span class="anchor" id="line-304"></span><span class="anchor" id="line-305"></span><span class="anchor" id="line-306"></span><span class="anchor" id="line-307"></span><span class="anchor" id="line-308"></span><span class="anchor" id="line-309"></span><span class="anchor" id="line-310"></span><span class="anchor" id="line-311"></span><span class="anchor" id="line-312"></span><span class="anchor" id="line-313"></span><span class="anchor" id="line-314"></span><span class="anchor" id="line-315"></span><span class="anchor" id="line-1-51"></span><div class="highlight python"><div class="codearea" dir="ltr" lang="en"><pre dir="ltr" id="CA-38d7215b86307e31e72546f420fa4d3dd8ce3ce4" lang="en"><span class="line"><span class="anchor" id="line-1-52"></span>&gt;&gt;&gt; <span class="ID">B</span></span>
<span class="line"><span class="anchor" id="line-2-26"></span><span class="ID">array</span>([[<span class="Number">0</span>, <span class="Number">1</span>, <span class="Number">2</span>],</span>
<span class="line"><span class="anchor" id="line-3-21"></span>       [<span class="Number">3</span>, <span class="Number">4</span>, <span class="Number">5</span>],</span>
<span class="line"><span class="anchor" id="line-4-20"></span>       [<span class="Number">6</span>, <span class="Number">7</span>, <span class="Number">8</span>]])</span>
<span class="line"><span class="anchor" id="line-5-14"></span>&gt;&gt;&gt; <span class="ID">B</span>[:<span class="Number">2</span>,:]</span>
<span class="line"><span class="anchor" id="line-6-13"></span><span class="ID">array</span>([[<span class="Number">0</span>, <span class="Number">1</span>, <span class="Number">2</span>],</span>
<span class="line"><span class="anchor" id="line-7-11"></span>       [<span class="Number">3</span>, <span class="Number">4</span>, <span class="Number">5</span>]])</span>
<span class="line"><span class="anchor" id="line-8-10"></span>&gt;&gt;&gt; <span class="ID">B</span>[:,::-<span class="Number">1</span>]</span>
<span class="line"><span class="anchor" id="line-9-9"></span><span class="ID">array</span>([[<span class="Number">2</span>, <span class="Number">1</span>, <span class="Number">0</span>],</span>
<span class="line"><span class="anchor" id="line-10-8"></span>       [<span class="Number">5</span>, <span class="Number">4</span>, <span class="Number">3</span>],</span>
<span class="line"><span class="anchor" id="line-11-4"></span>       [<span class="Number">8</span>, <span class="Number">7</span>, <span class="Number">6</span>]])</span>
</pre></div></div><span class="anchor" id="line-316"></span><p class="line874">Essentially one simply specifies a one-dimensional slice for each axis. One can also supply a number for an axis rather than a slice: <span class="anchor" id="line-317"></span><span class="anchor" id="line-318"></span><span class="anchor" id="line-319"></span><span class="anchor" id="line-320"></span><span class="anchor" id="line-321"></span><span class="anchor" id="line-322"></span><span class="anchor" id="line-323"></span><span class="anchor" id="line-324"></span><span class="anchor" id="line-325"></span><span class="anchor" id="line-1-53"></span><div class="highlight python"><div class="codearea" dir="ltr" lang="en"><pre dir="ltr" id="CA-c6d59283669e07d8aac35551cf312a96a17e6b4a" lang="en"><span class="line"><span class="anchor" id="line-1-54"></span>&gt;&gt;&gt; <span class="ID">B</span>[<span class="Number">0</span>,:]</span>
<span class="line"><span class="anchor" id="line-2-27"></span><span class="ID">array</span>([<span class="Number">0</span>, <span class="Number">1</span>, <span class="Number">2</span>])</span>
<span class="line"><span class="anchor" id="line-3-22"></span>&gt;&gt;&gt; <span class="ID">B</span>[<span class="Number">0</span>,::-<span class="Number">1</span>]</span>
<span class="line"><span class="anchor" id="line-4-21"></span><span class="ID">array</span>([<span class="Number">2</span>, <span class="Number">1</span>, <span class="Number">0</span>])</span>
<span class="line"><span class="anchor" id="line-5-15"></span>&gt;&gt;&gt; <span class="ID">B</span>[:,<span class="Number">0</span>]</span>
<span class="line"><span class="anchor" id="line-6-14"></span><span class="ID">array</span>([<span class="Number">0</span>, <span class="Number">3</span>, <span class="Number">6</span>])</span>
</pre></div></div><span class="anchor" id="line-326"></span><p class="line874">Notice that when one supplies a number for (say) the first axis, the result is no longer a two-dimensional array; it's now a one-dimensional array. This makes sense: <span class="anchor" id="line-327"></span><span class="anchor" id="line-328"></span><span class="anchor" id="line-329"></span><span class="anchor" id="line-330"></span><span class="anchor" id="line-331"></span><span class="anchor" id="line-332"></span><span class="anchor" id="line-333"></span><span class="anchor" id="line-334"></span><span class="anchor" id="line-335"></span><span class="anchor" id="line-336"></span><span class="anchor" id="line-337"></span><span class="anchor" id="line-1-55"></span><div class="highlight python"><div class="codearea" dir="ltr" lang="en"><pre dir="ltr" id="CA-f49def461ce04eccf0a8e9e3189137afe964efbd" lang="en"><span class="line"><span class="anchor" id="line-1-56"></span>&gt;&gt;&gt; <span class="ID">B</span>[:,:]</span>
<span class="line"><span class="anchor" id="line-2-28"></span><span class="ID">array</span>([[<span class="Number">0</span>, <span class="Number">1</span>, <span class="Number">2</span>],</span>
<span class="line"><span class="anchor" id="line-3-23"></span>       [<span class="Number">3</span>, <span class="Number">4</span>, <span class="Number">5</span>],</span>
<span class="line"><span class="anchor" id="line-4-22"></span>       [<span class="Number">6</span>, <span class="Number">7</span>, <span class="Number">8</span>]])</span>
<span class="line"><span class="anchor" id="line-5-16"></span>&gt;&gt;&gt; <span class="ID">B</span>[<span class="Number">0</span>,:]</span>
<span class="line"><span class="anchor" id="line-6-15"></span><span class="ID">array</span>([<span class="Number">0</span>, <span class="Number">1</span>, <span class="Number">2</span>])</span>
<span class="line"><span class="anchor" id="line-7-12"></span>&gt;&gt;&gt; <span class="ID">B</span>[<span class="Number">0</span>,<span class="Number">0</span>]</span>
<span class="line"><span class="anchor" id="line-8-11"></span><span class="Number">0</span></span>
</pre></div></div><span class="anchor" id="line-338"></span><p class="line874">If you supply no numbers, you get a two-dimensional array; if you supply one number, the dimension drops by one, and you get a one-dimensional array; and if you supply two numbers the dimension drops by two and you get a scalar. (If you think you should get a zero-dimensional array, you are opening a can of worms. The distinction, or lack thereof, between scalars and zero-dimensional arrays is an issue under discussion and development.) <span class="anchor" id="line-339"></span><span class="anchor" id="line-340"></span><p class="line862">If you are used to working with matrices, you may want to preserve a distinction between &quot;row vectors&quot; and &quot;column vectors&quot;. numpy supports only one kind of one-dimensional array, but you could represent row and column vectors as <em>two</em>-dimensional arrays, one of whose dimensions happens to be one. Unfortunately indexing of these objects then becomes cumbersome. <span class="anchor" id="line-341"></span><span class="anchor" id="line-342"></span><p class="line874">As with one-dimensional arrays, if you specify a slice that happens to have only one element, you get an array one of whose axes has length 1 - the axis doesn't &quot;disappear&quot; the way it would if you had provided an actual number for that axis: <span class="anchor" id="line-343"></span><span class="anchor" id="line-344"></span><span class="anchor" id="line-345"></span><span class="anchor" id="line-346"></span><span class="anchor" id="line-347"></span><span class="anchor" id="line-348"></span><span class="anchor" id="line-349"></span><span class="anchor" id="line-350"></span><span class="anchor" id="line-351"></span><span class="anchor" id="line-1-57"></span><div class="highlight python"><div class="codearea" dir="ltr" lang="en"><pre dir="ltr" id="CA-e0e40928acff84ebfc153fe7e8a47e51b2145b9f" lang="en"><span class="line"><span class="anchor" id="line-1-58"></span>&gt;&gt;&gt; <span class="ID">B</span>[:,<span class="Number">0</span>:<span class="Number">1</span>]</span>
<span class="line"><span class="anchor" id="line-2-29"></span><span class="ID">array</span>([[<span class="Number">0</span>],</span>
<span class="line"><span class="anchor" id="line-3-24"></span>       [<span class="Number">3</span>],</span>
<span class="line"><span class="anchor" id="line-4-23"></span>       [<span class="Number">6</span>]])</span>
<span class="line"><span class="anchor" id="line-5-17"></span>&gt;&gt;&gt; <span class="ID">B</span>[:,<span class="Number">0</span>]</span>
<span class="line"><span class="anchor" id="line-6-16"></span><span class="ID">array</span>([<span class="Number">0</span>, <span class="Number">3</span>, <span class="Number">6</span>])</span>
</pre></div></div><span class="anchor" id="line-352"></span><span class="anchor" id="line-353"></span><p class="line874">numpy also has a few shortcuts well-suited to dealing with arrays with an indeterminate number of dimensions. If this seems like something unreasonable, keep in mind that many of numpy's functions (for example np.sort(), np.sum(), and np.transpose()) must work on arrays of arbitrary dimension. It is of course possible to extract the number of dimensions from an array and work with it explicitly, but one's code tends to fill up with things like (slice(None,None,None),)*(C.ndim-1), making it unpleasant to read. So numpy has some shortcuts which often simplify things.  <span class="anchor" id="line-354"></span><span class="anchor" id="line-355"></span><p class="line874">First the Ellipsis object: <span class="anchor" id="line-356"></span><span class="anchor" id="line-357"></span><span class="anchor" id="line-358"></span><span class="anchor" id="line-359"></span><span class="anchor" id="line-360"></span><span class="anchor" id="line-361"></span><span class="anchor" id="line-362"></span><span class="anchor" id="line-363"></span><span class="anchor" id="line-364"></span><span class="anchor" id="line-365"></span><span class="anchor" id="line-366"></span><span class="anchor" id="line-367"></span><span class="anchor" id="line-368"></span><span class="anchor" id="line-369"></span><span class="anchor" id="line-370"></span><span class="anchor" id="line-371"></span><span class="anchor" id="line-372"></span><span class="anchor" id="line-1-59"></span><div class="highlight python"><div class="codearea" dir="ltr" lang="en"><pre dir="ltr" id="CA-df99044c6707fdd9cd7dd80e531b42eb58c45da1" lang="en"><span class="line"><span class="anchor" id="line-1-60"></span>&gt;&gt;&gt; <span class="ID">A</span>[...]</span>
<span class="line"><span class="anchor" id="line-2-30"></span><span class="ID">array</span>([<span class="Number">0</span>, <span class="Number">1</span>, <span class="Number">2</span>, <span class="Number">3</span>, <span class="Number">4</span>, <span class="Number">5</span>, <span class="Number">6</span>, <span class="Number">7</span>, <span class="Number">8</span>, <span class="Number">9</span>])</span>
<span class="line"><span class="anchor" id="line-3-25"></span>&gt;&gt;&gt; <span class="ID">B</span>[...]</span>
<span class="line"><span class="anchor" id="line-4-24"></span><span class="ID">array</span>([[<span class="Number">0</span>, <span class="Number">1</span>, <span class="Number">2</span>],</span>
<span class="line"><span class="anchor" id="line-5-18"></span>       [<span class="Number">3</span>, <span class="Number">4</span>, <span class="Number">5</span>],</span>
<span class="line"><span class="anchor" id="line-6-17"></span>       [<span class="Number">6</span>, <span class="Number">7</span>, <span class="Number">8</span>]])</span>
<span class="line"><span class="anchor" id="line-7-13"></span>&gt;&gt;&gt; <span class="ID">B</span>[<span class="Number">0</span>,...]</span>
<span class="line"><span class="anchor" id="line-8-12"></span><span class="ID">array</span>([<span class="Number">0</span>, <span class="Number">1</span>, <span class="Number">2</span>])</span>
<span class="line"><span class="anchor" id="line-9-10"></span>&gt;&gt;&gt; <span class="ID">B</span>[<span class="Number">0</span>,...,<span class="Number">0</span>]</span>
<span class="line"><span class="anchor" id="line-10-9"></span><span class="ID">array</span>(<span class="Number">0</span>)</span>
<span class="line"><span class="anchor" id="line-11-5"></span>&gt;&gt;&gt; <span class="ID">C</span>[<span class="Number">0</span>,...,<span class="Number">0</span>]</span>
<span class="line"><span class="anchor" id="line-12-4"></span><span class="ID">array</span>([<span class="Number">0</span>, <span class="Number">4</span>, <span class="Number">8</span>])</span>
<span class="line"><span class="anchor" id="line-13-2"></span>&gt;&gt;&gt; <span class="ID">C</span>[<span class="Number">0</span>,<span class="ResWord">Ellipsis</span>,<span class="Number">0</span>]</span>
<span class="line"><span class="anchor" id="line-14-2"></span><span class="ID">array</span>([<span class="Number">0</span>, <span class="Number">4</span>, <span class="Number">8</span>])</span>
</pre></div></div><span class="anchor" id="line-373"></span><p class="line874">The ellipsis (three dots) indicates &quot;as many ':' as needed&quot;. (Its name for use in index-fiddling code is Ellipsis, and it's not numpy-specific.) This makes it easy to manipulate only one dimension of an array, letting numpy do array-wise operations over the &quot;unwanted&quot; dimensions. You can only really have one ellipsis in any given indexing expression, or else the expression would be ambiguous about how many ':' should be put in each. (In fact, for some reason it is allowed to have something like &quot;C[...,...]&quot;; this is not actually ambiguous.)  <span class="anchor" id="line-374"></span><span class="anchor" id="line-375"></span><p class="line874">In some circumstances, it is convenient to omit the ellipsis entirely: <span class="anchor" id="line-376"></span><span class="anchor" id="line-377"></span><span class="anchor" id="line-378"></span><span class="anchor" id="line-379"></span><span class="anchor" id="line-380"></span><span class="anchor" id="line-381"></span><span class="anchor" id="line-382"></span><span class="anchor" id="line-383"></span><span class="anchor" id="line-384"></span><span class="anchor" id="line-385"></span><span class="anchor" id="line-386"></span><span class="anchor" id="line-387"></span><span class="anchor" id="line-388"></span><span class="anchor" id="line-389"></span><span class="anchor" id="line-1-61"></span><div class="highlight python"><div class="codearea" dir="ltr" lang="en"><pre dir="ltr" id="CA-bc6272e94194b46be8a68c2dc7318b2199a14d49" lang="en"><span class="line"><span class="anchor" id="line-1-62"></span>&gt;&gt;&gt; <span class="ID">B</span>[<span class="Number">0</span>]</span>
<span class="line"><span class="anchor" id="line-2-31"></span><span class="ID">array</span>([<span class="Number">0</span>, <span class="Number">1</span>, <span class="Number">2</span>])</span>
<span class="line"><span class="anchor" id="line-3-26"></span>&gt;&gt;&gt; <span class="ID">C</span>[<span class="Number">0</span>]</span>
<span class="line"><span class="anchor" id="line-4-25"></span><span class="ID">array</span>([[ <span class="Number">0</span>,  <span class="Number">1</span>,  <span class="Number">2</span>,  <span class="Number">3</span>],</span>
<span class="line"><span class="anchor" id="line-5-19"></span>       [ <span class="Number">4</span>,  <span class="Number">5</span>,  <span class="Number">6</span>,  <span class="Number">7</span>],</span>
<span class="line"><span class="anchor" id="line-6-18"></span>       [ <span class="Number">8</span>,  <span class="Number">9</span>, <span class="Number">10</span>, <span class="Number">11</span>]])</span>
<span class="line"><span class="anchor" id="line-7-14"></span>&gt;&gt;&gt; <span class="ID">C</span>[<span class="Number">0</span>,<span class="Number">0</span>]</span>
<span class="line"><span class="anchor" id="line-8-13"></span><span class="ID">array</span>([<span class="Number">0</span>, <span class="Number">1</span>, <span class="Number">2</span>, <span class="Number">3</span>])</span>
<span class="line"><span class="anchor" id="line-9-11"></span>&gt;&gt;&gt; <span class="ID">B</span>[<span class="Number">0</span>:<span class="Number">2</span>]</span>
<span class="line"><span class="anchor" id="line-10-10"></span><span class="ID">array</span>([[<span class="Number">0</span>, <span class="Number">1</span>, <span class="Number">2</span>],</span>
<span class="line"><span class="anchor" id="line-11-6"></span>       [<span class="Number">3</span>, <span class="Number">4</span>, <span class="Number">5</span>]])</span>
</pre></div></div><span class="anchor" id="line-390"></span><p class="line874">If you don't supply enough indices to an array, an ellipsis is silently appended. This means that in some sense you can view a two-dimensional array as an array of one-dimensional arrays. In combination with numpy's array-wise operations, this means that functions written for one-dimensional arrays can often just work for two-dimensional arrays. For example, recall the difference operation we wrote out in the section on one-dimensional slices: <span class="anchor" id="line-391"></span><span class="anchor" id="line-392"></span><span class="anchor" id="line-393"></span><span class="anchor" id="line-394"></span><span class="anchor" id="line-395"></span><span class="anchor" id="line-396"></span><span class="anchor" id="line-397"></span><span class="anchor" id="line-398"></span><span class="anchor" id="line-1-63"></span><div class="highlight python"><div class="codearea" dir="ltr" lang="en"><pre dir="ltr" id="CA-1c475ace2f22b2b72f1b358a6cc9038c7f89de40" lang="en"><span class="line"><span class="anchor" id="line-1-64"></span>&gt;&gt;&gt; <span class="ID">A</span>[<span class="Number">1</span>:] - <span class="ID">A</span>[:-<span class="Number">1</span>]</span>
<span class="line"><span class="anchor" id="line-2-32"></span><span class="ID">array</span>([<span class="Number">1</span>, <span class="Number">1</span>, <span class="Number">1</span>, <span class="Number">1</span>, <span class="Number">1</span>, <span class="Number">1</span>, <span class="Number">1</span>, <span class="Number">1</span>, <span class="Number">1</span>])</span>
<span class="line"><span class="anchor" id="line-3-27"></span>&gt;&gt;&gt; <span class="ID">B</span>[<span class="Number">1</span>:] - <span class="ID">B</span>[:-<span class="Number">1</span>]</span>
<span class="line"><span class="anchor" id="line-4-26"></span><span class="ID">array</span>([[<span class="Number">3</span>, <span class="Number">3</span>, <span class="Number">3</span>],</span>
<span class="line"><span class="anchor" id="line-5-20"></span>       [<span class="Number">3</span>, <span class="Number">3</span>, <span class="Number">3</span>]])</span>
</pre></div></div><span class="anchor" id="line-399"></span><p class="line874">It works, unmodified, to take the differences along the first axis of a two-dimensional array.  <span class="anchor" id="line-400"></span><span class="anchor" id="line-401"></span><p class="line874">Writing to multidimensional slices works just the way writing to one-dimensional slices does: <span class="anchor" id="line-402"></span><span class="anchor" id="line-403"></span><span class="anchor" id="line-404"></span><span class="anchor" id="line-405"></span><span class="anchor" id="line-406"></span><span class="anchor" id="line-407"></span><span class="anchor" id="line-408"></span><span class="anchor" id="line-409"></span><span class="anchor" id="line-410"></span><span class="anchor" id="line-411"></span><span class="anchor" id="line-412"></span><span class="anchor" id="line-413"></span><span class="anchor" id="line-414"></span><pre><span class="anchor" id="line-1"></span>&gt;&gt;&gt; T = B.copy()
<span class="anchor" id="line-2"></span>&gt;&gt;&gt; T[1,:] = -1
<span class="anchor" id="line-3"></span>&gt;&gt;&gt; T
<span class="anchor" id="line-4"></span>array([[ 0,  1,  2],
<span class="anchor" id="line-5"></span>       [-1, -1, -1],
<span class="anchor" id="line-6"></span>       [ 6,  7,  8]])
<span class="anchor" id="line-7"></span>&gt;&gt;&gt; T[:,:2] = -2
<span class="anchor" id="line-8"></span>&gt;&gt;&gt; T
<span class="anchor" id="line-9"></span>array([[-2, -2,  2],
<span class="anchor" id="line-10"></span>       [-2, -2, -1],
<span class="anchor" id="line-11"></span>       [-2, -2,  8]])</pre><span class="anchor" id="line-415"></span><span class="anchor" id="line-416"></span><p class="line874">FIXME: np.newaxis and broadcasting rules. <span class="anchor" id="line-417"></span><span class="anchor" id="line-418"></span><p class="line867">
<h3 id="Views_versus_copies">Views versus copies</h3>
<span class="anchor" id="line-419"></span><span class="anchor" id="line-420"></span><p class="line874">FIXME: Zero-dimensional arrays, views of a single element. <span class="anchor" id="line-421"></span><span class="anchor" id="line-422"></span><p class="line867">
<h2 id="Fancy_indexing">Fancy indexing</h2>
<span class="anchor" id="line-423"></span><p class="line874">Slices are very handy, and the fact that they can be created as views makes them efficient. But some operations cannot really be done with slices; for example, suppose one wanted to square all the negative values in an array. Short of writing a loop in python, one wants to be able to locate the negative values, extract them, square them, and put the new values where the old ones were: <span class="anchor" id="line-424"></span><span class="anchor" id="line-425"></span><span class="anchor" id="line-426"></span><span class="anchor" id="line-427"></span><span class="anchor" id="line-428"></span><span class="anchor" id="line-429"></span><span class="anchor" id="line-430"></span><span class="anchor" id="line-1-65"></span><div class="highlight python"><div class="codearea" dir="ltr" lang="en"><pre dir="ltr" id="CA-7b12b9f97e7774bdccd4cf5f252131d40e345d2b" lang="en"><span class="line"><span class="anchor" id="line-1-66"></span>&gt;&gt;&gt; <span class="ID">T</span> = <span class="ID">A</span>.<span class="ID">copy</span>() - <span class="Number">5</span></span>
<span class="line"><span class="anchor" id="line-2-33"></span>&gt;&gt;&gt; <span class="ID">T</span>[<span class="ID">T</span>&lt;<span class="Number">0</span>] **= <span class="Number">2</span></span>
<span class="line"><span class="anchor" id="line-3-28"></span>&gt;&gt;&gt; <span class="ID">T</span></span>
<span class="line"><span class="anchor" id="line-4-27"></span><span class="ID">array</span>([<span class="Number">25</span>, <span class="Number">16</span>,  <span class="Number">9</span>,  <span class="Number">4</span>,  <span class="Number">1</span>,  <span class="Number">0</span>,  <span class="Number">1</span>,  <span class="Number">2</span>,  <span class="Number">3</span>,  <span class="Number">4</span>])</span>
</pre></div></div><span class="anchor" id="line-431"></span><p class="line874">Or suppose one wants to use an array as a lookup table, that is, for an array B, produce an array whose i,j th element is LUT[B[i,j]]: FIXME: argsort is a better example <span class="anchor" id="line-432"></span><span class="anchor" id="line-433"></span><span class="anchor" id="line-434"></span><span class="anchor" id="line-435"></span><span class="anchor" id="line-436"></span><span class="anchor" id="line-437"></span><span class="anchor" id="line-438"></span><span class="anchor" id="line-439"></span><span class="anchor" id="line-440"></span><span class="anchor" id="line-441"></span><span class="anchor" id="line-442"></span><span class="anchor" id="line-1-67"></span><div class="highlight python"><div class="codearea" dir="ltr" lang="en"><pre dir="ltr" id="CA-207186dc7776622e3b569f12a141485b60183797" lang="en"><span class="line"><span class="anchor" id="line-1-68"></span>&gt;&gt;&gt; <span class="ID">LUT</span> = <span class="ID">np</span>.<span class="ID">sin</span>(<span class="ID">A</span>)</span>
<span class="line"><span class="anchor" id="line-2-34"></span>&gt;&gt;&gt; <span class="ID">LUT</span></span>
<span class="line"><span class="anchor" id="line-3-29"></span><span class="ID">array</span>([ <span class="Number">0.</span>        ,  <span class="Number">0.84147098</span>,  <span class="Number">0.90929743</span>,  <span class="Number">0.14112001</span>, -<span class="Number">0.7568025</span> ,</span>
<span class="line"><span class="anchor" id="line-4-28"></span>       -<span class="Number">0.95892427</span>, -<span class="Number">0.2794155</span> ,  <span class="Number">0.6569866</span> ,  <span class="Number">0.98935825</span>,  <span class="Number">0.41211849</span>])</span>
<span class="line"><span class="anchor" id="line-5-21"></span>&gt;&gt;&gt; <span class="ID">LUT</span>[<span class="ID">B</span>]</span>
<span class="line"><span class="anchor" id="line-6-19"></span><span class="ID">array</span>([[ <span class="Number">0.</span>        ,  <span class="Number">0.84147098</span>,  <span class="Number">0.90929743</span>],</span>
<span class="line"><span class="anchor" id="line-7-15"></span>       [ <span class="Number">0.14112001</span>, -<span class="Number">0.7568025</span> , -<span class="Number">0.95892427</span>],</span>
<span class="line"><span class="anchor" id="line-8-14"></span>       [-<span class="Number">0.2794155</span> ,  <span class="Number">0.6569866</span> ,  <span class="Number">0.98935825</span>]])</span>
</pre></div></div><span class="anchor" id="line-443"></span><p class="line874">For this sort of thing numpy provides what is called &quot;fancy indexing&quot;. It is not nearly as quick and lightweight as slicing, but it allows one to do some rather sophisticated things while letting numpy do all the hard work in C. <span class="anchor" id="line-444"></span><span class="anchor" id="line-445"></span><p class="line867">
<h3 id="Boolean_indexing">Boolean indexing</h3>
<span class="anchor" id="line-446"></span><p class="line874">It frequently happens that one wants to select or modify only the elements of an array satisfying some condition. numpy provides several tools for working with this sort of situation. The first is boolean arrays. Comparisons - equal to, less than, and so on - between numpy arrays produce arrays of boolean values: <span class="anchor" id="line-447"></span><span class="anchor" id="line-448"></span><span class="anchor" id="line-449"></span><span class="anchor" id="line-450"></span><span class="anchor" id="line-451"></span><span class="anchor" id="line-1-69"></span><div class="highlight python"><div class="codearea" dir="ltr" lang="en"><pre dir="ltr" id="CA-a1620f94c81885cd4eaf6ed6de857310a5f2f160" lang="en"><span class="line"><span class="anchor" id="line-1-70"></span>&gt;&gt;&gt; <span class="ID">A</span>&lt;<span class="Number">5</span></span>
<span class="line"><span class="anchor" id="line-2-35"></span><span class="ID">array</span>([ <span class="ResWord">True</span>,  <span class="ResWord">True</span>,  <span class="ResWord">True</span>,  <span class="ResWord">True</span>,  <span class="ResWord">True</span>, <span class="ResWord">False</span>, <span class="ResWord">False</span>, <span class="ResWord">False</span>, <span class="ResWord">False</span>, <span class="ResWord">False</span>], <span class="ID">dtype</span>=<span class="ResWord">bool</span>)</span>
</pre></div></div><span class="anchor" id="line-452"></span><p class="line862">These are normal arrays. The actual storage type is normally a single byte per value, not bits packed into a byte, but boolean arrays offer the same range of indexing and array-wise operations as other arrays. Unfortunately, python's &quot;and&quot; and &quot;or&quot; cannot be overridden to do array-wise operations, so you must use the bitwise operations &quot;&amp;&quot;, &quot;|&quot;, and &quot;^&quot; (for exclusive-or). Similarly python's chained inequalities cannot be overridden. Also, regrettably, one cannot chage the precence of the bitwise operators: <span class="anchor" id="line-453"></span><span class="anchor" id="line-454"></span><span class="anchor" id="line-455"></span><span class="anchor" id="line-456"></span><span class="anchor" id="line-457"></span><span class="anchor" id="line-458"></span><span class="anchor" id="line-459"></span><span class="anchor" id="line-460"></span><span class="anchor" id="line-461"></span><span class="anchor" id="line-462"></span><span class="anchor" id="line-1-71"></span><div class="highlight python"><div class="codearea" dir="ltr" lang="en"><pre dir="ltr" id="CA-aabd81c1cc6cf005c97e240c26e7b544435361b5" lang="en"><span class="line"><span class="anchor" id="line-1-72"></span>&gt;&gt;&gt; <span class="ID">c</span> = <span class="ID">A</span>&lt;<span class="Number">5</span> &amp; <span class="ID">A</span>&gt;<span class="Number">1</span></span>
<span class="line"><span class="anchor" id="line-2-36"></span><span class="ID">Traceback</span> (<span class="ID">most</span> <span class="ID">recent</span> <span class="ID">call</span> <span class="ID">last</span>):</span>
<span class="line"><span class="anchor" id="line-3-30"></span>  <span class="ID">File</span> <span class="String">&quot;</span><span class="String">&lt;stdin&gt;</span><span class="String">&quot;</span>, <span class="ID">line</span> <span class="Number">1</span>, <span class="ResWord">in</span> &lt;<span class="ID">module</span>&gt;</span>
<span class="line"><span class="anchor" id="line-4-29"></span><span class="ID">ValueError</span>: <span class="ID">The</span> <span class="ID">truth</span> <span class="ID">value</span> <span class="ID">of</span> <span class="ID">an</span> <span class="ID">array</span> <span class="ResWord">with</span> <span class="ID">more</span> <span class="ID">than</span> <span class="ID">one</span> <span class="ID">element</span> <span class="ResWord">is</span> <span class="ID">ambiguous</span>. <span class="ID">Use</span> <span class="ID">a</span>.<span class="ID">any</span>() <span class="ResWord">or</span> <span class="ID">a</span>.<span class="ID">all</span>()</span>
<span class="line"><span class="anchor" id="line-5-22"></span>&gt;&gt;&gt; <span class="ID">c</span> = (<span class="ID">A</span>&lt;<span class="Number">5</span>) &amp; (<span class="ID">A</span>&gt;<span class="Number">1</span>)</span>
<span class="line"><span class="anchor" id="line-6-20"></span>&gt;&gt;&gt; <span class="ID">c</span></span>
<span class="line"><span class="anchor" id="line-7-16"></span><span class="ID">array</span>([<span class="ResWord">False</span>, <span class="ResWord">False</span>,  <span class="ResWord">True</span>,  <span class="ResWord">True</span>,  <span class="ResWord">True</span>, <span class="ResWord">False</span>, <span class="ResWord">False</span>, <span class="ResWord">False</span>, <span class="ResWord">False</span>, <span class="ResWord">False</span>], <span class="ID">dtype</span>=<span class="ResWord">bool</span>)</span>
</pre></div></div><span class="anchor" id="line-463"></span><p class="line874">Nevertheless, numpy's boolean arrays are extremely powerful. <span class="anchor" id="line-464"></span><span class="anchor" id="line-465"></span><p class="line874">One can use boolean arrays to extract values from arrays: <span class="anchor" id="line-466"></span><span class="anchor" id="line-467"></span><span class="anchor" id="line-468"></span><span class="anchor" id="line-469"></span><span class="anchor" id="line-470"></span><span class="anchor" id="line-471"></span><span class="anchor" id="line-1-73"></span><div class="highlight python"><div class="codearea" dir="ltr" lang="en"><pre dir="ltr" id="CA-68fc9b53b7e06737f1f6b140c6411ab780ec8c4b" lang="en"><span class="line"><span class="anchor" id="line-1-74"></span>&gt;&gt;&gt; <span class="ID">c</span> = (<span class="ID">A</span>&lt;<span class="Number">5</span>) &amp; (<span class="ID">A</span>&gt;<span class="Number">1</span>)</span>
<span class="line"><span class="anchor" id="line-2-37"></span>&gt;&gt;&gt; <span class="ID">A</span>[<span class="ID">c</span>]</span>
<span class="line"><span class="anchor" id="line-3-31"></span><span class="ID">array</span>([<span class="Number">2</span>, <span class="Number">3</span>, <span class="Number">4</span>])</span>
</pre></div></div><span class="anchor" id="line-472"></span><p class="line874">The result is necessarily a copy of the original array, rather than a view, since it will not normally be the case the the elements of c that are True select an evenly-strided memory layout. Nevertheless it is also possible to use boolean arrays to write to specific elements: <span class="anchor" id="line-473"></span><span class="anchor" id="line-474"></span><span class="anchor" id="line-475"></span><span class="anchor" id="line-476"></span><span class="anchor" id="line-477"></span><span class="anchor" id="line-478"></span><span class="anchor" id="line-479"></span><pre><span class="anchor" id="line-1-1"></span>&gt;&gt;&gt; T = A.copy()
<span class="anchor" id="line-2-1"></span>&gt;&gt;&gt; c = (A&lt;5) &amp; (A&gt;1)
<span class="anchor" id="line-3-1"></span>&gt;&gt;&gt; T[c] = -7
<span class="anchor" id="line-4-1"></span>&gt;&gt;&gt; T
<span class="anchor" id="line-5-1"></span>array([ 0,  1, -7, -7, -7,  5,  6,  7,  8,  9])</pre><span class="anchor" id="line-480"></span><span class="anchor" id="line-481"></span><p class="line874">FIXME: mention where() <span class="anchor" id="line-482"></span><span class="anchor" id="line-483"></span><p class="line867">
<h4 id="Multidimensional_boolean_indexing">Multidimensional boolean indexing</h4>
<span class="anchor" id="line-484"></span><p class="line874">Boolean indexing works for multidimensional arrays as well. In its simplest (and most common) incarnation, you simply supply a single boolean array as index, the same shape as the original array: <span class="anchor" id="line-485"></span><span class="anchor" id="line-486"></span><span class="anchor" id="line-487"></span><span class="anchor" id="line-488"></span><pre><span class="anchor" id="line-1-2"></span>&gt;&gt;&gt; C[C%5==0]
<span class="anchor" id="line-2-2"></span>array([ 0,  5, 10, 15, 20])</pre><span class="anchor" id="line-489"></span><p class="line874">You then get back a one-dimensional array of the elements for which the condition is True. (Note that the array must be one-dimensional, since the boolean values can be arranged arbitrarily around the array. If you want to keep track of the arrangement of values in the original array, look into using numpy's &quot;masked array&quot; tools.) You can also use boolean indexing for assignment, just as you can for one-dimensional arrays. <span class="anchor" id="line-490"></span><span class="anchor" id="line-491"></span><p class="line874">Two very useful operations on boolean arrays are np.any() and np.all(): <span class="anchor" id="line-492"></span><span class="anchor" id="line-493"></span><span class="anchor" id="line-494"></span><span class="anchor" id="line-495"></span><span class="anchor" id="line-496"></span><span class="anchor" id="line-497"></span><pre><span class="anchor" id="line-1-3"></span>&gt;&gt;&gt; np.any(B&lt;5)
<span class="anchor" id="line-2-3"></span>True
<span class="anchor" id="line-3-2"></span>&gt;&gt;&gt; np.all(B&lt;5)
<span class="anchor" id="line-4-2"></span>False</pre><span class="anchor" id="line-498"></span><p class="line874">They do just what they say on the tin, evaluate whether any entry in the boolean matrix is True, or whether all elements in the boolean matrix are True. But they can also be used to evaluate &quot;along an axis&quot;, for example, to produce a boolean array saying whether any element in a given row is True: <span class="anchor" id="line-499"></span><span class="anchor" id="line-500"></span><span class="anchor" id="line-501"></span><span class="anchor" id="line-502"></span><span class="anchor" id="line-503"></span><span class="anchor" id="line-504"></span><span class="anchor" id="line-505"></span><span class="anchor" id="line-506"></span><span class="anchor" id="line-507"></span><span class="anchor" id="line-508"></span><pre><span class="anchor" id="line-1-4"></span>&gt;&gt;&gt; B&lt;5
<span class="anchor" id="line-2-4"></span>array([[ True,  True,  True],
<span class="anchor" id="line-3-3"></span>       [ True,  True, False],
<span class="anchor" id="line-4-3"></span>       [False, False, False]], dtype=bool)
<span class="anchor" id="line-5-2"></span>&gt;&gt;&gt; np.any(B&lt;5, axis=1)
<span class="anchor" id="line-6-1"></span>array([ True,  True, False], dtype=bool)
<span class="anchor" id="line-7-1"></span>&gt;&gt;&gt; np.all(B&lt;5, axis=1)
<span class="anchor" id="line-8-1"></span>array([ True, False, False], dtype=bool)</pre><span class="anchor" id="line-509"></span><span class="anchor" id="line-510"></span><p class="line874">One can also use boolean indexing to pull out rows or columns meeting some criterion: <span class="anchor" id="line-511"></span><span class="anchor" id="line-512"></span><span class="anchor" id="line-513"></span><span class="anchor" id="line-514"></span><span class="anchor" id="line-515"></span><pre><span class="anchor" id="line-1-5"></span>&gt;&gt;&gt; B[np.any(B&lt;5, axis=1),:]
<span class="anchor" id="line-2-5"></span>array([[0, 1, 2],
<span class="anchor" id="line-3-4"></span>       [3, 4, 5]])</pre><span class="anchor" id="line-516"></span><p class="line874">The result here is two-dimensional because there is one dimension for the results of the boolean indexing, and one dimension because each row is one-dimensional. <span class="anchor" id="line-517"></span><span class="anchor" id="line-518"></span><p class="line874">This works with higher-dimensional boolean arrays as well: <span class="anchor" id="line-519"></span><span class="anchor" id="line-520"></span><span class="anchor" id="line-521"></span><span class="anchor" id="line-522"></span><span class="anchor" id="line-523"></span><span class="anchor" id="line-524"></span><span class="anchor" id="line-525"></span><span class="anchor" id="line-526"></span><span class="anchor" id="line-527"></span><pre><span class="anchor" id="line-1-6"></span>&gt;&gt;&gt; c = np.any(C&lt;5,axis=2)
<span class="anchor" id="line-2-6"></span>&gt;&gt;&gt; c
<span class="anchor" id="line-3-5"></span>array([[ True,  True, False],
<span class="anchor" id="line-4-4"></span>       [False, False, False]], dtype=bool)
<span class="anchor" id="line-5-3"></span>&gt;&gt;&gt; C[c,:]
<span class="anchor" id="line-6-2"></span>array([[0, 1, 2, 3],
<span class="anchor" id="line-7-2"></span>       [4, 5, 6, 7]])</pre><span class="anchor" id="line-528"></span><p class="line874">Here too the result is two-dimensional, though that is perhaps a little more surprising. The boolean array is two-dimensional, but the part of the return value corresponding to the boolean array must be one-dimensional, since the True values may be distributed arbitrarily. The subarray of C corresponding to each True or False value is one-dimensional, so we get a return array of dimension two. <span class="anchor" id="line-529"></span><span class="anchor" id="line-530"></span><p class="line874">Finally, if you want to apply boolean conditions to the rows and columns simultaneously, beware: <span class="anchor" id="line-531"></span><span class="anchor" id="line-532"></span><span class="anchor" id="line-533"></span><span class="anchor" id="line-534"></span><span class="anchor" id="line-535"></span><span class="anchor" id="line-536"></span><span class="anchor" id="line-537"></span><pre><span class="anchor" id="line-1-7"></span>&gt;&gt;&gt; B[np.array([True, False, True]), np.array([False, True, True])]
<span class="anchor" id="line-2-7"></span>array([1, 8])
<span class="anchor" id="line-3-6"></span>&gt;&gt;&gt; B[np.array([True, False, True]),:][:,np.array([False, True, True])]
<span class="anchor" id="line-4-5"></span>array([[1, 2],
<span class="anchor" id="line-5-4"></span>       [7, 8]])</pre><span class="anchor" id="line-538"></span><p class="line874">The obvious approach doesn't give the right answer. I don't know why not, or why it produces the value that it does. You can get the right answer by indexing twice, but that's clumsy and inefficient and doesn't allow assignment. <span class="anchor" id="line-539"></span><span class="anchor" id="line-540"></span><p class="line874">FIXME: works with too-small boolean arrays for some reason? <span class="anchor" id="line-541"></span><span class="anchor" id="line-542"></span><p class="line867">
<h3 id="List-of-locations_indexing">List-of-locations indexing</h3>
<span class="anchor" id="line-543"></span><span class="anchor" id="line-544"></span><p class="line874">It happens with some frequency that one wants to pull out values at a particular location in an array. If one wants a single location, one can just use simple indexing. But if there are many locations, you need something a bit more clever. Fortunately numpy supports a mode of fancy indexing that accomplishes this: <span class="anchor" id="line-545"></span><span class="anchor" id="line-546"></span><span class="anchor" id="line-547"></span><span class="anchor" id="line-548"></span><span class="anchor" id="line-549"></span><span class="anchor" id="line-550"></span><span class="anchor" id="line-551"></span><span class="anchor" id="line-552"></span><span class="anchor" id="line-553"></span><pre><span class="anchor" id="line-1-8"></span>&gt;&gt;&gt; primes = np.array([2,3,5,7,11,13,17,19,23])
<span class="anchor" id="line-2-8"></span>&gt;&gt;&gt; idx = [3,4,1,2,2]
<span class="anchor" id="line-3-7"></span>&gt;&gt;&gt; primes[idx]
<span class="anchor" id="line-4-6"></span>array([ 7, 11,  3,  5,  5])
<span class="anchor" id="line-5-5"></span>&gt;&gt;&gt; idx = np.array([3,4,1,2,2])
<span class="anchor" id="line-6-3"></span>&gt;&gt;&gt; primes[idx]
<span class="anchor" id="line-7-3"></span>array([ 7, 11,  3,  5,  5])</pre><span class="anchor" id="line-554"></span><p class="line874">When you index with an array that is not an array of booleans, or with a list, numpy views it as an array of indices. The array can be any shape, and the returned array has the same shape: <span class="anchor" id="line-555"></span><span class="anchor" id="line-556"></span><span class="anchor" id="line-557"></span><span class="anchor" id="line-558"></span><span class="anchor" id="line-559"></span><span class="anchor" id="line-560"></span><span class="anchor" id="line-561"></span><pre><span class="anchor" id="line-1-9"></span>&gt;&gt;&gt; primes = np.array([2,3,5,7,11,13,17,19,23,29,31])
<span class="anchor" id="line-2-9"></span>&gt;&gt;&gt; primes[B]
<span class="anchor" id="line-3-8"></span>array([[ 2,  3,  5],
<span class="anchor" id="line-4-7"></span>       [ 7, 11, 13],
<span class="anchor" id="line-5-6"></span>       [17, 19, 23]])</pre><span class="anchor" id="line-562"></span><p class="line874">Effectively this uses the original array as a look-up table. <span class="anchor" id="line-563"></span><span class="anchor" id="line-564"></span><p class="line874">You can also assign to arrays in this way: <span class="anchor" id="line-565"></span><span class="anchor" id="line-566"></span><span class="anchor" id="line-567"></span><span class="anchor" id="line-568"></span><span class="anchor" id="line-569"></span><span class="anchor" id="line-570"></span><pre><span class="anchor" id="line-1-10"></span>&gt;&gt;&gt; T = A.copy()
<span class="anchor" id="line-2-10"></span>&gt;&gt;&gt; T[ [1,3,5,0] ] = -np.arange(4)
<span class="anchor" id="line-3-9"></span>&gt;&gt;&gt; T
<span class="anchor" id="line-4-8"></span>array([-3,  0,  2, -1,  4, -2,  6,  7,  8,  9])</pre><span class="anchor" id="line-571"></span><p class="line867"><strong>Warning:</strong> Augmented assignment - the operators like &quot;+=&quot; - works, but it does not necessarily do what you would expect. In particular, repeated indices do not result in the value getting added twice: <span class="anchor" id="line-572"></span><span class="anchor" id="line-573"></span><span class="anchor" id="line-574"></span><span class="anchor" id="line-575"></span><span class="anchor" id="line-576"></span><span class="anchor" id="line-577"></span><pre><span class="anchor" id="line-1-11"></span>&gt;&gt;&gt; T = A.copy()
<span class="anchor" id="line-2-11"></span>&gt;&gt;&gt; T[ [0,1,2,3,3,3] ] += 10
<span class="anchor" id="line-3-10"></span>&gt;&gt;&gt; T
<span class="anchor" id="line-4-9"></span>array([10, 11, 12, 13,  4,  5,  6,  7,  8,  9])</pre><span class="anchor" id="line-578"></span><p class="line874">This is surprising, inconvenient, and unfortunate, but it is a direct result of how python implements the &quot;+=&quot; operators. The most common case for doing this is something histogram-like: <span class="anchor" id="line-579"></span><span class="anchor" id="line-580"></span><span class="anchor" id="line-581"></span><span class="anchor" id="line-582"></span><span class="anchor" id="line-583"></span><span class="anchor" id="line-584"></span><span class="anchor" id="line-585"></span><span class="anchor" id="line-586"></span><pre><span class="anchor" id="line-1-12"></span>&gt;&gt;&gt; bins = np.zeros(5,dtype=np.int32)
<span class="anchor" id="line-2-12"></span>&gt;&gt;&gt; pos = [1,0,2,0,3]
<span class="anchor" id="line-3-11"></span>&gt;&gt;&gt; wts = [1,2,1,1,4]
<span class="anchor" id="line-4-10"></span>&gt;&gt;&gt; bins[pos]+=wts
<span class="anchor" id="line-5-7"></span>&gt;&gt;&gt; bins
<span class="anchor" id="line-6-4"></span>array([1, 1, 1, 4, 0])</pre><span class="anchor" id="line-587"></span><p class="line874">Unfortunately this gives the wrong answer. In older versions of numpy there was no really satisfactory solution, but as of numpy 1.1, the histogram function can do this: <span class="anchor" id="line-588"></span><span class="anchor" id="line-589"></span><span class="anchor" id="line-590"></span><span class="anchor" id="line-591"></span><span class="anchor" id="line-592"></span><span class="anchor" id="line-593"></span><span class="anchor" id="line-594"></span><pre><span class="anchor" id="line-1-13"></span>&gt;&gt;&gt; bins = np.zeros(5,dtype=np.int32)
<span class="anchor" id="line-2-13"></span>&gt;&gt;&gt; pos = [1,0,2,0,3]
<span class="anchor" id="line-3-12"></span>&gt;&gt;&gt; wts = [1,2,1,1,4]
<span class="anchor" id="line-4-11"></span>&gt;&gt;&gt; np.histogram(pos,bins=5,range=(0,5),weights=wts,new=True)
<span class="anchor" id="line-5-8"></span>(array([3, 1, 1, 4, 0]), array([ 0.,  1.,  2.,  3.,  4.,  5.]))</pre><span class="anchor" id="line-595"></span><span class="anchor" id="line-596"></span><p class="line874">FIXME: mention put() and take() <span class="anchor" id="line-597"></span><span class="anchor" id="line-598"></span><p class="line867">
<h4 id="Multidimensional_list-of-locations_indexing">Multidimensional list-of-locations indexing</h4>
<span class="anchor" id="line-599"></span><p class="line874">One can also, not too surprisingly, use list-of-locations indexing on multidimensional arrays. The syntax is, however, a bit surprising. Let's suppose we want the list [B[0,0],B[1,2],B[0,1]]. Then we write: <span class="anchor" id="line-600"></span><span class="anchor" id="line-601"></span><span class="anchor" id="line-602"></span><span class="anchor" id="line-603"></span><span class="anchor" id="line-604"></span><span class="anchor" id="line-605"></span><pre><span class="anchor" id="line-1-14"></span>&gt;&gt;&gt; B[ [0,1,0], [0,2,1] ]
<span class="anchor" id="line-2-14"></span>array([0, 5, 1])
<span class="anchor" id="line-3-13"></span>&gt;&gt;&gt; [B[0,0],B[1,2],B[0,1]]
<span class="anchor" id="line-4-12"></span>[0, 5, 1]</pre><span class="anchor" id="line-606"></span><p class="line874">This may seem weird - why not provide a list of tuples representing coordinates? Well, the reason is basically that for large arrays, lists and tuples are very inefficient, so numpy is designed to work with arrays only, for indices as well as values. This means that something like B[ [(0,0),(1,2),(0,1)] ] looks just like indexing B with a two-dimensional array, which as we saw above just means that B should be used as a look-up table yielding a two-dimensional array of results (each of which is one-dimensional, as usual when we supply only one index to a two-dimensional array).  <span class="anchor" id="line-607"></span><span class="anchor" id="line-608"></span><p class="line874">In summary, in list-of-locations indexing, you supply an array of values for each coordinate, all the same shape, and numpy returns an array of the same shape containing the values obtained by looking up each set of coordinates in the original array. If the coordinate arrays are not the same shape, numpy's broadcasting rules are applied to them to try to make their shapes the same. If there are not as many arrays as the original array has dimensions, the original array is regarded as containing arrays, and the extra dimensions appear on the result array. <span class="anchor" id="line-609"></span><span class="anchor" id="line-610"></span><p class="line874">Fortunately, most of the time when one wants to supply a list of locations to a multidimensional array, one got the list from numpy in the first place. A normal way to do this is something like: <span class="anchor" id="line-611"></span><span class="anchor" id="line-612"></span><span class="anchor" id="line-613"></span><span class="anchor" id="line-614"></span><span class="anchor" id="line-615"></span><span class="anchor" id="line-616"></span><span class="anchor" id="line-617"></span><span class="anchor" id="line-618"></span><span class="anchor" id="line-619"></span><pre><span class="anchor" id="line-1-15"></span>&gt;&gt;&gt; idx = np.nonzero(B%2)
<span class="anchor" id="line-2-15"></span>&gt;&gt;&gt; idx
<span class="anchor" id="line-3-14"></span>(array([0, 1, 1, 2]), array([1, 0, 2, 1]))
<span class="anchor" id="line-4-13"></span>&gt;&gt;&gt; B[idx]
<span class="anchor" id="line-5-9"></span>array([1, 3, 5, 7])
<span class="anchor" id="line-6-5"></span>&gt;&gt;&gt; B[B%2 != 0]
<span class="anchor" id="line-7-4"></span>array([1, 3, 5, 7])</pre><span class="anchor" id="line-620"></span><p class="line874">Here nonzero() takes an array and returns a list of locations (in the correct format) where the array is nonzero. Of course, one can also index directly into the array with a boolean array; this will be much more efficient unless the number of nonzero locations is small and the indexing is done many times. But sometimes it is valuable to work with the list of indices directly. <span class="anchor" id="line-621"></span><span class="anchor" id="line-622"></span><p class="line867">
<h4 id="Picking_out_rows_and_columns">Picking out rows and columns</h4>
<span class="anchor" id="line-623"></span><p class="line874">One unfortunate consequence of numpy's list-of-locations indexing syntax is that users used to other array languages expect it to pick out rows and columns. After all, it's quite reasonable to want to pull out a list of rows and columns from a matrix. So numpy provides a convenience function, ix_() for doing this: <span class="anchor" id="line-624"></span><span class="anchor" id="line-625"></span><span class="anchor" id="line-626"></span><span class="anchor" id="line-627"></span><span class="anchor" id="line-628"></span><span class="anchor" id="line-629"></span><span class="anchor" id="line-630"></span><span class="anchor" id="line-631"></span><pre><span class="anchor" id="line-1-16"></span>&gt;&gt;&gt; B[ np.ix_([0,2],[0,2]) ]
<span class="anchor" id="line-2-16"></span>array([[0, 2],
<span class="anchor" id="line-3-15"></span>       [6, 8]])
<span class="anchor" id="line-4-14"></span>&gt;&gt;&gt; np.ix_([0,2],[0,2])
<span class="anchor" id="line-5-10"></span>(array([[0],
<span class="anchor" id="line-6-6"></span>       [2]]), array([[0, 2]]))</pre><span class="anchor" id="line-632"></span><p class="line874">The way it works is by taking advantage of numpy's broadcasting facilities. You can see that the two arrays used as row and column indices have different shapes; numpy's broadcasting repeats each along the too-short axis so that they conform. <span class="anchor" id="line-633"></span><span class="anchor" id="line-634"></span><p class="line867">
<h2 id="Mixed_indexing_modes">Mixed indexing modes</h2>
<span class="anchor" id="line-635"></span><p class="line874">What happens when you try to mix slice indexing, element indexing, boolean indexing, and list-of-locations indexing? <span class="anchor" id="line-636"></span><span class="anchor" id="line-637"></span><p class="line867">
<h2 id="How_indexing_works_under_the_hood">How indexing works under the hood</h2>
<span class="anchor" id="line-638"></span><p class="line874">A numpy array is a block of memory, a data type for interpreting memory locations, a list of sizes, and a list of strides. So for example, C[i,j,k] is the element starting at position i*strides[0]+j*strides[1]+k*strides[2]. This means, for example, that transposing amatrix can be done very efficiently: just reverse the strides and sizes arrays. This is why slices are efficient and can return views, but fancy indexing is slower and can't.  <span class="anchor" id="line-639"></span><span class="anchor" id="line-640"></span><p class="line862">At a python level, numpy's indexing works by overriding the <span class="u">getitem</span> and <span class="u">setitem</span> methods in an ndarray object. These methods are called when arrays are indexed, and they allow arbitrary implementations: <span class="anchor" id="line-641"></span><span class="anchor" id="line-642"></span><span class="anchor" id="line-643"></span><span class="anchor" id="line-644"></span><span class="anchor" id="line-645"></span><span class="anchor" id="line-646"></span><span class="anchor" id="line-647"></span><span class="anchor" id="line-648"></span><span class="anchor" id="line-649"></span><span class="anchor" id="line-650"></span><span class="anchor" id="line-651"></span><span class="anchor" id="line-652"></span><span class="anchor" id="line-653"></span><span class="anchor" id="line-654"></span><span class="anchor" id="line-655"></span><span class="anchor" id="line-656"></span><span class="anchor" id="line-657"></span><span class="anchor" id="line-658"></span><span class="anchor" id="line-659"></span><span class="anchor" id="line-660"></span><span class="anchor" id="line-661"></span><span class="anchor" id="line-662"></span><span class="anchor" id="line-663"></span><span class="anchor" id="line-664"></span><span class="anchor" id="line-665"></span><span class="anchor" id="line-666"></span><span class="anchor" id="line-667"></span><span class="anchor" id="line-668"></span><span class="anchor" id="line-669"></span><span class="anchor" id="line-670"></span><pre><span class="anchor" id="line-1-17"></span>&gt;&gt;&gt; class IndexDemo:
<span class="anchor" id="line-2-17"></span>...     def __getitem__(self, *args):
<span class="anchor" id="line-3-16"></span>...         print &quot;__getitem__&quot;, args
<span class="anchor" id="line-4-15"></span>...         return 1
<span class="anchor" id="line-5-11"></span>...     def __setitem__(self, *args):
<span class="anchor" id="line-6-7"></span>...         print &quot;__setitem__&quot;, args
<span class="anchor" id="line-7-5"></span>...     def __iadd__(self, *args):
<span class="anchor" id="line-8-2"></span>...         print &quot;__iadd__&quot;, args
<span class="anchor" id="line-9-1"></span>... 
<span class="anchor" id="line-10-1"></span>&gt;&gt;&gt; 
<span class="anchor" id="line-11-1"></span>&gt;&gt;&gt; T = IndexDemo()
<span class="anchor" id="line-12"></span>&gt;&gt;&gt; T[1]
<span class="anchor" id="line-13"></span>__getitem__ (1,)
<span class="anchor" id="line-14"></span>1
<span class="anchor" id="line-15"></span>&gt;&gt;&gt; T[&quot;fish&quot;]
<span class="anchor" id="line-16"></span>__getitem__ ('fish',)
<span class="anchor" id="line-17"></span>1
<span class="anchor" id="line-18"></span>&gt;&gt;&gt; T[A]
<span class="anchor" id="line-19"></span>__getitem__ (array([0, 1, 2, 3, 4, 5, 6, 7, 8, 9]),)
<span class="anchor" id="line-20"></span>1
<span class="anchor" id="line-21"></span>&gt;&gt;&gt; T[1,2]
<span class="anchor" id="line-22"></span>__getitem__ ((1, 2),)
<span class="anchor" id="line-23"></span>1
<span class="anchor" id="line-24"></span>&gt;&gt;&gt; T[1] = 7
<span class="anchor" id="line-25"></span>__setitem__ (1, 7)
<span class="anchor" id="line-26"></span>&gt;&gt;&gt; T[1] += 7
<span class="anchor" id="line-27"></span>__getitem__ (1,)
<span class="anchor" id="line-28"></span>__setitem__ (1, 8)</pre><span class="anchor" id="line-671"></span><p class="line867">
<h2 id="Array-like_objects">Array-like objects</h2>
<span class="anchor" id="line-672"></span><p class="line874">numpy and scipy provide a few other types that behave like arrays, in particular matrices and sparse matrices. Their indexing can differ from that of arrays in surprising ways. <span class="anchor" id="line-673"></span><span class="anchor" id="bottom"></span></div>
<div id="pagebottom"></div>
</div>


<div id="footer">
<ul class="editbar"><li class="toggleCommentsButton" style="display:none;"><a href="#" class="nbcomment" onClick="toggleComments();return false;">Comments</a></li><li><a class="nbattachments" href="Indexing37dc.html?action=AttachFile" rel="nofollow">Attachments</a></li><li>
<form class="actionsmenu" method="GET" action="../../external.html?link=http://localhost:8080/Cookbook/Indexing">
<div>
    <label>More Actions:</label>
    <select name="action"
        onchange="if ((this.selectedIndex != 0) &&
                      (this.options[this.selectedIndex].disabled == false)) {
                this.form.submit();
            }
            this.selectedIndex = 0;">
        <option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="RenamePage" disabled class="disabled">Rename Page</option>
<option value="DeletePage" disabled class="disabled">Delete Page</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Subscribe User</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Remove Spam</option>
<option value="show" disabled class="disabled">Revert to this revision</option>
    </select>
    <input type="submit" value="Do">
    
</div>
<script type="text/javascript">
<!--// Init menu
actionsMenuInit('More Actions:');
//-->
</script>
</form>
</li></ul>

<ul id="credits">
<li><a href="../../external.html?link=http://moinmo.in/" title="This site uses the MoinMoin Wiki software.">MoinMoin Powered</a></li><li><a href="../../external.html?link=http://moinmo.in/Python" title="MoinMoin is written in Python.">Python Powered</a></li><li><a href="../../external.html?link=http://moinmo.in/GPL" title="MoinMoin is GPL licensed.">GPL licensed</a></li><li><a href="../../external.html?link=http://validator.w3.org/check?uri=referer" title="Click here to validate this page.">Valid HTML 4.01</a></li>
</ul>


</div>
</body>

<!-- Mirrored from localhost:8080/Cookbook/Indexing?action=recoverpass by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 29 Oct 2015 23:19:03 GMT -->
</html>

