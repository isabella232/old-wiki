<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>

<!-- Mirrored from localhost:8080/Installing_SciPy/BuildingGeneral?action=recoverpass by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 29 Oct 2015 23:17:39 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<meta name="edit_on_doubleclick" content="/">
<meta name="robots" content="noindex,nofollow">

<title>Installing_SciPy/BuildingGeneral - SciPy wiki dump</title>
<script type="text/javascript" src="../moin_static197/common/js/common.js"></script>

<script type="text/javascript">
<!--
var search_hint = "Search";
//-->
</script>


<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="../moin_static197/modern/css/common.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="screen" href="../moin_static197/modern/css/screen.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="print" href="../moin_static197/modern/css/print.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="projection" href="../moin_static197/modern/css/projection.css">

<!-- css only for MS IE6/IE7 browsers -->
<!--[if lt IE 8]>
   <link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="/moin_static197/modern/css/msie.css">
<![endif]-->


<link rel="alternate" title="SciPy: Installing_SciPy/BuildingGeneral" href="../../external.html?link=http://localhost:8080/Installing_SciPy/BuildingGeneral?diffs=1&amp;show_att=1&amp;action=rss_rc&amp;unique=0&amp;page=Installing_SciPy%2FBuildingGeneral&amp;ddiffs=1" type="application/rss+xml">


<link rel="Start" href="../AllPages.html">
<link rel="Alternate" title="Wiki Markup" href="../../external.html?link=http://localhost:8080/Installing_SciPy/BuildingGeneral?action=raw">
<link rel="Alternate" media="print" title="Print View" href="../../external.html?link=http://localhost:8080/Installing_SciPy/BuildingGeneral?action=print">
<link rel="Up" href="../Installing_SciPy.html">
<link rel="Search" href="../FindPage.html">
<link rel="Index" href="../TitleIndex.html">
<link rel="Glossary" href="../WordIndex.html">
<link rel="Help" href="../HelpOnFormatting.html">
</head>

<body  lang="en" dir="ltr"><div style="background: white; width:100%; padding:2em;">This is an archival dump of old wiki content --- see <a href="http://scipy.org/">scipy.org</a> for current material</div>

<div id="header">


<form id="searchform" method="get" action="../../external.html?link=http://localhost:8080/Installing_SciPy/BuildingGeneral">
<div>
<input type="hidden" name="action" value="fullsearch">
<input type="hidden" name="context" value="180">
<label for="searchinput">Search:</label>
<input id="searchinput" type="text" name="value" value="" size="20"
    onfocus="searchFocus(this)" onblur="searchBlur(this)"
    onkeyup="searchChange(this)" onchange="searchChange(this)" alt="Search">
<input id="titlesearch" name="titlesearch" type="submit"
    value="Titles" alt="Search Titles">
<input id="fullsearch" name="fullsearch" type="submit"
    value="Text" alt="Search Full Text">
</div>
</form>
<script type="text/javascript">
<!--// Initialize search form
var f = document.getElementById('searchform');
f.getElementsByTagName('label')[0].style.display = 'none';
var e = document.getElementById('searchinput');
searchChange(e);
searchBlur(e);
//-->
</script>

<ul id="username"><li><a href="BuildingGeneral456e.html?action=login" id="login" rel="nofollow">Login</a></li></ul>
<div id="locationline">
<div id="interwiki"><span><a href="../AllPages.html" rel="nofollow">SciPy</a></span></div>

<ul id="pagelocation">
<li><a href="../Installing_SciPy.html">Installing_SciPy</a></li><li><a class="backlink" href="BuildingGeneraldc8f.html?action=fullsearch&amp;context=180&amp;value=linkto%3A%22Installing_SciPy%2FBuildingGeneral%22" rel="nofollow" title="Click to do a full-text search for this title">BuildingGeneral</a></li>
</ul>

</div>


<ul id="navibar">
<li class="wikilink"><a href="../RecentChanges.html">RecentChanges</a></li><li class="wikilink"><a class="nonexistent" href="../FindPage.html">FindPage</a></li><li class="wikilink"><a class="nonexistent" href="../HelpContents.html">HelpContents</a></li><li class="current"><a href="BuildingGeneral.html">BuildingGeneral</a></li>
</ul>

<div id="pageline"><hr style="display:none;"></div>
<div id="message">
<p><div class="warning">This wiki is not enabled for mail processing.
Contact the owner of the wiki, who can enable email.</div></p><a class="clear-link" href="BuildingGeneral.html">Clear message</a>
</div>

<ul class="editbar"><li class="toggleCommentsButton" style="display:none;"><a href="#" class="nbcomment" onClick="toggleComments();return false;">Comments</a></li><li><a class="nbattachments" href="BuildingGeneral37dc.html?action=AttachFile" rel="nofollow">Attachments</a></li><li>
<form class="actionsmenu" method="GET" action="../../external.html?link=http://localhost:8080/Installing_SciPy/BuildingGeneral">
<div>
    <label>More Actions:</label>
    <select name="action"
        onchange="if ((this.selectedIndex != 0) &&
                      (this.options[this.selectedIndex].disabled == false)) {
                this.form.submit();
            }
            this.selectedIndex = 0;">
        <option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="RenamePage" disabled class="disabled">Rename Page</option>
<option value="DeletePage" disabled class="disabled">Delete Page</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Subscribe User</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Remove Spam</option>
<option value="show" disabled class="disabled">Revert to this revision</option>
    </select>
    <input type="submit" value="Do">
    
</div>
<script type="text/javascript">
<!--// Init menu
actionsMenuInit('More Actions:');
//-->
</script>
</form>
</li></ul>

</div>

<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en"><span class="anchor" id="top"></span>
<span class="anchor" id="line-1"></span><p class="line867">
<h1 id="Building_Scipy">Building Scipy</h1>
<span class="anchor" id="line-2"></span><dl><dt>Table of contents</dt><dd><span class="anchor" id="line-3"></span></dd></dl><p class="line867"><div class="table-of-contents"><p class="table-of-contents-heading">Contents<ol><li>
<a href="#Building_Scipy">Building Scipy</a><ol><li>
<a href="#Introduction">Introduction</a></li><li>
<a href="#Python">Python</a></li><li>
<a href="#Compilers">Compilers</a></li><li>
<a href="#Linear_Algebra_libraries">Linear Algebra libraries</a><ol><li>
<a href="#Building_BLAS_library_from_Netlib">Building BLAS library from Netlib</a></li><li>
<a href="#Building_LAPACK_library_from_Netlib">Building LAPACK library from Netlib</a></li><li>
<a href="#Further_Instructions">Further Instructions</a></li></ol></li></ol></li></ol></div> <span class="anchor" id="line-4"></span><span class="anchor" id="line-5"></span><p class="line867">
<h2 id="Introduction">Introduction</h2>
<span class="anchor" id="line-6"></span><p class="line862">The SciPy project provides two packages: NumPy (formerly known as core SciPy)  and full SciPy.  The NumPy package is a replacement of Numeric and should be  installed before building the full SciPy package. Installing both packages is simple. In most cases simply executing <span class="anchor" id="line-7"></span><span class="anchor" id="line-8"></span><p class="line867"><span class="anchor" id="line-9"></span><span class="anchor" id="line-10"></span><pre><span class="anchor" id="line-1"></span>  python setup.py install</pre><span class="anchor" id="line-11"></span><p class="line862">in the <tt>numpy</tt> and <tt>scipy</tt> directories will install each package.  The rest of this document concentrates on configuring,  building, installing, or/and using various external software that Scipy can use for extra power. <span class="anchor" id="line-12"></span><span class="anchor" id="line-13"></span><p class="line862">Note that to avoid problems, it can be a good idea to remove the local <tt>build</tt> directory (if any) and existing Scipy installations, before building and installing a new version built from sources. Also note that the use of <tt>pip</tt> and especially <tt>easy_install</tt> is not recommended, as these tools often have problems where the standard <tt>python&nbsp;setup.py&nbsp;install</tt> does not. <span class="anchor" id="line-14"></span><span class="anchor" id="line-15"></span><p class="line867">
<h2 id="Python">Python</h2>
<span class="anchor" id="line-16"></span><p class="line862">To build SciPy, Python version 2.6 or newer is required. Make sure that the Python package <tt>distutils</tt> is installed before continuing. For example, in Debian GNU/Linux, <tt>distutils</tt> is included in the  <tt>python-dev</tt> package. <span class="anchor" id="line-17"></span><span class="anchor" id="line-18"></span><p class="line862">If while building <a href="../SciPy.html">SciPy</a>, &quot;error: pyconfig.h: No such file or directory&quot; is encountered, ensure that Python is installed a directory that is different from its source. <span class="anchor" id="line-19"></span><span class="anchor" id="line-20"></span><p class="line867">
<h2 id="Compilers">Compilers</h2>
<span class="anchor" id="line-21"></span><p class="line874">To build any extension modules for Python, you'll need a C compiler. <span class="anchor" id="line-22"></span><span class="anchor" id="line-23"></span><p class="line862">Various SciPy modules use Fortran 77 libraries and some use C++, so you'll also need Fortran 77 and C++ compilers installed. The SciPy module Weave uses a C++ compiler at run time. <span class="anchor" id="line-24"></span><span class="anchor" id="line-25"></span><p class="line862">Note that SciPy is developed mainly using GNU compilers. Compilers from other vendors such as Intel, Absoft, Sun, NAG, Compaq, Vast, Porland, Lahey, HP, IBM are supported in the form of community feedback. <span class="anchor" id="line-26"></span><span class="anchor" id="line-27"></span><p class="line862">gcc 3.x compilers are recommended. Note that code compiled by the Intel Fortran Compiler (IFC) is not binary compatible with code compiled by g77. Therefore, when using IFC, all Fortran codes used in SciPy must be compiled with IFC. This also includes the LAPACK, BLAS, and ATLAS libraries. Using GCC for compiling C code is OK. IFC version 5.0 is not supported. <span class="anchor" id="line-28"></span><span class="anchor" id="line-29"></span><p class="line862">To build NumPy, only a C compiler is required. <span class="anchor" id="line-30"></span><span class="anchor" id="line-31"></span><span class="anchor" id="line-32"></span><p class="line874">If you see an error message <span class="anchor" id="line-33"></span><span class="anchor" id="line-34"></span><p class="line867"><span class="anchor" id="line-35"></span><span class="anchor" id="line-36"></span><pre><span class="anchor" id="line-1-1"></span>ImportError: /usr/lib/atlas/libblas.so.3gf: undefined symbol: _gfortran_st_write_done</pre><span class="anchor" id="line-37"></span><span class="anchor" id="line-38"></span><p class="line862">when building <strong><a href="../SciPy.html">SciPy</a></strong>, it means that <strong><a class="nonexistent" href="../NumPy.html">NumPy</a></strong> picked up the wrong Fortran compiler during build (e.g. ifort).  Recompile <a class="nonexistent" href="../NumPy.html">NumPy</a> using: <span class="anchor" id="line-39"></span><span class="anchor" id="line-40"></span><p class="line867"><span class="anchor" id="line-41"></span><span class="anchor" id="line-42"></span><pre><span class="anchor" id="line-1-2"></span>python setup.py build --fcompiler=gnu95</pre><span class="anchor" id="line-43"></span><span class="anchor" id="line-44"></span><p class="line862">or whichever is appropriate (see <tt>python&nbsp;setup.py&nbsp;build&nbsp;--help-fcompiler</tt>). <span class="anchor" id="line-45"></span><span class="anchor" id="line-46"></span><p class="line867">
<h2 id="Linear_Algebra_libraries">Linear Algebra libraries</h2>
<span class="anchor" id="line-47"></span><p class="line862">Various SciPy packages do linear algebra computations using the LAPACK routines. SciPy's setup.py scripts can use number of different LAPACK library setups, including optimized LAPACK libraries such as ATLAS or the Accelerate/vecLib framework on OS X. The following notes give detailed information on how to prepare the build environment so that SciPy's setup.py scripts can use whatever LAPACK library setup one has. <span class="anchor" id="line-48"></span><span class="anchor" id="line-49"></span><p class="line867">NumPy does not require any external linear algebra libraries to be installed. However, if these are available, NumPy's setup script can detect them and use them for building. If you do not plan to build the full SciPy then you can skip  this section. <span class="anchor" id="line-50"></span><span class="anchor" id="line-51"></span><p class="line867">
<h3 id="Building_BLAS_library_from_Netlib">Building BLAS library from Netlib</h3>
<span class="anchor" id="line-52"></span><span class="anchor" id="line-53"></span><p class="line862">Download BLAS sources from Netlib, build <tt>libfblas.a</tt> library, and set environment variable <tt>BLAS</tt>: <span class="anchor" id="line-54"></span><span class="anchor" id="line-55"></span><p class="line867"><span class="anchor" id="line-56"></span><span class="anchor" id="line-57"></span><span class="anchor" id="line-58"></span><span class="anchor" id="line-59"></span><span class="anchor" id="line-60"></span><span class="anchor" id="line-61"></span><span class="anchor" id="line-62"></span><span class="anchor" id="line-63"></span><span class="anchor" id="line-64"></span><span class="anchor" id="line-65"></span><span class="anchor" id="line-66"></span><span class="anchor" id="line-67"></span><span class="anchor" id="line-68"></span><span class="anchor" id="line-69"></span><span class="anchor" id="line-70"></span><span class="anchor" id="line-71"></span><span class="anchor" id="line-72"></span><span class="anchor" id="line-73"></span><span class="anchor" id="line-74"></span><span class="anchor" id="line-75"></span><pre><span class="anchor" id="line-1-3"></span>mkdir -p ~/src/
<span class="anchor" id="line-2"></span>cd ~/src/
<span class="anchor" id="line-3"></span>wget http://www.netlib.org/blas/blas.tgz
<span class="anchor" id="line-4"></span>tar xzf blas.tgz
<span class="anchor" id="line-5"></span>cd BLAS
<span class="anchor" id="line-6"></span># NOTE: The selected fortran compiler must be consistent for BLAS, LAPACK, NumPy, and SciPy.
<span class="anchor" id="line-7"></span># For GNU compiler on 32-bit systems:
<span class="anchor" id="line-8"></span>g77 -O2 -fno-second-underscore -c *.f                     # with g77
<span class="anchor" id="line-9"></span>gfortran -O2 -std=legacy -fno-second-underscore -c *.f    # with gfortran
<span class="anchor" id="line-10"></span># OR for GNU compiler on 64-bit systems:
<span class="anchor" id="line-11"></span>g77 -O3 -m64 -fno-second-underscore -fPIC -c *.f                     # with g77
<span class="anchor" id="line-12"></span>gfortran -O3 -std=legacy -m64 -fno-second-underscore -fPIC -c *.f    # with gfortran
<span class="anchor" id="line-13"></span># OR for Intel compiler:
<span class="anchor" id="line-14"></span>ifort -FI -w90 -w95 -cm -O3 -unroll -c *.f
<span class="anchor" id="line-15"></span># Continue below irrespective of compiler:
<span class="anchor" id="line-16"></span>ar r libfblas.a *.o
<span class="anchor" id="line-17"></span>ranlib libfblas.a
<span class="anchor" id="line-18"></span>rm -rf *.o
<span class="anchor" id="line-19"></span>export BLAS=~/src/BLAS/libfblas.a</pre><span class="anchor" id="line-76"></span><span class="anchor" id="line-77"></span><p class="line874">See the note at the end of the section below on building LAPACK. <span class="anchor" id="line-78"></span><span class="anchor" id="line-79"></span><p class="line867">
<h3 id="Building_LAPACK_library_from_Netlib">Building LAPACK library from Netlib</h3>
<span class="anchor" id="line-80"></span><p class="line862">Download LAPACK sources from Netlib, build <tt>libflapack.a</tt> library, and set environment variable <tt>LAPACK</tt>: <span class="anchor" id="line-81"></span><span class="anchor" id="line-82"></span><p class="line867"><span class="anchor" id="line-83"></span><span class="anchor" id="line-84"></span><span class="anchor" id="line-85"></span><span class="anchor" id="line-86"></span><span class="anchor" id="line-87"></span><span class="anchor" id="line-88"></span><span class="anchor" id="line-89"></span><span class="anchor" id="line-90"></span><span class="anchor" id="line-91"></span><span class="anchor" id="line-92"></span><span class="anchor" id="line-93"></span><span class="anchor" id="line-94"></span><span class="anchor" id="line-95"></span><span class="anchor" id="line-96"></span><span class="anchor" id="line-97"></span><span class="anchor" id="line-98"></span><span class="anchor" id="line-99"></span><span class="anchor" id="line-100"></span><span class="anchor" id="line-101"></span><span class="anchor" id="line-102"></span><span class="anchor" id="line-103"></span><span class="anchor" id="line-104"></span><span class="anchor" id="line-105"></span><span class="anchor" id="line-106"></span><span class="anchor" id="line-107"></span><span class="anchor" id="line-108"></span><pre><span class="anchor" id="line-1-4"></span>mkdir -p ~/src
<span class="anchor" id="line-2-1"></span>wget http://www.netlib.org/lapack/lapack.tgz
<span class="anchor" id="line-3-1"></span>tar xzf lapack.tgz
<span class="anchor" id="line-4-1"></span>cd ~/src/LAPACK
<span class="anchor" id="line-5-1"></span>cp INSTALL/make.inc.gfortran make.inc          # on Linux with lapack-3.2.1 or newer
<span class="anchor" id="line-6-1"></span>cp INSTALL/make.inc.LINUX make.inc             # on Linux with older lapack
<span class="anchor" id="line-7-1"></span># Edit make.inc as follows:
<span class="anchor" id="line-8-1"></span># For GNU compiler on 32-bit Linux (these are the defaults):
<span class="anchor" id="line-9-1"></span>PLAT = _LINUX
<span class="anchor" id="line-10-1"></span>OPTS = -O2
<span class="anchor" id="line-11-1"></span># OR for GNU compiler on 64-bit Linux:
<span class="anchor" id="line-12-1"></span>PLAT = _LINUX
<span class="anchor" id="line-13-1"></span>OPTS = -O2 -m64 -fPIC
<span class="anchor" id="line-14-1"></span>NOOPT = -m64 -fPIC
<span class="anchor" id="line-15-1"></span># OR for Absoft (8.x or later):
<span class="anchor" id="line-16-1"></span>PLAT = _LINUX
<span class="anchor" id="line-17-1"></span>OPTS = -O3 -YNO_CDEC
<span class="anchor" id="line-18-1"></span># OR for Intel Fortran compiler on Linux:
<span class="anchor" id="line-19-1"></span>wget http://www.scipy.org/download/misc/make.inc.LINUX_IFC
<span class="anchor" id="line-20"></span>cp make.inc.LINUX_IFC make.inc
<span class="anchor" id="line-21"></span># Continue below irrespective of compiler:
<span class="anchor" id="line-22"></span>make lapacklib
<span class="anchor" id="line-23"></span>make clean
<span class="anchor" id="line-24"></span>cp lapack_LINUX.a libflapack.a                 # on Linux
<span class="anchor" id="line-25"></span>export LAPACK=~/src/LAPACK/libflapack.a</pre><span class="anchor" id="line-109"></span><span class="anchor" id="line-110"></span><p class="line862">In the event that <a href="../SciPy.html">SciPy</a> is unable to find the <tt>libf*</tt> names, a symbolic link can be made from these files to <tt>libblas.a</tt> and <tt>liblapack.a</tt>.  <a class="nonexistent" href="../NumPy.html">NumPy</a> is not expected to have this problem. <span class="anchor" id="line-111"></span><span class="anchor" id="line-112"></span><p class="line867">
<h3 id="Further_Instructions">Further Instructions</h3>
<span class="anchor" id="line-113"></span><p class="line862">More detailed platform-specific instructions for building and installing SciPy can be found on the <a href="../Installing_SciPy.html">Installing_SciPy</a> page. <span class="anchor" id="line-114"></span><span class="anchor" id="line-115"></span><p class="line867"><hr /><p class="line874"> <span class="anchor" id="line-116"></span><ul><li style="list-style-type:none"><p class="line891"><a href="../CategoryInstallation.html">CategoryInstallation</a> <span class="anchor" id="line-117"></span></li></ul><span class="anchor" id="bottom"></span></div>
<div id="pagebottom"></div>
</div>


<div id="footer">
<ul class="editbar"><li class="toggleCommentsButton" style="display:none;"><a href="#" class="nbcomment" onClick="toggleComments();return false;">Comments</a></li><li><a class="nbattachments" href="BuildingGeneral37dc.html?action=AttachFile" rel="nofollow">Attachments</a></li><li>
<form class="actionsmenu" method="GET" action="../../external.html?link=http://localhost:8080/Installing_SciPy/BuildingGeneral">
<div>
    <label>More Actions:</label>
    <select name="action"
        onchange="if ((this.selectedIndex != 0) &&
                      (this.options[this.selectedIndex].disabled == false)) {
                this.form.submit();
            }
            this.selectedIndex = 0;">
        <option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="RenamePage" disabled class="disabled">Rename Page</option>
<option value="DeletePage" disabled class="disabled">Delete Page</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Subscribe User</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Remove Spam</option>
<option value="show" disabled class="disabled">Revert to this revision</option>
    </select>
    <input type="submit" value="Do">
    
</div>
<script type="text/javascript">
<!--// Init menu
actionsMenuInit('More Actions:');
//-->
</script>
</form>
</li></ul>

<ul id="credits">
<li><a href="../../external.html?link=http://moinmo.in/" title="This site uses the MoinMoin Wiki software.">MoinMoin Powered</a></li><li><a href="../../external.html?link=http://moinmo.in/Python" title="MoinMoin is written in Python.">Python Powered</a></li><li><a href="../../external.html?link=http://moinmo.in/GPL" title="MoinMoin is GPL licensed.">GPL licensed</a></li><li><a href="../../external.html?link=http://validator.w3.org/check?uri=referer" title="Click here to validate this page.">Valid HTML 4.01</a></li>
</ul>


</div>
</body>

<!-- Mirrored from localhost:8080/Installing_SciPy/BuildingGeneral?action=recoverpass by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 29 Oct 2015 23:17:39 GMT -->
</html>

