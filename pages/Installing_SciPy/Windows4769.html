<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>

<!-- Mirrored from localhost:8080/Installing_SciPy/Windows?highlight=%28%28Installing_SciPy%7CWindows%29%29 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 29 Oct 2015 23:19:29 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<meta name="edit_on_doubleclick" content="/">
<meta name="robots" content="noindex,nofollow">

<title>Installing_SciPy/Windows - SciPy wiki dump</title>
<script type="text/javascript" src="../moin_static197/common/js/common.js"></script>

<script type="text/javascript">
<!--
var search_hint = "Search";
//-->
</script>


<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="../moin_static197/modern/css/common.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="screen" href="../moin_static197/modern/css/screen.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="print" href="../moin_static197/modern/css/print.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="projection" href="../moin_static197/modern/css/projection.css">

<!-- css only for MS IE6/IE7 browsers -->
<!--[if lt IE 8]>
   <link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="/moin_static197/modern/css/msie.css">
<![endif]-->


<link rel="alternate" title="SciPy: Installing_SciPy/Windows" href="../../external.html?link=http://localhost:8080/Installing_SciPy/Windows?diffs=1&amp;show_att=1&amp;action=rss_rc&amp;unique=0&amp;page=Installing_SciPy%2FWindows&amp;ddiffs=1" type="application/rss+xml">


<link rel="Start" href="../AllPages.html">
<link rel="Alternate" title="Wiki Markup" href="../../external.html?link=http://localhost:8080/Installing_SciPy/Windows?action=raw">
<link rel="Alternate" media="print" title="Print View" href="../../external.html?link=http://localhost:8080/Installing_SciPy/Windows?action=print">
<link rel="Up" href="../Installing_SciPy.html">
<link rel="Appendix" title="atlas3.6.0_WinNT_P2.zip" href="Windows03cc.html?action=AttachFile&amp;do=view&amp;target=atlas3.6.0_WinNT_P2.zip">
<link rel="Appendix" title="atlas3.6.0_WinNT_P3.zip" href="Windows076b.html?action=AttachFile&amp;do=view&amp;target=atlas3.6.0_WinNT_P3.zip">
<link rel="Appendix" title="atlas3.6.0_WinNT_P4SSE2.zip" href="Windowsb4dc.html?action=AttachFile&amp;do=view&amp;target=atlas3.6.0_WinNT_P4SSE2.zip">
<link rel="Search" href="../FindPage.html">
<link rel="Index" href="../TitleIndex.html">
<link rel="Glossary" href="../WordIndex.html">
<link rel="Help" href="../HelpOnFormatting.html">
</head>

<body  lang="en" dir="ltr"><div style="background: white; padding:2em;">This is an archival dump of old wiki content --- see <a href="http://scipy.org/">scipy.org</a> for current material</div>

<div id="header">


<form id="searchform" method="get" action="../../external.html?link=http://localhost:8080/Installing_SciPy/Windows">
<div>
<input type="hidden" name="action" value="fullsearch">
<input type="hidden" name="context" value="180">
<label for="searchinput">Search:</label>
<input id="searchinput" type="text" name="value" value="" size="20"
    onfocus="searchFocus(this)" onblur="searchBlur(this)"
    onkeyup="searchChange(this)" onchange="searchChange(this)" alt="Search">
<input id="titlesearch" name="titlesearch" type="submit"
    value="Titles" alt="Search Titles">
<input id="fullsearch" name="fullsearch" type="submit"
    value="Text" alt="Search Full Text">
</div>
</form>
<script type="text/javascript">
<!--// Initialize search form
var f = document.getElementById('searchform');
f.getElementsByTagName('label')[0].style.display = 'none';
var e = document.getElementById('searchinput');
searchChange(e);
searchBlur(e);
//-->
</script>

<ul id="username"><li><a href="Windows456e.html?action=login" id="login" rel="nofollow">Login</a></li></ul>
<div id="locationline">
<div id="interwiki"><span><a href="../AllPages.html" rel="nofollow">SciPy</a></span></div>

<ul id="pagelocation">
<li><a href="../Installing_SciPy.html">Installing_SciPy</a></li><li><a class="backlink" href="Windows5c6e.html?action=fullsearch&amp;context=180&amp;value=linkto%3A%22Installing_SciPy%2FWindows%22" rel="nofollow" title="Click to do a full-text search for this title">Windows</a></li>
</ul>

</div>


<ul id="navibar">
<li class="wikilink"><a href="../RecentChanges.html">RecentChanges</a></li><li class="wikilink"><a class="nonexistent" href="../FindPage.html">FindPage</a></li><li class="wikilink"><a class="nonexistent" href="../HelpContents.html">HelpContents</a></li><li class="current"><a href="Windows.html">Installing_SciPy/Windows</a></li>
</ul>

<div id="pageline"><hr style="display:none;"></div>

<ul class="editbar"><li class="toggleCommentsButton" style="display:none;"><a href="#" class="nbcomment" onClick="toggleComments();return false;">Comments</a></li><li><a class="nbattachments" href="Windows37dc.html?action=AttachFile" rel="nofollow">Attachments</a></li><li>
<form class="actionsmenu" method="GET" action="../../external.html?link=http://localhost:8080/Installing_SciPy/Windows">
<div>
    <label>More Actions:</label>
    <select name="action"
        onchange="if ((this.selectedIndex != 0) &&
                      (this.options[this.selectedIndex].disabled == false)) {
                this.form.submit();
            }
            this.selectedIndex = 0;">
        <option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="RenamePage" disabled class="disabled">Rename Page</option>
<option value="DeletePage" disabled class="disabled">Delete Page</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Subscribe User</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Remove Spam</option>
<option value="show" disabled class="disabled">Revert to this revision</option>
    </select>
    <input type="submit" value="Do">
    
</div>
<script type="text/javascript">
<!--// Init menu
actionsMenuInit('More Actions:');
//-->
</script>
</form>
</li></ul>

</div>

<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en"><span class="anchor" id="top"></span>
<span class="anchor" id="line-1"></span><p class="line862">If you already have <a class="http" href="../../external.html?link=http://python.org/">Python</a> installed, the easiest way to install Numpy and Scipy is to download and install the binary distribution from <a href="../Download.html">Download</a>.  <span class="anchor" id="line-2"></span><span class="anchor" id="line-3"></span><p class="line862">If you do not have Python installed on your system you can install the <a class="http" href="../../external.html?link=http://code.enthought.com/enthon/">Enthought Python distribution</a> which comes with Scipy and many other useful scientific tools. It is the easiest way to quickly get started with Scipy. <span class="anchor" id="line-4"></span><span class="anchor" id="line-5"></span><p class="line867"><hr class="hr5" /><p class="line874"> <span class="anchor" id="line-6"></span><span class="anchor" id="line-7"></span><p class="line874">If you require optimal performance tuned to your platform, especially for linear algebra operations on larger matrices, you might have to build  Numpy and Scipy yourself, depending on the availability of optimized binary packages at the linked location. Fortunately, the build of Numpy and Scipy is very easy and all the required software is freely available, so there's no need to worry. The following tutorial will explain in detail how to compile optimized Numpy and Scipy packages. <span class="anchor" id="line-8"></span><span class="anchor" id="line-9"></span><p class="line862">In addition to this page, the <a class="http" href="../../external.html?link=http://nipy.sourceforge.net/nipy/stable/devel/install/windows_scipy_build.html">NiPy instructions</a> for building Numpy and Scipy may be of use. <span class="anchor" id="line-10"></span><span class="anchor" id="line-11"></span><p class="line867"><span class="anchor" id="line-12"></span><dl><dt>Table of contents</dt><dd><span class="anchor" id="line-13"></span></dd></dl><p class="line867"><div class="table-of-contents"><p class="table-of-contents-heading">Contents<ol><li>
<a href="#Supported_Compilers">Supported Compilers</a></li><li>
<a href="#Download_and_installation_of_compiler">Download and installation of compiler</a></li><li>
<a href="#Intel_Math_Kernel_Library_.28MKL.29">Intel Math Kernel Library (MKL)</a><ol><li>
<a href="#Build_NumPy">Build NumPy</a></li><li>
<a href="#Build_SciPy">Build SciPy</a></li></ol></li><li>
<a href="#BLAS.2C_LAPACK_and_ATLAS">BLAS, LAPACK and ATLAS</a><ol><li>
<a href="#ATLAS_.2B-_LAPACK">ATLAS + LAPACK</a></li><li>
<a href="#Build_Numpy">Build Numpy</a></li><li>
<a href="#Build_SciPy-1">Build SciPy</a></li></ol></li><li>
<a href="#Testing">Testing</a></li><li>
<a href="#Troubleshooting">Troubleshooting</a></li></ol></li></ol></div><p class="line874"> <span class="anchor" id="line-14"></span><span class="anchor" id="line-15"></span><span class="anchor" id="line-16"></span><p class="line867">
<h2 id="Supported_Compilers">Supported Compilers</h2>
<span class="anchor" id="line-17"></span><span class="anchor" id="line-18"></span><p class="line862">As pointed out in <a href="BuildingGeneral.html"><strong class="highlight">Installing_SciPy</strong>/BuildingGeneral</a>, building Numpy and Scipy requires a C compiler. Furthermore, a Fortran 77 compiler is needed to build Scipy and to build a Lapack library for use in Numpy and Scipy. <span class="anchor" id="line-19"></span><span class="anchor" id="line-20"></span><p class="line862">The <a class="http" href="../../external.html?link=http://www.mingw.org/">MinGW project</a> provides <strong class="highlight">windows</strong> versions of the free GNU compilers <strong>gcc and g77</strong>. These are the compilers most Scipy developers work with and hence the compilers that are supported the best by the Scipy build scripts. <span class="anchor" id="line-21"></span><span class="anchor" id="line-22"></span><p class="line867"><a class="http" href="../../external.html?link=http://www.cygwin.com/">Cygwin</a> is a Posix compatible Linux-like environment for <strong class="highlight">Windows</strong>. It is a very useful tool as it allows to compile and use many Unix tools without modification. We'll need it for the compilation of ATLAS. If selected during installation, Cygwin also makes available its own versions of the MinGW compilers (by the command line option &quot;-mno-cygwin&quot; to gcc), which produce identical code. There is no need to install the separate MinGW distribution when Cygwin is already installed. <span class="anchor" id="line-23"></span><span class="anchor" id="line-24"></span><p class="line862">Scipy also supports <strong>Visual C++</strong> (MSVC) as the C/C++ compiler (currently only Numpy compiles without a modification). If one wants to build extension modules for the official binary distribution of Python, the runtime libraries have to be compatible. As the official versions of Python 2.3/2.4/2.5 are compiled with Visual Studio 2003 (Visual Studio 7.1) and hence linked to msvcr71, this leaves only MSVC 7.1 to build extensions for these Python versions. This pretty much excludes the free (as in beer) <a class="http" href="../../external.html?link=http://msdn.microsoft.com/vstudio/express/visualc/">Visual Studio 2005 Express</a>, at least if one doesn't also want to build Python (and all other extension modules) from sources with MSVC 8 - which currently is not offically supported. <span class="anchor" id="line-25"></span><em>Combining MSVC with G77 from MinGW or Cygwin is supported</em>, as is the combination with other Fortran compilers. [Could someone say something about Intel Fortran?] <span class="anchor" id="line-26"></span><span class="anchor" id="line-27"></span><p class="line867">
<h2 id="Download_and_installation_of_compiler">Download and installation of compiler</h2>
<span class="anchor" id="line-28"></span><span class="anchor" id="line-29"></span><p class="line874">Generally you only need one C compiler (and one Fortran compiler). Cygwin is required if you want to build ATLAS yourself. <span class="anchor" id="line-30"></span><span class="anchor" id="line-31"></span><p class="line867"><strong>MinGW:</strong> <span class="anchor" id="line-32"></span><span class="anchor" id="line-33"></span><p class="line862">The easiest way to install MinGW is to use the <a class="http" href="../../external.html?link=http://prdownloads.sourceforge.net/mingw/MinGW-5.0.3.exe?download">MinGW installer</a> from <a class="http" href="../../external.html?link=http://sourceforge.net/project/showfiles.php?group_id=2435">here</a>. The current (as of 3 August, 06) candidate distribution with gcc and g77 3.4.5 is reported to work best. After installation you need to put the MinGW\bin directory on the path. <span class="anchor" id="line-34"></span><span class="anchor" id="line-35"></span><p class="line867"><strong>Cygwin:</strong> <span class="anchor" id="line-36"></span><span class="anchor" id="line-37"></span><p class="line862">Cygwin can be conveniently installed and updated with <a class="http" href="../../external.html?link=http://www.cygwin.com/setup.exe">http://www.cygwin.com/setup.exe</a> Make sure that the gcc and gcc-mingw packages in the Devel section are selected. If you want to use the official Python distribution (recommended) and don't want to get confused, do <em>not</em> select the Python option in the Cygwin installer. The Cygwin tools should be used from within the Cygwin Bash shell available from the start menu after installation. <a class="http" href="../../external.html?link=http://cplus.about.com/od/compilersandides/l/aa061304a.htm">This</a> is a tutorial explaining the basics of Cygwin. <span class="anchor" id="line-38"></span><span class="anchor" id="line-39"></span><p class="line867"><strong>Visual Studio:</strong> <span class="anchor" id="line-40"></span><span class="anchor" id="line-41"></span><p class="line874">The installation does not need to be explained. The command line tools are most conveniently used from the Visual Studio command prompt available from the start menu. <span class="anchor" id="line-42"></span><span class="anchor" id="line-43"></span><p class="line867">
<h2 id="Intel_Math_Kernel_Library_.28MKL.29">Intel Math Kernel Library (MKL)</h2>
<span class="anchor" id="line-44"></span><span class="anchor" id="line-45"></span><p class="line862">Update: According to <a class="http" href="../../external.html?link=http://www.lfd.uci.edu/~gohlke/">Christoph Gohlke</a>, he's successfully built numpy 1.4 and scipy 0.8dev in 64 (and 32?) bit <strong class="highlight">Windows</strong> against MKL using MSVC 8 Pro, using just the default site.cfg, with this command: <span class="anchor" id="line-46"></span><span class="anchor" id="line-47"></span><p class="line867"><span class="anchor" id="line-48"></span><span class="anchor" id="line-49"></span><pre><span class="anchor" id="line-1-1"></span>&gt; python setupscons.py scons -b --fcompiler=ifort --compiler=msvc</pre><span class="anchor" id="line-50"></span><span class="anchor" id="line-51"></span><p class="line867"><a class="nonexistent" href="../NumPy.html">NumPy</a> (not yet <a href="../SciPy.html">SciPy</a>?) can be built using the optimized <a class="http" href="../../external.html?link=http://www.netlib.org/blas/faq.html">BLAS</a> and <a class="http" href="../../external.html?link=http://www.netlib.org/lapack/faq.html">LAPACK</a> libraries within <a class="http" href="../../external.html?link=http://www.intel.com/cd/software/products/asmo-na/eng/307757.htm">Intel's Math Kernel Library</a>. MKL's implementation of BLAS and LAPACK are apparently <a class="http" href="../../external.html?link=http://www.intel.com/cd/software/products/asmo-na/eng/266858.htm">better optimized</a> for Intel chips than <a href="Windows.html#ATLAS">ATLAS's</a> implementation. <span class="anchor" id="line-52"></span><span class="anchor" id="line-53"></span><p class="line862">Download the <a class="https" href="../../external.html?link=https://registrationcenter.intel.com/EvalCenter/EvalForm.aspx?productid=795">trial of MKL for <strong class="highlight">Windows</strong></a> and install it. The trial is 30 days, but it's currently unknown what will happen to the library and header files on your hard drive after that period has expired. <span class="anchor" id="line-54"></span><span class="anchor" id="line-55"></span><p class="line862">You can use MKL to build with MSVC7.1, the same compiler used by Python &gt;= 2.4. Make sure you have Visual Studio 2003 installed (will other compilers work?). <span class="anchor" id="line-56"></span><span class="anchor" id="line-57"></span><p class="line867">
<h3 id="Build_NumPy">Build NumPy</h3>
<span class="anchor" id="line-58"></span><span class="anchor" id="line-59"></span><p class="line862">Once you've checked out the source for <a class="nonexistent" href="../NumPy.html">NumPy</a>, create an empty file called &quot;.numpy-site.cfg&quot; in your home directory (something like C:\Documents and Settings\username). <strong class="highlight">Windows</strong> Explorer might not allow you to create a file starting with &quot;.&quot;, so you may have to use the command line to rename it. Make sure you have a HOME user environment variable that points to your home directory (see Control Panel/System/Advanced/Environment Variables). Add the following to the file, substituting your MKL installation path where appropriate: <span class="anchor" id="line-60"></span><span class="anchor" id="line-61"></span><span class="anchor" id="line-62"></span><span class="anchor" id="line-63"></span><span class="anchor" id="line-64"></span><span class="anchor" id="line-65"></span><span class="anchor" id="line-66"></span><span class="anchor" id="line-67"></span><span class="anchor" id="line-68"></span><span class="anchor" id="line-69"></span><span class="anchor" id="line-70"></span><span class="anchor" id="line-71"></span><span class="anchor" id="line-72"></span><span class="anchor" id="line-73"></span><span class="anchor" id="line-74"></span><span class="anchor" id="line-75"></span><span class="anchor" id="line-76"></span><span class="anchor" id="line-77"></span><pre><span class="anchor" id="line-1-2"></span># config file for building numpy on ia32 platform,
<span class="anchor" id="line-2-1"></span># using Intel's Math Kernel Library for win32
<span class="anchor" id="line-3-1"></span># builds successfully with MSVC7.1
<span class="anchor" id="line-4-1"></span># replace C:\Program Files\Intel\MKL\9.0 with your Intel MKL install path
<span class="anchor" id="line-5-1"></span>
<span class="anchor" id="line-6-1"></span>[mkl]
<span class="anchor" id="line-7-1"></span>include_dirs = C:\Program Files\Intel\MKL\9.0\include
<span class="anchor" id="line-8-1"></span>library_dirs = C:\Program Files\Intel\MKL\9.0\ia32\lib
<span class="anchor" id="line-9-1"></span>mkl_libs = mkl_ia32, mkl_c_dll, libguide40
<span class="anchor" id="line-10-1"></span>lapack_libs = mkl_lapack
<span class="anchor" id="line-11-1"></span># mkl_c or mkl_c_dll? either seem to work:
<span class="anchor" id="line-12-1"></span># mkl_c : &quot;cdecl interface library&quot;
<span class="anchor" id="line-13-1"></span># mkl_c_dll : &quot;cdecl interface library for dynamic library&quot;
<span class="anchor" id="line-14-1"></span># libguide or libguide40? either seem to work:
<span class="anchor" id="line-15-1"></span># libguide.lib : &quot;Static threading library&quot;
<span class="anchor" id="line-16-1"></span># libguide40.lib : &quot;Interface library for dynamic threading library&quot;</pre><span class="anchor" id="line-78"></span><span class="anchor" id="line-79"></span><p class="line874">Check that the specified libraries can indeed be found by running: <span class="anchor" id="line-80"></span><span class="anchor" id="line-81"></span><span class="anchor" id="line-82"></span><pre><span class="anchor" id="line-1-3"></span>python setup.py config</pre><span class="anchor" id="line-83"></span><p class="line862">from the root <a class="nonexistent" href="../NumPy.html">NumPy</a> source directory. Then, (as of numpy rev 3726) all that's required is running: <span class="anchor" id="line-84"></span><span class="anchor" id="line-85"></span><span class="anchor" id="line-86"></span><pre><span class="anchor" id="line-1-4"></span>python setup.py install</pre><span class="anchor" id="line-87"></span><p class="line862">from the root <a class="nonexistent" href="../NumPy.html">NumPy</a> source directory. This should build <a class="nonexistent" href="../NumPy.html">NumPy</a> without errors and install it to your site-packages directory. Finally, <a href="Windows.html#test">test</a> your installation. <span class="anchor" id="line-88"></span><span class="anchor" id="line-89"></span><p class="line867">
<h3 id="Build_SciPy">Build SciPy</h3>
<span class="anchor" id="line-90"></span><span class="anchor" id="line-91"></span><p class="line874">(Not yet tested) <span class="anchor" id="line-92"></span><span class="anchor" id="line-93"></span><p class="line867"><span class="anchor" id="ATLAS"></span> <span class="anchor" id="line-94"></span><span class="anchor" id="line-95"></span><p class="line867">
<h2 id="BLAS.2C_LAPACK_and_ATLAS">BLAS, LAPACK and ATLAS</h2>
<span class="anchor" id="line-96"></span><span class="anchor" id="line-97"></span><p class="line862">Numpy and Scipy can be built with support for optimized <a class="http" href="../../external.html?link=http://www.netlib.org/blas/faq.html">BLAS</a> and <a class="http" href="../../external.html?link=http://www.netlib.org/lapack/faq.html">LAPACK</a> libraries. (The supported BLAS interface is the CBLAS interface, not the Fortran 77 interface.)  <span class="anchor" id="line-98"></span><span class="anchor" id="line-99"></span><p class="line874">Pre-built versions of the ATLAS libraries are available for several processors: <span class="anchor" id="line-100"></span><span class="anchor" id="line-101"></span><ul><li><p class="line891"><a class="attachment" href="Windows03cc.html?action=AttachFile&amp;do=view&amp;target=atlas3.6.0_WinNT_P2.zip" title="&quot;Pentium 2; early Athlon chips&quot;">&quot;Pentium 2; early Athlon chips&quot;</a> <span class="anchor" id="line-102"></span></li><li><p class="line891"><a class="attachment" href="Windows076b.html?action=AttachFile&amp;do=view&amp;target=atlas3.6.0_WinNT_P3.zip" title="&quot;Pentium 3 / SSE&quot;">&quot;Pentium 3 / SSE&quot;</a>  Athlon XP model 6 and later might also work with this library. <span class="anchor" id="line-103"></span></li><li><p class="line891"><a class="attachment" href="Windowsb4dc.html?action=AttachFile&amp;do=view&amp;target=atlas3.6.0_WinNT_P4SSE2.zip" title="&quot;Pentium 4 / SSE2&quot;">&quot;Pentium 4 / SSE2&quot;</a> <span class="anchor" id="line-104"></span><span class="anchor" id="line-105"></span></li></ul><p class="line874">The rest of this section describes steps to build your own ATLAS libraries for <strong class="highlight">Windows</strong> optimized for your processor. <span class="anchor" id="line-106"></span><span class="anchor" id="line-107"></span><p class="line862">On <strong class="highlight">Windows</strong> currently only one widely available optimized CBLAS library is supported: <a class="http" href="../../external.html?link=http://math-atlas.sourceforge.net/">ATLAS</a>. The build script currently does not support Intel <a class="http" href="../../external.html?link=http://www.intel.com/cd/software/products/asmo-na/eng/perflib/mkl/index.htm">MKL</a> on <strong class="highlight">Windows</strong>. Neither is the <a class="http" href="../../external.html?link=http://developer.amd.com/acml.aspx">ACML</a> library from AMD directly supported, as its C interface for BLAS is incompatible. An optimized Lapack library can be built from the Fortran <a class="http" href="../../external.html?link=http://www.netlib.org/lapack/">sources</a> using an optimized BLAS library. (In principle one could also use <a class="http" href="../../external.html?link=http://www.netlib.org/clapack">CLAPACK</a> to build LAPACK with a C compiler, but CLAPACK is known to have problems and its official distribution is not in sync with the latest patches available for Lapack.) <span class="anchor" id="line-108"></span><span class="anchor" id="line-109"></span><p class="line862">Numpy and Scipy in <strong class="highlight">Windows</strong> can currently only make use of CBLAS and LAPACK as <em>static libraries</em> - DLLs are not supported. <span class="anchor" id="line-110"></span><span class="anchor" id="line-111"></span><p class="line867">
<h3 id="ATLAS_.2B-_LAPACK">ATLAS + LAPACK</h3>
<span class="anchor" id="line-112"></span><span class="anchor" id="line-113"></span><p class="line874">If you don't yet have optimized static CBLAS and Lapack libraries, you can easily build them from within Cygwin. (Lapack also can just as easily be built with MinGW.) <span class="anchor" id="line-114"></span><span class="anchor" id="line-115"></span><p class="line867"><strong>Follow these steps to build ATLAS</strong>: <span class="anchor" id="line-116"></span><span class="anchor" id="line-117"></span><ul><li style="list-style-type:none"><p class="line862">1) Download and extract the most recent version of the <a class="http" href="../../external.html?link=http://math-atlas.sourceforge.net/">ATLAS</a> sources. Currently the most stable &quot;unstable&quot; version is <a class="http" href="../../external.html?link=http://prdownloads.sourceforge.net/math-atlas/atlas3.7.11.tar.gz?download">3.7.11</a>. A new &quot;stable&quot; version is expected to be released this summer, the 3.6.0 version is already pretty dated. <span class="anchor" id="line-118"></span><span class="anchor" id="line-119"></span><p class="line862">2) To avoid <a class="http" href="../../external.html?link=http://math-atlas.sourceforge.net/errata.html#sse3kill">problems</a> on some platforms, deactivate SSE3 by replacing line 77 in ATLAS/CONFIG/probe_SSE3.c with <span class="anchor" id="line-120"></span><span class="anchor" id="line-121"></span><ul><li style="list-style-type:none"><p class="line891"><tt>&nbsp;/*&nbsp;if&nbsp;(testv3[0]&nbsp;!=&nbsp;3.0&nbsp;||&nbsp;testv3[1]&nbsp;!=&nbsp;7.0)&nbsp;*/&nbsp;</tt> <span class="anchor" id="line-122"></span><span class="anchor" id="line-123"></span></li></ul><p class="line862">3) Execute <tt>make</tt> in the Cygwin command prompt in the Atlas root directory. (In Cygwin the <strong class="highlight">windows</strong> drives <tt>c:\</tt>, <tt>d:\</tt>, ... are mapped to <tt>/cygdrive/c/</tt>, <tt>/cygdrive/d/</tt>, ...) <span class="anchor" id="line-124"></span><span class="anchor" id="line-125"></span><p class="line862">4) Generally accept the default options by hitting return. Select the correct processor. Do not activate posix threads. Use the express installation. (You do not need to specify custom compiler flags, the &quot;-mno-cygwin&quot; does not make a difference at this stage.) Accept the architecture defaults.  If you do not know your processor type, downloading and running <a class="http" href="../../external.html?link=http://www.cpuid.com/cpuz.php">CPU-Z</a> may help. <span class="anchor" id="line-126"></span><span class="anchor" id="line-127"></span><p class="line862">5) As prompted by the config script, execute <tt>&nbsp;make&nbsp;install&nbsp;arch=YOUR_ARCHITECTURE&nbsp;</tt>.  This can take anywhere from 15min to several hours, depending on your setup. <span class="anchor" id="line-128"></span><span class="anchor" id="line-129"></span><p class="line862">6) Execute <tt>&nbsp;make&nbsp;sanity_test&nbsp;arch=YOUR_ARCHITECTURE&nbsp;</tt> and hope that no tests fail (the message  <tt>[sanity_test]&nbsp;Error&nbsp;1&nbsp;(ignored)</tt> is to be expected). <span class="anchor" id="line-130"></span><span class="anchor" id="line-131"></span></li></ul><p class="line862">Now copy the files <tt>libatlas.a</tt>, <tt>libcblas.a</tt>, <tt>libf77blas.a</tt> and <tt>liblapack.a</tt> from <tt>ATLAS\lib\YOUR_ARCHITECTURE</tt> to a directory of your choice, for example <tt>c:\BlasLapackLibs</tt>. <span class="anchor" id="line-132"></span><br>
<br>
 <span class="anchor" id="line-133"></span><strong>Follow these steps to build LAPACK</strong>: <span class="anchor" id="line-134"></span><span class="anchor" id="line-135"></span><ul><li style="list-style-type:none"><p class="line862">1) Download and extract the Lapack sources from <a class="http" href="../../external.html?link=http://www.netlib.org/lapack/lapack.tgz">http://www.netlib.org/lapack/lapack.tgz</a>, download the latest patch from <a class="http" href="../../external.html?link=http://www.netlib.org/lapack-dev/">http://www.netlib.org/lapack-dev/</a> and overwrite the files from the standard distribution with the files in the patch. <span class="anchor" id="line-136"></span><span class="anchor" id="line-137"></span><p class="line862">2) Copy the file <tt>LAPACK\INSTALL\make.inc.LINUX</tt> to <tt>LAPACK\make.inc</tt>, where <tt>LAPACK</tt> stands for your Lapack root directory. <span class="anchor" id="line-138"></span><span class="anchor" id="line-139"></span><p class="line862">3) Append <tt>.PHONY:&nbsp;install&nbsp;testing&nbsp;timing</tt> as the last line to LAPACK\Makefile <span class="anchor" id="line-140"></span><span class="anchor" id="line-141"></span><p class="line862">4) Execute <tt>make&nbsp;install&nbsp;lib</tt> and wait a few minutes for the compilation to finish. (The timing error in the beginning is without meaning.) <span class="anchor" id="line-142"></span><span class="anchor" id="line-143"></span><p class="line862">5) (You could also <tt>make&nbsp;testing&nbsp;timing</tt> now, but you'd probably want to do that with an optimized BLAS...) <span class="anchor" id="line-144"></span><span class="anchor" id="line-145"></span></li></ul><p class="line862">Now copy the file <tt>lapack_LINUX.a</tt> from <tt>LAPACK</tt> to your equivalent of the folder <tt>BlasLapackLibs</tt> created above. <span class="anchor" id="line-146"></span><br>
<br>
 <span class="anchor" id="line-147"></span><strong>Follow this step to get an ATLAS-optimized LAPACK library</strong>: <span class="anchor" id="line-148"></span><span class="anchor" id="line-149"></span><p class="line862">In Cygwin execute these commands in your <tt>BlasLapackLibs</tt> folder <span class="anchor" id="line-150"></span><span class="anchor" id="line-151"></span><p class="line867"><span class="anchor" id="line-152"></span><span class="anchor" id="line-153"></span><span class="anchor" id="line-154"></span><span class="anchor" id="line-155"></span><span class="anchor" id="line-156"></span><pre><span class="anchor" id="line-1-5"></span>ar x liblapack.a
<span class="anchor" id="line-2-2"></span>ar r lapack_LINUX.a *.o
<span class="anchor" id="line-3-2"></span>rm *.o
<span class="anchor" id="line-4-2"></span>mv lapack_LINUX.a liblapack.a</pre><span class="anchor" id="line-157"></span><span class="anchor" id="line-158"></span><p class="line862">You now have the files <tt>libcblas.a</tt>, <tt>libf77blas.a</tt>, <tt>liblapack.a</tt> and <tt>libatlas.a</tt> in your <tt>BlasLapackLibs</tt> folder, holding optimized static CBLAS, BLAS, (complete) LAPACK libraries and their low level ATLAS support library. If you want to use MSVC to build Numpy/Scipy, you have to rename the <tt>lib*.a</tt> files to <tt>*.lib</tt>, i.e. <tt>libcblas.a</tt> to <tt>cblas.lib</tt>, for instance. <span class="anchor" id="line-159"></span><span class="anchor" id="line-160"></span><p class="line874">In case you want to create a dll with the full BLAS, CBLAS and LAPACK interface (currently not relevant for Scipy), this could be easily done as follows: <span class="anchor" id="line-161"></span><span class="anchor" id="line-162"></span><span class="anchor" id="line-163"></span><pre><span class="anchor" id="line-1-6"></span>gcc -mno-cygwin -shared -o blaslapack.dll -Wl,--out-implib=blaslapack.lib -Wl,--export-all-symbols -Wl,--allow-multiple-definition -Wl,--enable-auto-import -Wl,--whole-archive liblapack.a libf77blas.a libcblas.a -Wl,--no-whole-archive libatlas.a -lg2c</pre><span class="anchor" id="line-164"></span><p class="line862">This generates a dll linked to msvcrt.dll. If you want to generate a dll (only) linked to msvcr71, using the command line option <tt>-lmsvcr71</tt> is not enough (due to a bug in MinGW?), you need to replace <tt>-lmsvcrt</tt> in your gcc <tt>spec</tt> file (in <tt>Cygwin\lib\gcc\i686-pc-cygwin\3.4.X&nbsp;or&nbsp;MinGW\lib\gcc\mingw32\3.4.X</tt>, ) with <tt>-lmsvcr71</tt> before executing the above command. If you want to check the dll dependencies, you could use <a class="http" href="../../external.html?link=http://www.dependencywalker.com/">depends</a>. <span class="anchor" id="line-165"></span><span class="anchor" id="line-166"></span><p class="line874">The generated blaslapack.lib is the import library for linking the dll. <span class="anchor" id="line-167"></span><span class="anchor" id="line-168"></span><p class="line867">
<h3 id="Build_Numpy">Build Numpy</h3>
<span class="anchor" id="line-169"></span><span class="anchor" id="line-170"></span><p class="line862">First download and extract the latest source distribution from <a href="../Download.html">here</a>, or check out the <a class="http" href="../../external.html?link=http://subversion.tigris.org/">Subversion</a> tree <a class="http" href="../../external.html?link=http://svn.scipy.org/svn/numpy/trunk/">http://svn.scipy.org/svn/numpy/trunk/</a> using a tool like the excellent <a class="http" href="../../external.html?link=http://tortoisesvn.net/">TortoiseSVN</a>. <span class="anchor" id="line-171"></span><span class="anchor" id="line-172"></span><p class="line862">In order to configure Numpy to use your optimized BLAS/LAPACK libraries you need to copy the <tt>site.cfg.example</tt> file in the root directory of Numpy to <tt>site.cfg</tt>.  If <tt>site.cfg.example</tt> does not exist, then just create a new <tt>site.cfg</tt>.  Change its contents as follows: <span class="anchor" id="line-173"></span><span class="anchor" id="line-174"></span><p class="line874">If you've built ATLAS+LAPACK as described above: <span class="anchor" id="line-175"></span><span class="anchor" id="line-176"></span><span class="anchor" id="line-177"></span><span class="anchor" id="line-178"></span><span class="anchor" id="line-179"></span><pre><span class="anchor" id="line-1-7"></span>[atlas]
<span class="anchor" id="line-2-3"></span>library_dirs = c:\path\to\BlasLapackLibs
<span class="anchor" id="line-3-3"></span>atlas_libs = lapack, f77blas, cblas, atlas</pre><span class="anchor" id="line-180"></span><p class="line874">If you want to build numpy for the Cygwin-Python (usually you don't), you need to use the Cygwin path instead of the <strong class="highlight">windows</strong> path. <span class="anchor" id="line-181"></span><span class="anchor" id="line-182"></span><p class="line874">If you want to use some other static BLAS and LAPACK libraries instead, use: <span class="anchor" id="line-183"></span><span class="anchor" id="line-184"></span><span class="anchor" id="line-185"></span><span class="anchor" id="line-186"></span><span class="anchor" id="line-187"></span><span class="anchor" id="line-188"></span><span class="anchor" id="line-189"></span><span class="anchor" id="line-190"></span><span class="anchor" id="line-191"></span><pre><span class="anchor" id="line-1-8"></span>[blas]
<span class="anchor" id="line-2-4"></span>library_dirs = c:\path\to\CBlas
<span class="anchor" id="line-3-4"></span>blas_libs = cblas
<span class="anchor" id="line-4-3"></span>
<span class="anchor" id="line-5-2"></span>[lapack]
<span class="anchor" id="line-6-2"></span>library_dirs = c:\path\to\BlasLibs
<span class="anchor" id="line-7-2"></span>lapack_libs = lapack</pre><span class="anchor" id="line-192"></span><p class="line874">where &quot;cblas&quot; and &quot;lapack&quot; should be replaced with the names of your libraries (without lib*.a or .lib extensions). <span class="anchor" id="line-193"></span><span class="anchor" id="line-194"></span><span class="anchor" id="line-195"></span><p class="line874">Now change to the numpy root directory in a <strong class="highlight">Windows</strong> command prompt window (or the Cygwin bash shell). If you want to compile with MinGW or Cygwin-MinGW, execute <span class="anchor" id="line-196"></span><span class="anchor" id="line-197"></span><span class="anchor" id="line-198"></span><pre><span class="anchor" id="line-1-9"></span>c:\path\to\python.exe setup.py config --compiler=mingw32 build --compiler=mingw32 bdist_wininst</pre><span class="anchor" id="line-199"></span><p class="line874">and if you want to compile with Visual Studio .2003, execute <span class="anchor" id="line-200"></span><span class="anchor" id="line-201"></span><span class="anchor" id="line-202"></span><pre><span class="anchor" id="line-1-10"></span>c:\path\to\python.exe setup.py config --compiler=msvc build --compiler=msvc bdist_wininst</pre><span class="anchor" id="line-203"></span><span class="anchor" id="line-204"></span><span class="anchor" id="line-205"></span><p class="line862">This leaves you with a nice binary installer in the <tt>dist</tt> subfolder, which you can use to install Numpy and later uninstall through &quot;Add and remove programs&quot; in the &quot;Control panel&quot;.    <span class="anchor" id="line-206"></span><span class="anchor" id="line-207"></span><p class="line874">If you'd rather just go ahead and actually install it somewhere, use: <span class="anchor" id="line-208"></span><span class="anchor" id="line-209"></span><span class="anchor" id="line-210"></span><pre><span class="anchor" id="line-1-11"></span>c:\path\to\python.exe setup.py config --compiler=[compiler] build --compiler=[compiler] install --prefix=c:\where\to\install</pre><span class="anchor" id="line-211"></span><span class="anchor" id="line-212"></span><p class="line874">If you want to compile and install Numpy for use with the Python from Cygwin (usually you don't), execute <span class="anchor" id="line-213"></span><span class="anchor" id="line-214"></span><span class="anchor" id="line-215"></span><pre><span class="anchor" id="line-1-12"></span>python setup.py config --compiler=mingw32 build --compiler=mingw32 install</pre><span class="anchor" id="line-216"></span><p class="line874">in the Cygwin Bash shell. <span class="anchor" id="line-217"></span><span class="anchor" id="line-218"></span><p class="line874">If you later wish to rebuild numpy, say after updating the code from SVN, it may be necessary to delete the &quot;build&quot; directory first before rerunning the above commands. <span class="anchor" id="line-219"></span><span class="anchor" id="line-220"></span><p class="line867"><br>
<br>
 <span class="anchor" id="line-221"></span><strong>Miscellaneous Notes:</strong> <span class="anchor" id="line-222"></span><span class="anchor" id="line-223"></span><p class="line862">If you're getting a &quot;gcc.lib not found&quot; error, it is probably because you're building with <tt class="backtick">--compiler=msvc</tt>, but you also have MinGW installed.  In that case Numpy may compile some Fortran files using MinGW, and then at link time try to link with &quot;gcc.lib&quot; which doesn't exist in the MinGW distribution.  You can fix this by copying some MinGW .a file to .lib files: <span class="anchor" id="line-224"></span><span class="anchor" id="line-225"></span><span class="anchor" id="line-226"></span><span class="anchor" id="line-227"></span><span class="anchor" id="line-228"></span><pre><span class="anchor" id="line-1-13"></span>cd c:\MinGW\lib\gcc\mingw32\{compiler.version}\
<span class="anchor" id="line-2-5"></span>copy libgcc.a   gcc.lib
<span class="anchor" id="line-3-5"></span>copy c:\MinGW\lib\libg2c.a   .\g2c.lib</pre><span class="anchor" id="line-229"></span><span class="anchor" id="line-230"></span><p class="line874">If you get link errors like this: <span class="anchor" id="line-231"></span><span class="anchor" id="line-232"></span><p class="line867"><span class="anchor" id="line-233"></span><span class="anchor" id="line-234"></span><span class="anchor" id="line-235"></span><span class="anchor" id="line-236"></span><span class="anchor" id="line-237"></span><span class="anchor" id="line-238"></span><span class="anchor" id="line-239"></span><span class="anchor" id="line-240"></span><span class="anchor" id="line-241"></span><span class="anchor" id="line-242"></span><span class="anchor" id="line-243"></span><span class="anchor" id="line-244"></span><span class="anchor" id="line-245"></span><span class="anchor" id="line-246"></span><span class="anchor" id="line-247"></span><span class="anchor" id="line-248"></span><span class="anchor" id="line-249"></span><span class="anchor" id="line-250"></span><span class="anchor" id="line-251"></span><span class="anchor" id="line-252"></span><span class="anchor" id="line-253"></span><span class="anchor" id="line-254"></span><span class="anchor" id="line-255"></span><span class="anchor" id="line-256"></span><span class="anchor" id="line-257"></span><span class="anchor" id="line-258"></span><span class="anchor" id="line-259"></span><span class="anchor" id="line-260"></span><span class="anchor" id="line-261"></span><span class="anchor" id="line-262"></span><span class="anchor" id="line-263"></span><pre><span class="anchor" id="line-1-14"></span>lapack.lib(zunmbr.o) : error LNK2001: unresolved external symbol _s_cat
<span class="anchor" id="line-2-6"></span>lapack.lib(zunmqr.o) : error LNK2001: unresolved external symbol _s_cat
<span class="anchor" id="line-3-6"></span>lapack.lib(dormql.o) : error LNK2001: unresolved external symbol _s_cat
<span class="anchor" id="line-4-4"></span>lapack.lib(zunmql.o) : error LNK2001: unresolved external symbol _s_cat
<span class="anchor" id="line-5-3"></span>lapack.lib(dormbr.o) : error LNK2001: unresolved external symbol _s_cat
<span class="anchor" id="line-6-3"></span>lapack.lib(dormqr.o) : error LNK2001: unresolved external symbol _s_cat
<span class="anchor" id="line-7-3"></span>lapack.lib(zhseqr.o) : error LNK2019: unresolved external symbol _s_cat referenced in function _zhseqr_
<span class="anchor" id="line-8-2"></span>lapack.lib(zunmlq.o) : error LNK2001: unresolved external symbol _s_cat
<span class="anchor" id="line-9-2"></span>lapack.lib(dhseqr.o) : error LNK2019: unresolved external symbol _s_cat referenced in function _dhseqr_
<span class="anchor" id="line-10-2"></span>lapack.lib(dormtr.o) : error LNK2001: unresolved external symbol _s_cat
<span class="anchor" id="line-11-2"></span>lapack.lib(zunmtr.o) : error LNK2001: unresolved external symbol _s_cat
<span class="anchor" id="line-12-2"></span>lapack.lib(dormlq.o) : error LNK2001: unresolved external symbol _s_cat
<span class="anchor" id="line-13-2"></span>lapack.lib(dlamch.o) : error LNK2019: unresolved external symbol _e_wsfe referenced in function _dlamc2_
<span class="anchor" id="line-14-2"></span>lapack.lib(xerbla.o) : error LNK2001: unresolved external symbol _e_wsfe
<span class="anchor" id="line-15-2"></span>lapack.lib(dlamch.o) : error LNK2019: unresolved external symbol _do_fio referenced in function _dlamc2_
<span class="anchor" id="line-16-2"></span>lapack.lib(xerbla.o) : error LNK2001: unresolved external symbol _do_fio
<span class="anchor" id="line-17-1"></span>lapack.lib(dlamch.o) : error LNK2019: unresolved external symbol _s_wsfe referenced in function _dlamc2_
<span class="anchor" id="line-18-1"></span>lapack.lib(xerbla.o) : error LNK2001: unresolved external symbol _s_wsfe
<span class="anchor" id="line-19-1"></span>lapack.lib(xerbla.o) : error LNK2019: unresolved external symbol _s_stop referenced in function _xerbla_
<span class="anchor" id="line-20-1"></span>lapack.lib(ilaenv.o) : error LNK2019: unresolved external symbol _s_cmp referenced in function _ilaenv_
<span class="anchor" id="line-21-1"></span>lapack.lib(ilaenv.o) : error LNK2019: unresolved external symbol _s_copy referenced in function _ilaenv_
<span class="anchor" id="line-22-1"></span>lapack.lib(zlahqr.o) : error LNK2019: unresolved external symbol _z_abs referenced in function _zlahqr_
<span class="anchor" id="line-23-1"></span>lapack.lib(zlanhe.o) : error LNK2019: unresolved external symbol _z_abs referenced in function _zlanhe_
<span class="anchor" id="line-24-1"></span>lapack.lib(zgebal.o) : error LNK2019: unresolved external symbol _z_abs referenced in function _zgebal_
<span class="anchor" id="line-25-1"></span>lapack.lib(zlange.o) : error LNK2019: unresolved external symbol _z_abs referenced in function _zlange_
<span class="anchor" id="line-26-1"></span>lapack.lib(zlanhs.o) : error LNK2019: unresolved external symbol _z_abs referenced in function _zlanhs_
<span class="anchor" id="line-27-1"></span>lapack.lib(zhseqr.o) : error LNK2019: unresolved external symbol __alloca referenced in function _zhseqr_
<span class="anchor" id="line-28-1"></span>lapack.lib(zlarfx.o) : error LNK2019: unresolved external symbol __alloca referenced in function _zlarfx_
<span class="anchor" id="line-29-1"></span>lapack.lib(zlahqr.o) : error LNK2019: unresolved external symbol _z_sqrt referenced in function _zlahqr_
<span class="anchor" id="line-30-1"></span>build\lib.win32-2.4\numpy\linalg\lapack_lite.pyd : fatal error LNK1120: 10 unresolved externals</pre><span class="anchor" id="line-264"></span><span class="anchor" id="line-265"></span><p class="line862">you need to add the g2c and gcc libraries to the ATLAS and LAPACK libraries you have already. With Cygwin, you can find these in <tt class="backtick">/lib/gcc/i686-pc-mingw32/3.4.4</tt>. Copy them to g2c.lib and gcc.lib, respectively, and modify site.cfg accordingly. <span class="anchor" id="line-266"></span><span class="anchor" id="line-267"></span><p class="line867">
<h3 id="Build_SciPy-1">Build SciPy</h3>
<span class="anchor" id="line-268"></span><span class="anchor" id="line-269"></span><p class="line862">Download and extract the latest source distribution from <a href="../Download.html">here</a>, or check out the Subversion tree <a class="http" href="../../external.html?link=http://svn.scipy.org/svn/scipy/trunk/">http://svn.scipy.org/svn/scipy/trunk/</a>. <span class="anchor" id="line-270"></span><span class="anchor" id="line-271"></span><p class="line862">If you want to configure further packages (like UMFPACK), copy the <tt>site.cfg</tt> from your Numpy source tree to the root of the Scipy tree. Otherwise the setup script will just use the site.cfg of the Numpy it finds on your PYTHONPATH.  (In my experience it seems you at least need to have blas and lapack entries.  Probably best to just put all three entries in there.) <span class="anchor" id="line-272"></span><span class="anchor" id="line-273"></span><span class="anchor" id="line-274"></span><span class="anchor" id="line-275"></span><span class="anchor" id="line-276"></span><span class="anchor" id="line-277"></span><span class="anchor" id="line-278"></span><span class="anchor" id="line-279"></span><span class="anchor" id="line-280"></span><span class="anchor" id="line-281"></span><span class="anchor" id="line-282"></span><span class="anchor" id="line-283"></span><span class="anchor" id="line-284"></span><pre><span class="anchor" id="line-1-15"></span>[atlas]
<span class="anchor" id="line-2-7"></span>library_dirs = c:\path\to\BlasLapackLibs
<span class="anchor" id="line-3-7"></span>atlas_libs = lapack, f77blas, cblas, atlas
<span class="anchor" id="line-4-5"></span>
<span class="anchor" id="line-5-4"></span>[blas]
<span class="anchor" id="line-6-4"></span>library_dirs = c:\path\to\CBlas
<span class="anchor" id="line-7-4"></span>blas_libs = cblas
<span class="anchor" id="line-8-3"></span>
<span class="anchor" id="line-9-3"></span>[lapack]
<span class="anchor" id="line-10-3"></span>library_dirs = c:\path\to\BlasLibs
<span class="anchor" id="line-11-3"></span>lapack_libs = lapack</pre><span class="anchor" id="line-285"></span><span class="anchor" id="line-286"></span><p class="line862">At this time (2006-07-13), the Scipy source can <em>only</em> be compiled using MinGW.  It will not compile with MSVC.  Furthermore, version 3.4.5 of gcc seems to be required or you end up with a linker error at the end.  See above for how to get that.   Note that there is no problem with using an MSVC-compiled Numpy with a MinGW-compiled Scipy. <span class="anchor" id="line-287"></span><span class="anchor" id="line-288"></span><p class="line867"><em>[Further info required.]</em> <span class="anchor" id="line-289"></span><span class="anchor" id="line-290"></span><p class="line867"><strong>How to build scipy-0.5.2 with cygwin gcc-3.4.4</strong> <span class="anchor" id="line-291"></span><span class="anchor" id="line-292"></span><p class="line862">I've successfully built scipy-0.5.2 with cygwin gcc-3.4.4. You should adjust your <strong>$F77FLAGS</strong> and/or <strong>$FFLAGS</strong> and add <strong>-fno-second-underscore</strong> option. I've built <strong>ATLAS</strong>, <strong>fftw-3.1.2</strong>, and <strong>UMFPACK</strong> with this option, and then, successfully built scipy. No linker error is reported. If you've built those libs without <strong>-fno-second-underscore</strong> in <strong>$FFLAGS</strong>/<strong>$F77FLAGS</strong>, just try adding it when building scipy, it may also work. <span class="anchor" id="line-293"></span><span class="anchor" id="line-294"></span><p class="line874">Once you've got the site.cfg ready, Scipy can be built and installed with the same command as Numpy.  Namely, to make an installer exe: <span class="anchor" id="line-295"></span><span class="anchor" id="line-296"></span><span class="anchor" id="line-297"></span><pre><span class="anchor" id="line-1-16"></span>c:\path\to\python.exe setup.py config --compiler=mingw32 build --compiler=mingw32 bdist_wininst</pre><span class="anchor" id="line-298"></span><p class="line874">Or to install directly to a given location use: <span class="anchor" id="line-299"></span><span class="anchor" id="line-300"></span><span class="anchor" id="line-301"></span><pre><span class="anchor" id="line-1-17"></span>c:\path\to\python.exe setup.py config --compiler=mingw32 build --compiler=mingw32 install --prefix=c:\where\to\install</pre><span class="anchor" id="line-302"></span><span class="anchor" id="line-303"></span><p class="line867"><span class="anchor" id="test"></span> <span class="anchor" id="line-304"></span><span class="anchor" id="line-305"></span><p class="line867">
<h2 id="Testing">Testing</h2>
<span class="anchor" id="line-306"></span><span class="anchor" id="line-307"></span><p class="line874">After installation run the unit test suits in Python: <span class="anchor" id="line-308"></span><span class="anchor" id="line-309"></span><span class="anchor" id="line-310"></span><span class="anchor" id="line-311"></span><span class="anchor" id="line-312"></span><span class="anchor" id="line-1-18"></span><div class="highlight python"><div class="codearea" dir="ltr" lang="en"><pre dir="ltr" id="CA-126332c40b5f701fd1f4dceceea85a04aecf1ba7" lang="en"><span class="line"><span class="anchor" id="line-1-19"></span>&gt;&gt;&gt; <span class="ResWord">import</span> <span class="ID">numpy</span>, <span class="ID">scipy</span></span>
<span class="line"><span class="anchor" id="line-2-8"></span>&gt;&gt;&gt; <span class="ID">numpy</span>.<span class="ID">test</span>()</span>
<span class="line"><span class="anchor" id="line-3-8"></span>&gt;&gt;&gt; <span class="ID">scipy</span>.<span class="ID">test</span>()</span>
</pre></div></div><span class="anchor" id="line-313"></span><p class="line874">These should run without errors. <span class="anchor" id="line-314"></span><span class="anchor" id="line-315"></span><p class="line874">You may also wish to verify that numpy and scipy are using your optimized BLAS and LAPACK libraries by checking: <span class="anchor" id="line-316"></span><span class="anchor" id="line-317"></span><span class="anchor" id="line-318"></span><span class="anchor" id="line-319"></span><span class="anchor" id="line-320"></span><span class="anchor" id="line-1-20"></span><div class="highlight python"><div class="codearea" dir="ltr" lang="en"><pre dir="ltr" id="CA-546ef1706d7ff9fb086749359842f7adf3a79b47" lang="en"><span class="line"><span class="anchor" id="line-1-21"></span>&gt;&gt;&gt; <span class="ResWord">import</span> <span class="ID">numpy</span>, <span class="ID">scipy</span></span>
<span class="line"><span class="anchor" id="line-2-9"></span>&gt;&gt;&gt; <span class="ID">numpy</span>.<span class="ID">show_config</span>()</span>
<span class="line"><span class="anchor" id="line-3-9"></span>&gt;&gt;&gt; <span class="ID">scipy</span>.<span class="ID">show_config</span>()</span>
</pre></div></div><span class="anchor" id="line-321"></span><span class="anchor" id="line-322"></span><p class="line867">
<h2 id="Troubleshooting">Troubleshooting</h2>
<span class="anchor" id="line-323"></span><span class="anchor" id="line-324"></span><p class="line862">If you experience problems when building, installing or testing Numpy or Scipy, feel free to ask for help on the respective <a href="../Mailing_Lists.html">mailing list</a>. Make sure your email includes the error output and version info on your operating system and the compilers you used. <span class="anchor" id="line-325"></span><span class="anchor" id="line-326"></span><p class="line867"><br>
 <span class="anchor" id="line-327"></span><em><small>Original author: Stephan Tolksdorf</small></em> <span class="anchor" id="line-328"></span><span class="anchor" id="line-329"></span><p class="line867"><hr /><p class="line874"> <span class="anchor" id="line-330"></span><a href="../CategoryInstallation.html">CategoryInstallation</a> <span class="anchor" id="line-331"></span><span class="anchor" id="bottom"></span></div><p id="pageinfo" class="info" lang="en" dir="ltr">SciPy: Installing_SciPy/Windows  (last edited 2015-10-24 17:48:23 by <span title="">anonymous</span>)</p>

<div id="pagebottom"></div>
</div>


<div id="footer">
<ul class="editbar"><li class="toggleCommentsButton" style="display:none;"><a href="#" class="nbcomment" onClick="toggleComments();return false;">Comments</a></li><li><a class="nbattachments" href="Windows37dc.html?action=AttachFile" rel="nofollow">Attachments</a></li><li>
<form class="actionsmenu" method="GET" action="../../external.html?link=http://localhost:8080/Installing_SciPy/Windows">
<div>
    <label>More Actions:</label>
    <select name="action"
        onchange="if ((this.selectedIndex != 0) &&
                      (this.options[this.selectedIndex].disabled == false)) {
                this.form.submit();
            }
            this.selectedIndex = 0;">
        <option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="RenamePage" disabled class="disabled">Rename Page</option>
<option value="DeletePage" disabled class="disabled">Delete Page</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Subscribe User</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Remove Spam</option>
<option value="show" disabled class="disabled">Revert to this revision</option>
    </select>
    <input type="submit" value="Do">
    
</div>
<script type="text/javascript">
<!--// Init menu
actionsMenuInit('More Actions:');
//-->
</script>
</form>
</li></ul>

<ul id="credits">
<li><a href="../../external.html?link=http://moinmo.in/" title="This site uses the MoinMoin Wiki software.">MoinMoin Powered</a></li><li><a href="../../external.html?link=http://moinmo.in/Python" title="MoinMoin is written in Python.">Python Powered</a></li><li><a href="../../external.html?link=http://moinmo.in/GPL" title="MoinMoin is GPL licensed.">GPL licensed</a></li><li><a href="../../external.html?link=http://validator.w3.org/check?uri=referer" title="Click here to validate this page.">Valid HTML 4.01</a></li>
</ul>


</div>
</body>

<!-- Mirrored from localhost:8080/Installing_SciPy/Windows?highlight=%28%28Installing_SciPy%7CWindows%29%29 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 29 Oct 2015 23:19:29 GMT -->
</html>

