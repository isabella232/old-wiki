<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>

<!-- Mirrored from localhost:8080/FAQ?action=recoverpass by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 29 Oct 2015 23:19:29 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<meta name="edit_on_doubleclick" content="/">
<meta name="robots" content="noindex,nofollow">

<title>FAQ - SciPy wiki dump</title>
<script type="text/javascript" src="moin_static197/common/js/common.js"></script>

<script type="text/javascript">
<!--
var search_hint = "Search";
//-->
</script>


<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="moin_static197/modern/css/common.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="screen" href="moin_static197/modern/css/screen.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="print" href="moin_static197/modern/css/print.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="projection" href="moin_static197/modern/css/projection.css">

<!-- css only for MS IE6/IE7 browsers -->
<!--[if lt IE 8]>
   <link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="/moin_static197/modern/css/msie.css">
<![endif]-->


<link rel="alternate" title="SciPy: FAQ" href="../external.html?link=http://localhost:8080/FAQ?diffs=1&amp;show_att=1&amp;action=rss_rc&amp;unique=0&amp;page=FAQ&amp;ddiffs=1" type="application/rss+xml">


<link rel="Start" href="AllPages.html">
<link rel="Alternate" title="Wiki Markup" href="../external.html?link=http://localhost:8080/FAQ?action=raw">
<link rel="Alternate" media="print" title="Print View" href="../external.html?link=http://localhost:8080/FAQ?action=print">
<link rel="Search" href="FindPage.html">
<link rel="Index" href="TitleIndex.html">
<link rel="Glossary" href="WordIndex.html">
<link rel="Help" href="HelpOnFormatting.html">
</head>

<body  lang="en" dir="ltr"><div style="background: white; padding:2em;">This is an archival dump of old wiki content --- see <a href="http://scipy.org/">scipy.org</a> for current material</div>

<div id="header">


<form id="searchform" method="get" action="../external.html?link=http://localhost:8080/FAQ">
<div>
<input type="hidden" name="action" value="fullsearch">
<input type="hidden" name="context" value="180">
<label for="searchinput">Search:</label>
<input id="searchinput" type="text" name="value" value="" size="20"
    onfocus="searchFocus(this)" onblur="searchBlur(this)"
    onkeyup="searchChange(this)" onchange="searchChange(this)" alt="Search">
<input id="titlesearch" name="titlesearch" type="submit"
    value="Titles" alt="Search Titles">
<input id="fullsearch" name="fullsearch" type="submit"
    value="Text" alt="Search Full Text">
</div>
</form>
<script type="text/javascript">
<!--// Initialize search form
var f = document.getElementById('searchform');
f.getElementsByTagName('label')[0].style.display = 'none';
var e = document.getElementById('searchinput');
searchChange(e);
searchBlur(e);
//-->
</script>

<ul id="username"><li><a href="FAQ456e.html?action=login" id="login" rel="nofollow">Login</a></li></ul>
<div id="locationline">
<div id="interwiki"><span><a href="AllPages.html" rel="nofollow">SciPy</a></span></div>

<ul id="pagelocation">
<li><a class="backlink" href="FAQ3a8b.html?action=fullsearch&amp;context=180&amp;value=linkto%3A%22FAQ%22" rel="nofollow" title="Click to do a full-text search for this title">FAQ</a></li>
</ul>

</div>


<ul id="navibar">
<li class="wikilink"><a href="RecentChanges.html">RecentChanges</a></li><li class="wikilink"><a class="nonexistent" href="FindPage.html">FindPage</a></li><li class="wikilink"><a class="nonexistent" href="HelpContents.html">HelpContents</a></li><li class="current"><a href="FAQ.html">FAQ</a></li>
</ul>

<div id="pageline"><hr style="display:none;"></div>
<div id="message">
<p><div class="warning">This wiki is not enabled for mail processing.
Contact the owner of the wiki, who can enable email.</div></p><a class="clear-link" href="FAQ.html">Clear message</a>
</div>

<ul class="editbar"><li class="toggleCommentsButton" style="display:none;"><a href="#" class="nbcomment" onClick="toggleComments();return false;">Comments</a></li><li><a class="nbattachments" href="FAQ37dc.html?action=AttachFile" rel="nofollow">Attachments</a></li><li>
<form class="actionsmenu" method="GET" action="../external.html?link=http://localhost:8080/FAQ">
<div>
    <label>More Actions:</label>
    <select name="action"
        onchange="if ((this.selectedIndex != 0) &&
                      (this.options[this.selectedIndex].disabled == false)) {
                this.form.submit();
            }
            this.selectedIndex = 0;">
        <option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="RenamePage" disabled class="disabled">Rename Page</option>
<option value="DeletePage" disabled class="disabled">Delete Page</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Subscribe User</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Remove Spam</option>
<option value="show" disabled class="disabled">Revert to this revision</option>
    </select>
    <input type="submit" value="Do">
    
</div>
<script type="text/javascript">
<!--// Init menu
actionsMenuInit('More Actions:');
//-->
</script>
</form>
</li></ul>

</div>

<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en"><span class="anchor" id="top"></span>
<span class="anchor" id="line-1"></span><p class="line867"><div class="table-of-contents"><p class="table-of-contents-heading">Contents<ol><li>
<a href="#General_questions_about_numpy">General questions about numpy</a><ol><li>
<a href="#What_is_numpy.3F">What is numpy?</a></li><li>
<a href="#Why_use_numpy_rather_than_IDL.2C_MATLAB.2C_Octave.2C_or_Yorick.3F">Why use numpy rather than IDL, MATLAB, Octave, or Yorick?</a></li><li>
<a href="#What_are_numpy_arrays.3F">What are numpy arrays?</a></li><li>
<a href="#Why_not_use_lists.3F">Why not use lists?</a></li><li>
<a href="#What.27s_the_story_with_Numeric.2C_numarray.2C_and_numpy.3F">What's the story with Numeric, numarray, and numpy?</a></li><li>
<a href="#How_do_I_spell_NumPy.3F">How do I spell NumPy?</a></li><li>
<a href="#Is_Python_3_supported_yet.3F">Is Python 3 supported yet?</a></li></ol></li><li>
<a href="#General_questions_about_SciPy">General questions about SciPy</a><ol><li>
<a href="#What_is_SciPy.3F">What is SciPy?</a></li><li>
<a href="#How_much_does_it_cost.3F">How much does it cost?</a></li><li>
<a href="#What_are_SciPy.27s_licensing_terms.3F">What are SciPy's licensing terms?</a></li><li>
<a href="#Why_Python.3F">Why Python?</a></li><li>
<a href="#What_scientific_libraries_are_available_in_SciPy.3F">What scientific libraries are available in SciPy?</a></li><li>
<a href="#How_can_SciPy_be_fast_if_it_is_written_in_an_interpreted_language_like_Python.3F">How can SciPy be fast if it is written in an interpreted language like Python?</a></li><li>
<a href="#In_what_directions_do_you_see_SciPy_expanding.3F">In what directions do you see SciPy expanding?</a></li><li>
<a href="#I.27ve_found_a_bug.__What_do_I_do.3F">I've found a bug.  What do I do?</a></li><li>
<a href="#How_can_I_get_involved_in_SciPy.3F">How can I get involved in SciPy?</a></li><li>
<a href="#Is_there_commercial_support_available.3F">Is there commercial support available?</a></li><li>
<a href="#How_do_I_spell_SciPy.3F">How do I spell SciPy?</a></li><li>
<a href="#How_do_I_cite_SciPy_in_a_publication.3F">How do I cite SciPy in a publication?</a></li></ol></li><li>
<a href="#Basic_SciPy.2Fnumpy_usage">Basic SciPy/numpy usage</a><ol><li>
<a href="#What_is_the_preferred_way_to_test_if_an_array_is_empty.3F">What is the preferred way to test if an array is empty?</a></li><li>
<a href="#I_want_to_load_an_array_from_a_text_file._Can_you_help_me_make_this_code_more_efficient.3F">I want to load an array from a text file. Can you help me make this code more efficient?</a></li><li>
<a href="#I_want_to_save_an_array_on_disk_for_later_use._What.27s_the_best_way.3F">I want to save an array on disk for later use. What's the best way?</a></li><li>
<a href="#What.27s_the_difference_between_matrices_and_arrays.3F">What's the difference between matrices and arrays?</a><ol><li>
<a href="#Why_not_just_have_a_separate_operator_for_matrix_multiplication.3F">Why not just have a separate operator for matrix multiplication?</a></li></ol></li><li>
<a href="#How_do_I_find_the_indices_of_an_array_where_some_condition_is_true.3F">How do I find the indices of an array where some condition is true?</a></li></ol></li><li>
<a href="#Advanced_NumPy.2FSciPy_usage">Advanced NumPy/SciPy usage</a><ol><li>
<a href="#Does_NumPy_support_nan_.28.22not_a_number.22.29.3F">Does NumPy support nan (&quot;not a number&quot;)?</a></li><li>
<a href="#I_have_a_multiprocessor.2Fmulticore_machine._How_can_I_use_this_to_speed_up_my_code.3F">I have a multiprocessor/multicore machine. How can I use this to speed up my code?</a></li><li>
<a href="#Why_doesn.27t_A.5B.5B0.2C1.2C1.2C2.5D.5D.2B-.3D1_do_what_I_think_it_should.3F">Why doesn't A[[0,1,1,2]]+=1 do what I think it should?</a></li></ol></li><li>
<a href="#NumPy.2FSciPy_installation">NumPy/SciPy installation</a><ol><li>
<a href="#Basics">Basics</a><ol><li>
<a href="#Prerequisities">Prerequisities</a></li><li>
<a href="#Installation_using_tar-ball">Installation using tar-ball</a></li><li>
<a href="#Testing">Testing</a></li></ol></li><li>
<a href="#Customizing">Customizing</a><ol><li>
<a href="#Compilers">Compilers</a></li><li>
<a href="#xplt_for_plotting">xplt for plotting</a></li></ol></li><li>
<a href="#Known_installation_problems">Known installation problems</a><ol><li>
<a href="#BLAS_sources_shipped_with_LAPACK_are_incomplete">BLAS sources shipped with LAPACK are incomplete</a></li><li>
<a href="#LAPACK_library_provided_by_ATLAS_is_incomplete">LAPACK library provided by ATLAS is incomplete</a></li><li>
<a href="#Using_ATLAS_3.2.1">Using ATLAS 3.2.1</a></li><li>
<a href="#Using_non-GNU_Fortran_Compiler">Using non-GNU Fortran Compiler</a><ol><li>
<a href="#Using_non-GNU_Fortran_compiler_with_gcc.2Fg77_compiled_Atlas.2FLapack_libraries">Using non-GNU Fortran compiler with gcc/g77 compiled Atlas/Lapack libraries</a></li><li>
<a href="#Intel_Fortran_Compiler">Intel Fortran Compiler</a></li></ol></li></ol></li><li>
<a href="#Advanced_Issues">Advanced Issues</a><ol><li>
<a href="#Why_numpy_headers_are_installed_using_add_data_dir_and_not_add_headers.3F">Why numpy headers are installed using add_data_dir and not add_headers?</a></li></ol></li><li>
<a href="#Troubleshooting">Troubleshooting</a></li></ol></li><li>
<a href="#Miscellaneous_Issues">Miscellaneous Issues</a><ol><li>
<a href="#Why_doesn.27t_the_bdist_rpm_command_work_with_config_fc.3F">Why doesn't the bdist_rpm command work with config_fc?</a></li></ol></li></ol></div> <span class="anchor" id="line-2"></span><span class="anchor" id="line-3"></span><p class="line867">
<h1 id="General_questions_about_numpy">General questions about numpy</h1>
<span class="anchor" id="line-4"></span><span class="anchor" id="line-5"></span><p class="line867">
<h2 id="What_is_numpy.3F">What is numpy?</h2>
<span class="anchor" id="line-6"></span><p class="line874">numpy is a python extension module to support efficient operation on arrays of homogeneous data. It allows python to serve as a high-level language for manipulating numerical data, much like IDL, MATLAB, or Yorick. <span class="anchor" id="line-7"></span><span class="anchor" id="line-8"></span><p class="line867">
<h2 id="Why_use_numpy_rather_than_IDL.2C_MATLAB.2C_Octave.2C_or_Yorick.3F">Why use numpy rather than IDL, MATLAB, Octave, or Yorick?</h2>
<span class="anchor" id="line-9"></span><p class="line874">As always, you should choose the programming tools that suit your problem and your environment. Advantages many people cite are that it is open-source, it doesn't cost anything, it uses the general-purpose language python rather than a sui generis programming language, and it is relatively easy to connect existing C and FORTRAN code to the python interpreter. <span class="anchor" id="line-10"></span><span class="anchor" id="line-11"></span><p class="line867">
<h2 id="What_are_numpy_arrays.3F">What are numpy arrays?</h2>
<span class="anchor" id="line-12"></span><p class="line874">A numpy array is a multidimensional array of objects all of the same type. In memory, it is an object which points to a block of memory, keeps track of the type of data stored in that memory, keeps track of how many dimensions there are and how large each one is, and - importantly - the spacing between elements along each axis. <span class="anchor" id="line-13"></span><span class="anchor" id="line-14"></span><p class="line874">So, for example, you might have a numpy array that represents the numbers from zero to nine, stored as 32-bit integers, one right after another, in a single block of memory. (For comparison, each python integer needs to have some type information stored alongside it.) You might also have the array of even numbers from zero to eight, stored in the same block of memory, but with a gap of four bytes between elements. This is called &quot;striding&quot;, and it means that you can often create a new array referring to a subset of the elements in an array without copying any data. Such subsets are called &quot;views&quot;. This is an efficiency gain, obviously, but it also allows modification of selected elements of an array in various ways. <span class="anchor" id="line-15"></span><span class="anchor" id="line-16"></span><p class="line874">An important constraint on numpy arrays is that for a given axis, all the elements must be spaced by the same number of bytes in memory. numpy cannot use double-indirection to access array elements, so indexing modes that would require this must produce copies. This constraint makes it possible for all the inner loops to be written in efficient C code. <span class="anchor" id="line-17"></span><span class="anchor" id="line-18"></span><p class="line874">numpy arrays offer a number of other possibilities, including using a memory-mapped disk file as the storage space for an array, and &quot;record arrays&quot;, which have fields of different data types. <span class="anchor" id="line-19"></span><span class="anchor" id="line-20"></span><p class="line867">
<h2 id="Why_not_use_lists.3F">Why not use lists?</h2>
<span class="anchor" id="line-21"></span><span class="anchor" id="line-22"></span><p class="line874">Python's lists are efficient general-purpose containers. They support (fairly) efficient insertion, deletion, appending, and concatenation, and python's list comprehensions make them easy to construct and manipulate. However, they have certain limitations: they don't support &quot;vectorized&quot; operations like elementwise addition and multiplication, and the fact that they can contain objects of differing types mean that python must store type information for every element, and must execute type dispatching code when operating on each element. This also means that very few list operations can be carried out by efficient C loops. <span class="anchor" id="line-23"></span><span class="anchor" id="line-24"></span><p class="line867">
<h2 id="What.27s_the_story_with_Numeric.2C_numarray.2C_and_numpy.3F">What's the story with Numeric, numarray, and numpy?</h2>
<span class="anchor" id="line-25"></span><span class="anchor" id="line-26"></span><p class="line874">The short version is that Numeric was the original package that provided efficient homogeneous numeric arrays for python, but some developers felt it lacked certain essential features, so they began developing an independent implementation called numarray. Having two incompatible implementations of array was clearly a disaster in the making, so numpy was designed to be an improvement on both. <span class="anchor" id="line-27"></span><span class="anchor" id="line-28"></span><p class="line874">Neither Numeric nor numarray is currently supported. numpy has been the standard array package for a number of years now. If you use Numeric or numarray, you should upgrade; numpy is explicitly designed to have all the capabilities of both. There are tools available to ease the upgrade process; only C code should require much modification. <span class="anchor" id="line-29"></span><span class="anchor" id="line-30"></span><p class="line867">
<h2 id="How_do_I_spell_NumPy.3F">How do I spell NumPy?</h2>
<span class="anchor" id="line-31"></span><p class="line867"><a class="nonexistent" href="NumPy.html">NumPy</a> refers to the project, and numpy refers to the package.  When in doubt, use the former. <span class="anchor" id="line-32"></span><span class="anchor" id="line-33"></span><p class="line867">
<h2 id="Is_Python_3_supported_yet.3F">Is Python 3 supported yet?</h2>
<span class="anchor" id="line-34"></span><p class="line867"><a class="nonexistent" href="NumPy.html">NumPy</a> supports Python 3.1 and up.  The first release to support Python 3 was <a class="nonexistent" href="NumPy.html">NumPy</a> 1.5.0.  The same is true for <a href="SciPy.html">SciPy</a>, since version 0.9.0. <span class="anchor" id="line-35"></span><span class="anchor" id="line-36"></span><span class="anchor" id="line-37"></span><p class="line867">
<h1 id="General_questions_about_SciPy">General questions about SciPy</h1>
<span class="anchor" id="line-38"></span><p class="line867">
<h2 id="What_is_SciPy.3F">What is SciPy?</h2>
<span class="anchor" id="line-39"></span><p class="line867">SciPy is a set of Open Source scientific and numeric tools for Python. It currently supports special functions, integration, ordinary differential equation (ODE) solvers, gradient optimization, parallel programming tools, an expression-to-C++ compiler for fast execution, and others. <span class="anchor" id="line-40"></span><span class="anchor" id="line-41"></span><p class="line867">
<h2 id="How_much_does_it_cost.3F">How much does it cost?</h2>
<span class="anchor" id="line-42"></span><p class="line867">SciPy is freely available. It is distributed as Open Source software, meaning that you have complete access to the source code and can use it in anyway allowed by its liberal BSD license. <span class="anchor" id="line-43"></span><span class="anchor" id="line-44"></span><p class="line867">
<h2 id="What_are_SciPy.27s_licensing_terms.3F">What are SciPy's licensing terms?</h2>
<span class="anchor" id="line-45"></span><p class="line867">SciPy's license is free for both commercial and non-commercial use, under the <a href="License_Compatibility.html">BSD terms</a>. <span class="anchor" id="line-46"></span><span class="anchor" id="line-47"></span><p class="line867">
<h2 id="Why_Python.3F">Why Python?</h2>
<span class="anchor" id="line-48"></span><ol type="1"><li>Python is interactive. <span class="anchor" id="line-49"></span><ul><li style="list-style-type:none">People familiar with Matlab and Mathematica understand how powerful their command line interfaces are for exploring mathematical relationships and scientific data sets. Python provides a similar interactive environment with the added benefit of a full featured programming language behind it. <span class="anchor" id="line-50"></span><span class="anchor" id="line-51"></span></li></ul></li><li class="gap">Python is productive for beginners and experts alike. <span class="anchor" id="line-52"></span><ul><li style="list-style-type:none"><p class="line891">SciPy is targeted at engineers, scientists, financial analysts, and others who consider programming a necessary evil. Any time spent learning a language or tracking down bugs is time spent not solving their real problem. Python has a short learning curve and most people can do real and useful work with it within a day of learning it. Its clean syntax and interactive nature facilitates this. Python is also nice for CS language weenies. Its feature set includes the things one would expect from a modern programming language (object oriented, automatic garbage collection, etc.), and it scales well to large projects. While you're unlikely to see an operating system written in Python, it is suitable for almost any other task you're likely to do in a compiled langauge. And, for tasks better handled in C and Fortran, Python interfaces with these languages very well. <span class="anchor" id="line-53"></span><span class="anchor" id="line-54"></span></li></ul></li><li class="gap">Python has a huge standard library. <span class="anchor" id="line-55"></span><ul><li style="list-style-type:none">Python standard library contains more than 200 libraries covering Internet programming (web, telnet, FTP, email, etc.), systems programming, text processing, file compression, cryptography, and many others. There is also a large pool of open source tools for database connectivity, PDF generation, and other tasks. By and large, these are well designed and are written by experts in the field so that you and I don't have to. This allows us to concentrate on our field while simultaneously benefiting from advances made by others. Open source is a beautiful thing. A number of other points can be made about the merits of Python for scientific computing, but this covers the highlights. Python's low price tag ($0.00) is important to some people, but its technical merits are more important in our minds. <span class="anchor" id="line-56"></span></li></ul></li></ol><p class="line867">
<h2 id="What_scientific_libraries_are_available_in_SciPy.3F">What scientific libraries are available in SciPy?</h2>
<span class="anchor" id="line-57"></span><p class="line862">The core SciPy has all the functionality of the old Numeric module: support for arrays and matrices, fast Fourier transforms, and basic input/output functionality. <span class="anchor" id="line-58"></span><span class="anchor" id="line-59"></span><p class="line862">The full SciPy also has the following modules: <span class="anchor" id="line-60"></span><span class="anchor" id="line-61"></span><dl><dt>cluster</dt><dd>information theory functions (currently, vq and kmeans) <span class="anchor" id="line-62"></span></dd><dt>fftpack</dt><dd>fast Fourier transform module based on fftpack and fftw when available <span class="anchor" id="line-63"></span></dd><dt>integrate</dt><dd>numeric integration for bounded and unbounded ranges. ODE solvers. <span class="anchor" id="line-64"></span></dd><dt>interpolate</dt><dd>interpolation of values from a sample data set. <span class="anchor" id="line-65"></span></dd><dt>io</dt><dd>reading and writing numeric arrays, MATLAB .mat, and Matrix Market .mtx files <span class="anchor" id="line-66"></span></dd><dt>lib</dt><dd>access to the BLAS and LAPACK libraries <span class="anchor" id="line-67"></span></dd><dt>linalg</dt><dd>linear algebra and BLAS routines based on the ATLAS implementation of LAPACK <span class="anchor" id="line-68"></span></dd><dt>maxentropy</dt><dd>Support for fitting maximum entropy models, either discrete or continuous <span class="anchor" id="line-69"></span></dd><dt>misc</dt><dd>other routines that don't clearly fit anywhere else.  The Python Image Library (PIL) interface is located here. <span class="anchor" id="line-70"></span></dd><dt>optimize</dt><dd>constrained and unconstrained optimization methods and root-finding algorithms <span class="anchor" id="line-71"></span></dd><dt>signal</dt><dd>signal processing (1-D and 2-D filtering, filter design, LTI systems, etc.) <span class="anchor" id="line-72"></span></dd><dt>sparse</dt><dd>Some sparse matrix support. LU factorization and solving Sparse linear systems <span class="anchor" id="line-73"></span></dd><dt>special</dt><dd>special function types (bessel, gamma, airy, etc.) <span class="anchor" id="line-74"></span></dd><dt>stats</dt><dd>statistical functions (stdev, var, mean, etc.) <span class="anchor" id="line-75"></span></dd><dt>weave</dt><dd>compilation of numeric expressions to C++ for fast execution <span class="anchor" id="line-76"></span></dd></dl><p class="line862">See <a class="http" href="../external.html?link=http://scipy.org/scipy/scikits">scikits</a> for more packages:  <span class="anchor" id="line-77"></span><ul><li><p class="line891"><a href="MlabWrap.html">MlabWrap</a> (MATLAB to Python bridge) <span class="anchor" id="line-78"></span></li><li><p class="line891"><a href="AudioLab.html">AudioLab</a> (sound processing toolkit)  <span class="anchor" id="line-79"></span></li><li><p class="line891"><a class="http" href="../external.html?link=http://scipy.org/scipy/scikits/wiki/MachineLearning">Learn</a> (Machine Learning) <span class="anchor" id="line-80"></span></li><li><p class="line891"><a class="http" href="../external.html?link=http://scipy.org/scipy/scikits/wiki/Optimization">GenericOpt</a> (numerical optimization) <span class="anchor" id="line-81"></span></li><li><p class="line891"><a class="http" href="../external.html?link=http://openopt.org/">OpenOpt</a> (numerical optimization, possibly with automatic differentiation) <span class="anchor" id="line-82"></span></li><li><p class="line891"><a class="http" href="../external.html?link=http://scikits.appspot.com/scikits">etc</a> (whole list) <span class="anchor" id="line-83"></span><span class="anchor" id="line-84"></span></li></ul><p class="line867">
<h2 id="How_can_SciPy_be_fast_if_it_is_written_in_an_interpreted_language_like_Python.3F">How can SciPy be fast if it is written in an interpreted language like Python?</h2>
<span class="anchor" id="line-85"></span><p class="line862">Actually, the time-critical loops are usually implemented in C or Fortran. Much of SciPy is a thin layer of code on top of the scientific routines that are freely available at www.netlib.org. Netlib is a huge repository of incredibly valuable and robust scientific algorithms written in C and Fortran. It would be silly to rewrite these algorithms and would take years to debug them. SciPy uses a variety of methods to generate &quot;wrappers&quot; around these algorithms so that they can be used in Python. Some wrappers were generated by hand coding them in C. The rest were generated using either SWIG or f2py. <span class="anchor" id="line-86"></span><span class="anchor" id="line-87"></span><p class="line867">
<h2 id="In_what_directions_do_you_see_SciPy_expanding.3F">In what directions do you see SciPy expanding?</h2>
<span class="anchor" id="line-88"></span><p class="line867">SciPy will evolve to cover a wide variety of disciplines. We'd like to see a variety of Numeric codes either integrated into or associated with SciPy. <span class="anchor" id="line-89"></span><span class="anchor" id="line-90"></span><p class="line874">Here's a sample of general areas where interest has been indicated: <span class="anchor" id="line-91"></span><span class="anchor" id="line-92"></span><ul><li>Circuit Analysis (wrapper around Spice?) <span class="anchor" id="line-93"></span></li><li>Micro-Electro Mechanical Systems simulators (MEMs) <span class="anchor" id="line-94"></span></li><li>Medical image processing <span class="anchor" id="line-95"></span></li><li>Neural networks <span class="anchor" id="line-96"></span></li><li>3-D Visualization via VTK <span class="anchor" id="line-97"></span></li><li>Financial analysis <span class="anchor" id="line-98"></span></li><li>Economic analysis <span class="anchor" id="line-99"></span></li><li>Hidden Markov Models <span class="anchor" id="line-100"></span></li></ul><p class="line874">And here are some other, though more specialized, candidates: <span class="anchor" id="line-101"></span><span class="anchor" id="line-102"></span><ul><li>Radar processing <span class="anchor" id="line-103"></span></li><li>Electromagnetics simulators (MoM, FDTD, FEM) <span class="anchor" id="line-104"></span></li><li>Fluid dynamics codes <span class="anchor" id="line-105"></span></li><li>2-D and 3-D Modeling/CAD module (Open Cascade?) <span class="anchor" id="line-106"></span></li></ul><p class="line874">We're open to pretty much any suggestions, so let us know what fields are of interest. <span class="anchor" id="line-107"></span><span class="anchor" id="line-108"></span><p class="line867">
<h2 id="I.27ve_found_a_bug.__What_do_I_do.3F">I've found a bug.  What do I do?</h2>
<span class="anchor" id="line-109"></span><p class="line862">The SciPy development team works hard to make SciPy as reliable as possible, but, as in any software product, bugs do occur. If you find bugs that affect your software, please tell us by entering a ticket in the <a class="http" href="../external.html?link=http://projects.scipy.org/scipy/scipy/report/1:ticket">tracker</a>. <span class="anchor" id="line-110"></span><span class="anchor" id="line-111"></span><p class="line867">
<h2 id="How_can_I_get_involved_in_SciPy.3F">How can I get involved in SciPy?</h2>
<span class="anchor" id="line-112"></span><p class="line874">Drop us a mail on the mailing lists.  We are keen for more people to help out writing code, unit tests, documentation (including translations into other languages), and helping out with the website. <span class="anchor" id="line-113"></span><span class="anchor" id="line-114"></span><p class="line867">
<h2 id="Is_there_commercial_support_available.3F">Is there commercial support available?</h2>
<span class="anchor" id="line-115"></span><p class="line862">Yes, commercial support is offered for SciPy by Enthought. Please contact <a class="mailto" href="mailto:eric@enthought.com">eric@enthought.com</a> for more information. <span class="anchor" id="line-116"></span><span class="anchor" id="line-117"></span><p class="line867">
<h2 id="How_do_I_spell_SciPy.3F">How do I spell SciPy?</h2>
<span class="anchor" id="line-118"></span><p class="line867"><a href="SciPy.html">SciPy</a> refers to the project, and scipy refers to the package.  When in doubt, use the former. <span class="anchor" id="line-119"></span><span class="anchor" id="line-120"></span><p class="line867">
<h2 id="How_do_I_cite_SciPy_in_a_publication.3F">How do I cite SciPy in a publication?</h2>
<span class="anchor" id="line-121"></span><span class="anchor" id="line-122"></span><p class="line862">See <a class="http" href="../external.html?link=http://www.scipy.org/Citing_SciPy">Citing SciPy</a>. <span class="anchor" id="line-123"></span><span class="anchor" id="line-124"></span><p class="line867">
<h1 id="Basic_SciPy.2Fnumpy_usage">Basic SciPy/numpy usage</h1>
<span class="anchor" id="line-125"></span><span class="anchor" id="line-126"></span><p class="line867">
<h2 id="What_is_the_preferred_way_to_test_if_an_array_is_empty.3F">What is the preferred way to test if an array is empty?</h2>
<span class="anchor" id="line-127"></span><p class="line874">If you are certain a variable is an array, then use the &quot;size&quot; attribute. If the variable may be a list or other sequence type, use len(). The size attribute is preferable to len because: <span class="anchor" id="line-128"></span><span class="anchor" id="line-129"></span><span class="anchor" id="line-130"></span><span class="anchor" id="line-131"></span><pre><span class="anchor" id="line-1"></span>    a = numpy.zeros((1,0))
<span class="anchor" id="line-2"></span>    a.size == 0</pre><span class="anchor" id="line-132"></span><p class="line874">but <span class="anchor" id="line-133"></span><span class="anchor" id="line-134"></span><span class="anchor" id="line-135"></span><pre><span class="anchor" id="line-1-1"></span>    len(a) == 1 </pre><span class="anchor" id="line-136"></span><span class="anchor" id="line-137"></span><p class="line867">
<h2 id="I_want_to_load_an_array_from_a_text_file._Can_you_help_me_make_this_code_more_efficient.3F">I want to load an array from a text file. Can you help me make this code more efficient?</h2>
<span class="anchor" id="line-138"></span><p class="line874">Use numpy.loadtxt. Even if your text file has header and footer lines or comments, loadtxt can almost certainly read it; it is convenient and efficient. <span class="anchor" id="line-139"></span><span class="anchor" id="line-140"></span><p class="line867">
<h2 id="I_want_to_save_an_array_on_disk_for_later_use._What.27s_the_best_way.3F">I want to save an array on disk for later use. What's the best way?</h2>
<span class="anchor" id="line-141"></span><span class="anchor" id="line-142"></span><p class="line874">There are a large number of alternatives, depending on your needs (and on which version of numpy/scipy you are using): <span class="anchor" id="line-143"></span><span class="anchor" id="line-144"></span><p class="line874">* Text files: slow, huge, portable, human-readable; built into numpy <span class="anchor" id="line-145"></span>* Raw binary: no metadata, totally unportable, fast; built into numpy <span class="anchor" id="line-146"></span>* pickle: somewhat slow, somewhat portable (may be incompatible with different numpy versions); built into numpy <span class="anchor" id="line-147"></span>* MATLAB format: portable; built into scipy <span class="anchor" id="line-148"></span>* HDF5: high-powered kitchen-sink format; available through pytables <span class="anchor" id="line-149"></span>* .npy: numpy native binary data format, simple, efficient, portable; built into numpy as of 1.0.5. <span class="anchor" id="line-150"></span><span class="anchor" id="line-151"></span><p class="line867">
<h2 id="What.27s_the_difference_between_matrices_and_arrays.3F">What's the difference between matrices and arrays?</h2>
<span class="anchor" id="line-152"></span><span class="anchor" id="line-153"></span><p class="line874">numpy's basic data type is the multidimensional array. These can be one-dimensional (that is, one index, like a list or a vector), two-dimensional (two indices, like an image), three-dimensional, or more. (zero-dimensional arrays are sort of a weird corner case.) They support various operations, inluding addition, subtraction, multiplication, exponentiation, and so on - but all of these are *elementwise* operations. If you want matrix multiplication between two two-dimensional arrays, the function numpy.dot() does this. It works fine for getting the matrix product of a two-dimensional array and a one-dimensional array, in either direction, or two one-dimensional arrays. If you want some kind of matrix multiplication-like operation on higher-dimensional arrays (tensor contraction), you need to think which indices you want to be contracting over. Some combination of tensordot() and rollaxis() should do what you want. <span class="anchor" id="line-154"></span><span class="anchor" id="line-155"></span><p class="line874">However, some users find that they are doing so many matrix multiplications that always having to write dot() is too cumbersome, or they really want to keep row and column vectors separate. For these users, there is a matrix class. This is simply a transparent wrapper around arrays that forces arrays to be at least two-dimensional, and that overloads the multiplication and exponentiation operations. Multiplication becomes matrix multiplication, and exponentiation becomes matrix exponentiation. If you want elementwise multiplication, use numpy.multiply(). <span class="anchor" id="line-156"></span><span class="anchor" id="line-157"></span><p class="line874">The function asmatrix() converts an array into a matrix (without ever copying any data); asarray() converts matrices to arrays. asanyarray() makes sure that the result is either a matrix or an array (but not, say, a list). Unfortunately, a few of numpy's many functions use asarray() when they should use asanyarray(), so from time to time you may find your matrices accidentally get converted into arrays. Just use asmatrix(), and consider filing a bug.  <span class="anchor" id="line-158"></span><span class="anchor" id="line-159"></span><p class="line874">I personally never use matrices. dot() really isn't much trouble, and it's more or less the only difference.  <span class="anchor" id="line-160"></span><span class="anchor" id="line-161"></span><p class="line867">
<h3 id="Why_not_just_have_a_separate_operator_for_matrix_multiplication.3F">Why not just have a separate operator for matrix multiplication?</h3>
<span class="anchor" id="line-162"></span><span class="anchor" id="line-163"></span><p class="line874">Unfortunately python does not allow extension modules to define new operators, and there is no operator we can overload to mean matrix operations. <span class="anchor" id="line-164"></span><span class="anchor" id="line-165"></span><p class="line867">
<h2 id="How_do_I_find_the_indices_of_an_array_where_some_condition_is_true.3F">How do I find the indices of an array where some condition is true?</h2>
<span class="anchor" id="line-166"></span><span class="anchor" id="line-167"></span><p class="line862">The prefered idiom for doing this is to use the function np.nonzero(), or the nonzero() method of ndarray. Given an array a, the condition a &gt; 3 returns a boolean array and since False is interpreted as 0 in Python and Numpy, np.nonzero(a &gt; 3) yields the indices of a where the condition is true. <span class="anchor" id="line-168"></span><span class="anchor" id="line-169"></span><p class="line867"><span class="anchor" id="line-170"></span><span class="anchor" id="line-171"></span><span class="anchor" id="line-172"></span><span class="anchor" id="line-173"></span><span class="anchor" id="line-174"></span><span class="anchor" id="line-175"></span><span class="anchor" id="line-176"></span><span class="anchor" id="line-177"></span><span class="anchor" id="line-178"></span><pre><span class="anchor" id="line-1-2"></span>&gt;&gt;&gt; import numpy as np
<span class="anchor" id="line-2-1"></span>&gt;&gt;&gt; a = np.array([[1,2,3],[4,5,6],[7,8,9]])
<span class="anchor" id="line-3"></span>&gt;&gt;&gt; a &gt; 3
<span class="anchor" id="line-4"></span>array([[False, False, False],
<span class="anchor" id="line-5"></span>       [ True,  True,  True],
<span class="anchor" id="line-6"></span>       [ True,  True,  True]], dtype=bool)
<span class="anchor" id="line-7"></span>&gt;&gt;&gt; np.nonzero(a &gt; 3)
<span class="anchor" id="line-8"></span>(array([1, 1, 1, 2, 2, 2]), array([0, 1, 2, 0, 1, 2]))</pre><span class="anchor" id="line-179"></span><span class="anchor" id="line-180"></span><p class="line874">The nonzero method of the boolean array can also be called. <span class="anchor" id="line-181"></span><span class="anchor" id="line-182"></span><p class="line867"><span class="anchor" id="line-183"></span><span class="anchor" id="line-184"></span><span class="anchor" id="line-185"></span><pre><span class="anchor" id="line-1-3"></span>&gt;&gt;&gt; (a &gt; 3).nonzero()
<span class="anchor" id="line-2-2"></span>(array([1, 1, 1, 2, 2, 2]), array([0, 1, 2, 0, 1, 2]))</pre><span class="anchor" id="line-186"></span><span class="anchor" id="line-187"></span><p class="line867">
<h1 id="Advanced_NumPy.2FSciPy_usage">Advanced NumPy/SciPy usage</h1>
<span class="anchor" id="line-188"></span><p class="line867">
<h2 id="Does_NumPy_support_nan_.28.22not_a_number.22.29.3F">Does NumPy support nan (&quot;not a number&quot;)?</h2>
<span class="anchor" id="line-189"></span><p class="line874">nan, short for &quot;not a number&quot;, is a special floating point value defined by the IEEE-754 specification along with &quot;inf&quot; (infinity) and other values and behaviors. In theory, IEEE nans were specifically designed to address the problem of missing values, but the reality is that different platforms behave differently, making life more difficult. On some platforms, the presence of nans slows calculations 10-100 times.  For integer data, no nan value exists. Some platforms, notably older Crays and VAX machines, don't support nans whatsoever. <span class="anchor" id="line-190"></span><span class="anchor" id="line-191"></span><p class="line862">Despite all these issues NumPy (and SciPy) endeavor to support IEEE-754 behavior (based on NumPy's predecessor numarray). The most significant challenge is a lack of cross-platform support within Python itself. Because NumPy is written to take advantage of C99, which supports IEEE-754, it can side-step such issues internally, but users may still face problems when, for example, comparing values within Python interpreter. In fact, NumPy currently assumes IEEE-754 behavior of the underlying floats, a decision that may have to be revisited when the VAX community rises up in rebellion. <span class="anchor" id="line-192"></span><span class="anchor" id="line-193"></span><p class="line862">Those wishing to avoid potential headaches will be interested in an alternative solution which has a long history in NumPy's predecessors -- masked arrays. Masked arrays are standard arrays with a second &quot;mask&quot; array of the same shape to indicate whether the value is present or missing. Masked arrays are the domain of the numpy.ma module, and continue the cross-platform Numeric/numarray tradition. See <a href="Cookbook/Matplotlib/Plotting_values_with_masked_arrays.html">Cookbook/Matplotlib/Plotting_values_with_masked_arrays</a> for example, to avoid plotting missing data in matplotlib. Despite their additional memory requirement, masked arrays are faster than nans on many floating point units. See also the NumPy developer's wiki at NumPyTrac:wiki/MaskedArray. <span class="anchor" id="line-194"></span><span class="anchor" id="line-195"></span><p class="line867">
<h2 id="I_have_a_multiprocessor.2Fmulticore_machine._How_can_I_use_this_to_speed_up_my_code.3F">I have a multiprocessor/multicore machine. How can I use this to speed up my code?</h2>
<span class="anchor" id="line-196"></span><p class="line862">There are a variety of techniques, but none of them are automatic. See <a href="ParallelProgramming.html">ParallelProgramming</a>. <span class="anchor" id="line-197"></span><span class="anchor" id="line-198"></span><p class="line867">
<h2 id="Why_doesn.27t_A.5B.5B0.2C1.2C1.2C2.5D.5D.2B-.3D1_do_what_I_think_it_should.3F">Why doesn't A[[0,1,1,2]]+=1 do what I think it should?</h2>
<span class="anchor" id="line-199"></span><p class="line862">This comes up from time to time on the mailing list. See <a class="http" href="../external.html?link=http://projects.scipy.org/pipermail/numpy-discussion/2006-March/006877.html">here</a> for one extensive discussion. <span class="anchor" id="line-200"></span><span class="anchor" id="line-201"></span><p class="line867"><span class="anchor" id="line-202"></span><span class="anchor" id="line-203"></span><span class="anchor" id="line-204"></span><span class="anchor" id="line-205"></span><span class="anchor" id="line-206"></span><pre><span class="anchor" id="line-1-4"></span>&gt;&gt;&gt; A = numpy.zeros(3)
<span class="anchor" id="line-2-3"></span>&gt;&gt;&gt; A[[0,1,1,2]] += 1
<span class="anchor" id="line-3-1"></span>&gt;&gt;&gt; A
<span class="anchor" id="line-4-1"></span>array([ 1.,  1.,  1.])</pre><span class="anchor" id="line-207"></span><p class="line862">One might, quite reasonably, have expected A to contain [1,2,1]. Unfortunately this is not what is implemented in numpy. More, the <a class="http" href="../external.html?link=http://docs.python.org/ref/augassign.html">Python Reference Manual</a> specifies that  <span class="anchor" id="line-208"></span><span class="anchor" id="line-209"></span><span class="anchor" id="line-210"></span><pre><span class="anchor" id="line-1-5"></span>&gt;&gt;&gt; x = x + y</pre><span class="anchor" id="line-211"></span><p class="line874">and <span class="anchor" id="line-212"></span><span class="anchor" id="line-213"></span><span class="anchor" id="line-214"></span><pre><span class="anchor" id="line-1-6"></span>&gt;&gt;&gt; x += y</pre><span class="anchor" id="line-215"></span><p class="line862">should result in x having the same value (though not necessarily the same identity). More, even if the numpy developers wanted to modify this behaviour, python does not provide an overloadable <span class="u">indexed_iadd</span> function; the code acts like <span class="anchor" id="line-216"></span><span class="anchor" id="line-217"></span><span class="anchor" id="line-218"></span><span class="anchor" id="line-219"></span><span class="anchor" id="line-220"></span><pre><span class="anchor" id="line-1-7"></span>&gt;&gt;&gt; tmp = A.__getitem__([0,1,1,2])
<span class="anchor" id="line-2-4"></span>&gt;&gt;&gt; tmp.__iadd__(1)
<span class="anchor" id="line-3-2"></span>&gt;&gt;&gt; A.__setitem__([0,1,1,2],tmp)</pre><span class="anchor" id="line-221"></span><span class="anchor" id="line-222"></span><p class="line862">This leads to other peculiarities sometimes; if the indexing operation is actually able to provide a view rather than a copy, the <span class="u">iadd</span> writes to the array, then the view is copied into the array, so that the array is written to twice. <span class="anchor" id="line-223"></span><span class="anchor" id="line-224"></span><p class="line867">
<h1 id="NumPy.2FSciPy_installation">NumPy/SciPy installation</h1>
<span class="anchor" id="line-225"></span><p class="line862">See also the <a href="Installing_SciPy.html">Installing_SciPy</a> page. <span class="anchor" id="line-226"></span><span class="anchor" id="line-227"></span><p class="line867">
<h2 id="Basics">Basics</h2>
<span class="anchor" id="line-228"></span><p class="line862">First make sure that all <a class="nonexistent" href="NumPy/SciPy.html">NumPy/SciPy</a> prerequisites are installed and working properly.  Then be sure to remove any old !NumPy/!<a href="SciPy.html">SciPy</a> installations (e.g. /usr/lib/python2.4/site-packages/{numpy,scipy} or $HOME/lib/python2.4/site-packages/{numpy,scipy}). <span class="anchor" id="line-229"></span><span class="anchor" id="line-230"></span><p class="line867">
<h3 id="Prerequisities">Prerequisities</h3>
<span class="anchor" id="line-231"></span><p class="line867">NumPy requires the following software installed: <span class="anchor" id="line-232"></span><span class="anchor" id="line-233"></span><p class="line862">1. <a class="http" href="../external.html?link=http://www.python.org/">Python</a>, one of versions 2.4.x - 3.2.x <span class="anchor" id="line-234"></span><span class="anchor" id="line-235"></span><p class="line874">Debian packages: python python-dev <span class="anchor" id="line-236"></span><span class="anchor" id="line-237"></span><p class="line874">Make sure that the Python package distutils is installed before continuing. For example, in Debian GNU/Linux, distutils is included in the python-dev package. <span class="anchor" id="line-238"></span><span class="anchor" id="line-239"></span><p class="line874">Python must also be compiled with the zlib module enabled. <span class="anchor" id="line-240"></span><span class="anchor" id="line-241"></span><p class="line874">2. A C compiler. <span class="anchor" id="line-242"></span><span class="anchor" id="line-243"></span><p class="line862">3. Optionally an optimized LAPACK library. Similar, to scipy setup.py script, numpy setup.py script can detect optimized LAPACK libraries in the system. See <a href="SciPy.html">SciPy</a> notes below. <span class="anchor" id="line-244"></span><span class="anchor" id="line-245"></span><p class="line874">Scipy requires the following software installed: <span class="anchor" id="line-246"></span><span class="anchor" id="line-247"></span><p class="line862">1. <a class="http" href="../external.html?link=http://www.numpy.org/">NumPy</a> 1.5 or newer and its prerequisities. <span class="anchor" id="line-248"></span><span class="anchor" id="line-249"></span><p class="line862">2. Complete <a class="http" href="../external.html?link=http://www.netlib.org/lapack/">LAPACK</a> library. <span class="anchor" id="line-250"></span><span class="anchor" id="line-251"></span><p class="line874">Debian packages: atlas2-headers atlas2-base atlas2-base-dev <span class="anchor" id="line-252"></span><span class="anchor" id="line-253"></span><p class="line862">Various <a href="SciPy.html">SciPy</a> packages do linear algebra computations using the LAPACK routines. <a href="SciPy.html">SciPy</a>'s setup.py scripts can use number of different LAPACK library setups, including optimized LAPACK libraries such as ATLAS<span class="u"> or the Accelerate/vecLib framework on OS X. The notes below give more information on how to prepare the build environment so that <a href="SciPy.html">SciPy</a>'s setup.py scripts can use whatever LAPACK library setup one has. </span> <span class="anchor" id="line-254"></span><span class="anchor" id="line-255"></span><p class="line867"><span class="u">3. C and Fortran compilers. </span> <span class="anchor" id="line-256"></span><span class="anchor" id="line-257"></span><p class="line867">
<h3 id="Installation_using_tar-ball">Installation using tar-ball</h3>
<span class="anchor" id="line-258"></span><p class="line862">Unpack numpy/scipy-&lt;version&gt;.tar.gz, change to the numpy/scipy-&lt;version&gt; directory, and run <span class="anchor" id="line-259"></span><span class="anchor" id="line-260"></span><p class="line867"><span class="anchor" id="line-261"></span><span class="anchor" id="line-262"></span><pre><span class="anchor" id="line-1-8"></span>python setup.py install</pre><span class="anchor" id="line-263"></span><p class="line874">This may take several minutes to an hour depending on the speed of your computer.  This may require root privileges.  To install to a user-specific location instead, run <span class="anchor" id="line-264"></span><span class="anchor" id="line-265"></span><p class="line867"><span class="anchor" id="line-266"></span><span class="anchor" id="line-267"></span><pre><span class="anchor" id="line-1-9"></span>python setup.py install --prefix=$MYDIR</pre><span class="anchor" id="line-268"></span><p class="line874">where $MYDIR is, for example, $HOME or $HOME/usr. <span class="anchor" id="line-269"></span><span class="anchor" id="line-270"></span><p class="line867">
<h3 id="Testing">Testing</h3>
<span class="anchor" id="line-271"></span><p class="line862">To test <a href="SciPy.html">SciPy</a> after installation (highly recommended), execute in Python <span class="anchor" id="line-272"></span><span class="anchor" id="line-273"></span><p class="line867"><span class="anchor" id="line-274"></span><span class="anchor" id="line-275"></span><span class="anchor" id="line-276"></span><span class="anchor" id="line-277"></span><span class="anchor" id="line-278"></span><pre><span class="anchor" id="line-1-10"></span>&gt;&gt;&gt; import numpy
<span class="anchor" id="line-2-5"></span>&gt;&gt;&gt; numpy.test('full')
<span class="anchor" id="line-3-3"></span>&gt;&gt;&gt; import scipy
<span class="anchor" id="line-4-2"></span>&gt;&gt;&gt; scipy.test()</pre><span class="anchor" id="line-279"></span><p class="line874">where the test level can be varied from 1 to 10. To get detailed messages about what tests are being executed, use <span class="anchor" id="line-280"></span><span class="anchor" id="line-281"></span><p class="line867"><span class="anchor" id="line-282"></span><span class="anchor" id="line-283"></span><pre><span class="anchor" id="line-1-11"></span>&gt;&gt;&gt; numpy.test('full', verbose=2)</pre><span class="anchor" id="line-284"></span><p class="line874">for instance. <span class="anchor" id="line-285"></span><span class="anchor" id="line-286"></span><p class="line867">
<h2 id="Customizing">Customizing</h2>
<span class="anchor" id="line-287"></span><p class="line867">
<h3 id="Compilers">Compilers</h3>
<span class="anchor" id="line-288"></span><p class="line862">Note that !NumPy/!<a href="SciPy.html">SciPy</a> is developed mainly using GNU compilers. Compilers from other vendors such as Intel, Absoft, Sun, NAG, Compaq, Vast, Porland, Lahey, HP, IBM are supported in the form of community feedback. <span class="anchor" id="line-289"></span><span class="anchor" id="line-290"></span><p class="line862">gcc 4.x are recommended.  Building NumPy requires only a C compiler. To build SciPy, also a Fortran compiler is required. <span class="anchor" id="line-291"></span><span class="anchor" id="line-292"></span><p class="line862">If BLAS/LAPACK libraries used by <a class="nonexistent" href="NumPy.html">NumPy</a> linalg module is built with a Fortran compiler, then linking extension modules must be carried out with Fortran linker (then all necessary Fortran compiler specific libraries are correctly linked to extension modules). This is the only case where Fortran compiler is required for building NumPy. <span class="anchor" id="line-293"></span><span class="anchor" id="line-294"></span><p class="line874">You can specify which Fortran compiler to use by using the following install command <span class="anchor" id="line-295"></span><span class="anchor" id="line-296"></span><p class="line867"><span class="anchor" id="line-297"></span><span class="anchor" id="line-298"></span><pre><span class="anchor" id="line-1-12"></span>python setup.py config_fc --fcompiler=&lt;Vendor&gt; install</pre><span class="anchor" id="line-299"></span><p class="line862">To see a valid list of &lt;Vendor&gt; names, run <span class="anchor" id="line-300"></span><span class="anchor" id="line-301"></span><p class="line867"><span class="anchor" id="line-302"></span><span class="anchor" id="line-303"></span><pre><span class="anchor" id="line-1-13"></span>python setup.py config_fc --help-fcompiler</pre><span class="anchor" id="line-304"></span><p class="line874">IMPORTANT: It is highly recommended that all libraries that scipy uses (e.g. blas and atlas libraries) are built with the same Fortran compiler. <span class="anchor" id="line-305"></span><span class="anchor" id="line-306"></span><p class="line867">
<h3 id="xplt_for_plotting">xplt for plotting</h3>
<span class="anchor" id="line-307"></span><p class="line862">If after installing scipy, you want to follow a manual and encounter commands about xplt for plotting, the following could be interesting:  <a class="http" href="../external.html?link=http://www.scipy.net/pipermail/scipy-user/2006-April/007693.html">http://www.scipy.net/pipermail/scipy-user/2006-April/007693.html</a> <span class="anchor" id="line-308"></span><span class="anchor" id="line-309"></span><p class="line874">Basically, to enable xplt, you have to edit the file setup.py in /Lib/sanbox/. However, it seems that in the last tarball (0.4.9), xplt is not present anymore and enabling it causes an error at built time. <span class="anchor" id="line-310"></span><span class="anchor" id="line-311"></span><p class="line867">
<h2 id="Known_installation_problems">Known installation problems</h2>
<span class="anchor" id="line-312"></span><p class="line867">
<h3 id="BLAS_sources_shipped_with_LAPACK_are_incomplete">BLAS sources shipped with LAPACK are incomplete</h3>
<span class="anchor" id="line-313"></span><p class="line874">Some distributions (e.g. Redhat Linux 7.1) provide BLAS libraries that are built from such incomplete sources and therefore cause import errors like <span class="anchor" id="line-314"></span><span class="anchor" id="line-315"></span><p class="line867"><span class="anchor" id="line-316"></span><span class="anchor" id="line-317"></span><pre><span class="anchor" id="line-1-14"></span>ImportError: .../fblas.so: undefined symbol: srotmg_</pre><span class="anchor" id="line-318"></span><p class="line874">Fix: Use ATLAS or the official release of BLAS libraries. <span class="anchor" id="line-319"></span><span class="anchor" id="line-320"></span><p class="line867">
<h3 id="LAPACK_library_provided_by_ATLAS_is_incomplete">LAPACK library provided by ATLAS is incomplete</h3>
<span class="anchor" id="line-321"></span><p class="line874">You will notice it when getting import errors like <span class="anchor" id="line-322"></span><span class="anchor" id="line-323"></span><p class="line867"><span class="anchor" id="line-324"></span><span class="anchor" id="line-325"></span><pre><span class="anchor" id="line-1-15"></span>ImportError: .../flapack.so : undefined symbol: sgesdd_</pre><span class="anchor" id="line-326"></span><p class="line862">To be sure that !NumPy/!<a href="SciPy.html">SciPy</a> is built against a complete LAPACK, check the size of the file liblapack.a - it should be about 6MB. The location of liblapack.a is shown by executing <span class="anchor" id="line-327"></span><span class="anchor" id="line-328"></span><p class="line867"><span class="anchor" id="line-329"></span><span class="anchor" id="line-330"></span><pre><span class="anchor" id="line-1-16"></span>python numpy/distutils/system_info.py lapack</pre><span class="anchor" id="line-331"></span><p class="line862">To fix: follow the instructions in <a class="http" href="../external.html?link=http://math-atlas.sourceforge.net/errata.html#completelp">Building a complete LAPACK library</a> to create a complete liblapack.a. Then copy liblapack.a to the same location where libatlas.a is installed and retry with scipy build. <span class="anchor" id="line-332"></span><span class="anchor" id="line-333"></span><p class="line867">
<h3 id="Using_ATLAS_3.2.1">Using ATLAS 3.2.1</h3>
<span class="anchor" id="line-334"></span><p class="line874">If import clapack fails with the following error <span class="anchor" id="line-335"></span><span class="anchor" id="line-336"></span><p class="line867"><span class="anchor" id="line-337"></span><span class="anchor" id="line-338"></span><pre><span class="anchor" id="line-1-17"></span>ImportError: .../clapack.so : undefined symbol: clapack_sgetri</pre><span class="anchor" id="line-339"></span><p class="line874">then clapack is probably using ATLAS 3.2.1 but linalg module was built for a newer versions of ATLAS. <span class="anchor" id="line-340"></span><span class="anchor" id="line-341"></span><p class="line867">
<h3 id="Using_non-GNU_Fortran_Compiler">Using non-GNU Fortran Compiler</h3>
<span class="anchor" id="line-342"></span><p class="line874">If import scipy shows a message <span class="anchor" id="line-343"></span><span class="anchor" id="line-344"></span><p class="line867"><span class="anchor" id="line-345"></span><span class="anchor" id="line-346"></span><pre><span class="anchor" id="line-1-18"></span>ImportError: undefined symbol: s_wsfe</pre><span class="anchor" id="line-347"></span><p class="line874">and you are using non-GNU Fortran compiler, then it means that any of the (may be system provided) Fortran libraries such as LAPACK or BLAS were compiled with g77. <span class="anchor" id="line-348"></span><span class="anchor" id="line-349"></span><p class="line874">Recommended fix: Recompile all Fortran libraries with the same Fortran compiler and rebuild/reinstall scipy. <span class="anchor" id="line-350"></span><span class="anchor" id="line-351"></span><p class="line867">
<h4 id="Using_non-GNU_Fortran_compiler_with_gcc.2Fg77_compiled_Atlas.2FLapack_libraries">Using non-GNU Fortran compiler with gcc/g77 compiled Atlas/Lapack libraries</h4>
<span class="anchor" id="line-352"></span><p class="line874">When Atlas/Lapack libraries are compiled with GNU compilers but one wishes to build scipy with some non-GNU Fortran compiler then linking extension modules may require -lg2c. You can specify it in installation command line as follows <span class="anchor" id="line-353"></span><span class="anchor" id="line-354"></span><p class="line867"><span class="anchor" id="line-355"></span><span class="anchor" id="line-356"></span><pre><span class="anchor" id="line-1-19"></span>python setup.py build build_ext -lg2c install</pre><span class="anchor" id="line-357"></span><p class="line862">If using non-GNU C compiler or linker, the location of g2c library can be specified in a similar manner using -L&lt;/path/to/libg2c.a&gt; after build_ext command. <span class="anchor" id="line-358"></span><span class="anchor" id="line-359"></span><p class="line867">
<h4 id="Intel_Fortran_Compiler">Intel Fortran Compiler</h4>
<span class="anchor" id="line-360"></span><p class="line862">Note that code compiled by the Intel Fortran Compiler (IFC) is not binary compatible with code compiled by g77. Therefore, when using IFC, all Fortran codes used in SciPy must be compiled with IFC. This also includes the LAPACK, BLAS, and ATLAS libraries. Using GCC for compiling C code is OK. IFC version 5.0 is not supported (because it has bugs that cause <a href="SciPy.html">SciPy</a>'s tests to segfault). <span class="anchor" id="line-361"></span><span class="anchor" id="line-362"></span><p class="line874">Minimum IFC flags for building LAPACK and ATLAS are <span class="anchor" id="line-363"></span><span class="anchor" id="line-364"></span><p class="line867"><span class="anchor" id="line-365"></span><span class="anchor" id="line-366"></span><pre><span class="anchor" id="line-1-20"></span>  -FI -w90 -w95 -cm -O3 -unroll</pre><span class="anchor" id="line-367"></span><p class="line874">Also consult 'ifc -help' for additional optimization flags suitable for your computers CPU. <span class="anchor" id="line-368"></span><span class="anchor" id="line-369"></span><p class="line874">When finishing LAPACK build, you must recompile ?lamch.f, xerbla.f with optimization disabled (otherwise infinite loops occur when using these routines) <span class="anchor" id="line-370"></span><span class="anchor" id="line-371"></span><p class="line867"><span class="anchor" id="line-372"></span><span class="anchor" id="line-373"></span><span class="anchor" id="line-374"></span><span class="anchor" id="line-375"></span><span class="anchor" id="line-376"></span><span class="anchor" id="line-377"></span><pre><span class="anchor" id="line-1-21"></span>  make lapacklib   # in /path/to/src/LAPACK/
<span class="anchor" id="line-2-6"></span>  cd SRC
<span class="anchor" id="line-3-4"></span>  ifc -FI -w90 -w95 -cm -O0 -c ?lamch.f xerbla.f
<span class="anchor" id="line-4-3"></span>  cd ..
<span class="anchor" id="line-5-1"></span>  make lapacklib</pre><span class="anchor" id="line-378"></span><p class="line867">
<h2 id="Advanced_Issues">Advanced Issues</h2>
<span class="anchor" id="line-379"></span><p class="line867">
<h3 id="Why_numpy_headers_are_installed_using_add_data_dir_and_not_add_headers.3F">Why numpy headers are installed using add_data_dir and not add_headers?</h3>
<span class="anchor" id="line-380"></span><span class="anchor" id="line-381"></span><p class="line874">To enable several versions of numpy to be installed at the same time, as well as to deal more easily with eggs. <span class="anchor" id="line-382"></span><span class="anchor" id="line-383"></span><p class="line874">More precisely: add_headers install headers system-wide (e.g. in /usr/include/ on unix if /usr is the prefix for installation), whereas add_data_dir install the headers in package-specific location (for example somewhere in /usr/lib/python2.5/site-packages/numpy/). Installing the headers system-wide prevents multiple version of numpy to be installed at the same time, and that's why add_headers use is discouraged for numpy/scipy. <span class="anchor" id="line-384"></span>
<h2 id="Troubleshooting">Troubleshooting</h2>
<span class="anchor" id="line-385"></span><p class="line862">If you experience problems when building/installing/testing <a href="SciPy.html">SciPy</a>, you can ask help from <a class="mailto" href="mailto:scipy-user@scipy.org">scipy-user@scipy.org</a> or <a class="mailto" href="mailto:scipy-dev@scipy.org">scipy-dev@scipy.org</a> mailing lists. Please include the following information in your message: os.name, <tt>uname&nbsp;-a</tt>, sys.platform, sys.version, numpy.version<span class="u">, ATLAS version, compiler versions, etc.  This information can be generated by executing: </span> <span class="anchor" id="line-386"></span><span class="anchor" id="line-387"></span><p class="line867"><span class="anchor" id="line-388"></span><pre></pre><span class="anchor" id="line-389"></span><p class="line862">Feel free to add any other relevant information. For example, the full output (both stdout and stderr) of the SciPy installation command can be very helpful. Since this output can be rather large, ask before sending it into the mailing list (or better yet, to one of the developers, if asked). <span class="anchor" id="line-390"></span><span class="anchor" id="line-391"></span><p class="line874">In case of failing to import extension modules, the output of <span class="anchor" id="line-392"></span><span class="anchor" id="line-393"></span><p class="line867"><span class="anchor" id="line-394"></span><span class="anchor" id="line-395"></span><pre><span class="anchor" id="line-1-22"></span>ldd /path/to/ext_module.so</pre><span class="anchor" id="line-396"></span><p class="line874">can be very informative. <span class="anchor" id="line-397"></span><span class="anchor" id="line-398"></span><p class="line867">
<h1 id="Miscellaneous_Issues">Miscellaneous Issues</h1>
<span class="anchor" id="line-399"></span><span class="anchor" id="line-400"></span><p class="line867">
<h2 id="Why_doesn.27t_the_bdist_rpm_command_work_with_config_fc.3F">Why doesn't the bdist_rpm command work with config_fc?</h2>
<span class="anchor" id="line-401"></span><span class="anchor" id="line-402"></span><p class="line874">The bdist_rpm in Python distutils hardcodes python setup.py build command for building rpms and so any additional options given in command line are not passed to the acctual build command. So, bdist_rpm has never worked together with config_fc. As a workaround, do the following: <span class="anchor" id="line-403"></span><span class="anchor" id="line-404"></span><p class="line874">1) Run <span class="anchor" id="line-405"></span><span class="anchor" id="line-406"></span><span class="anchor" id="line-407"></span><span class="anchor" id="line-408"></span><pre><span class="anchor" id="line-1-23"></span>  python setup.py bdist_rpm
<span class="anchor" id="line-2-7"></span>  python setup.py bdist_rpm --spec-only</pre><span class="anchor" id="line-409"></span><p class="line874">to create rmpbuild tree and dist/package.spec. <span class="anchor" id="line-410"></span><span class="anchor" id="line-411"></span><p class="line874">2) Edit the setup.py build command in dist/package.spec. For example, insert config_fc --fcompiler=absoft just before the setup.py build command. <span class="anchor" id="line-412"></span><span class="anchor" id="line-413"></span><p class="line874">3) Insert the _topdir definition line to dist/package.spec, for example <span class="anchor" id="line-414"></span><span class="anchor" id="line-415"></span><span class="anchor" id="line-416"></span><pre><span class="anchor" id="line-1-24"></span>%define _topdir %(echo $PWD)/build/bdist.linux-i686/rpm</pre><span class="anchor" id="line-417"></span><p class="line874">4) Run <span class="anchor" id="line-418"></span><span class="anchor" id="line-419"></span><span class="anchor" id="line-420"></span><pre><span class="anchor" id="line-1-25"></span>  rpmbuild -ba  dist/f2py_ext.spec</pre><span class="anchor" id="line-421"></span><p class="line874">This will create package rpm files somewhere under build/bdist.linux-i686/rpm/ directory. <span class="anchor" id="line-422"></span><span class="anchor" id="line-423"></span><p class="line874">RPM experts are welcome to simplify the above howto. <span class="anchor" id="line-424"></span><span class="anchor" id="bottom"></span></div>
<div id="pagebottom"></div>
</div>


<div id="footer">
<ul class="editbar"><li class="toggleCommentsButton" style="display:none;"><a href="#" class="nbcomment" onClick="toggleComments();return false;">Comments</a></li><li><a class="nbattachments" href="FAQ37dc.html?action=AttachFile" rel="nofollow">Attachments</a></li><li>
<form class="actionsmenu" method="GET" action="../external.html?link=http://localhost:8080/FAQ">
<div>
    <label>More Actions:</label>
    <select name="action"
        onchange="if ((this.selectedIndex != 0) &&
                      (this.options[this.selectedIndex].disabled == false)) {
                this.form.submit();
            }
            this.selectedIndex = 0;">
        <option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="RenamePage" disabled class="disabled">Rename Page</option>
<option value="DeletePage" disabled class="disabled">Delete Page</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Subscribe User</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Remove Spam</option>
<option value="show" disabled class="disabled">Revert to this revision</option>
    </select>
    <input type="submit" value="Do">
    
</div>
<script type="text/javascript">
<!--// Init menu
actionsMenuInit('More Actions:');
//-->
</script>
</form>
</li></ul>

<ul id="credits">
<li><a href="../external.html?link=http://moinmo.in/" title="This site uses the MoinMoin Wiki software.">MoinMoin Powered</a></li><li><a href="../external.html?link=http://moinmo.in/Python" title="MoinMoin is written in Python.">Python Powered</a></li><li><a href="../external.html?link=http://moinmo.in/GPL" title="MoinMoin is GPL licensed.">GPL licensed</a></li><li><a href="../external.html?link=http://validator.w3.org/check?uri=referer" title="Click here to validate this page.">Valid HTML 4.01</a></li>
</ul>


</div>
</body>

<!-- Mirrored from localhost:8080/FAQ?action=recoverpass by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 29 Oct 2015 23:19:29 GMT -->
</html>

