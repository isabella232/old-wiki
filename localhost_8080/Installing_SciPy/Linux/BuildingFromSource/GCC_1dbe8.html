<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>

<!-- Mirrored from localhost:8080/Installing_SciPy/Linux/BuildingFromSource/GCC_1?action=recoverpass by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 29 Oct 2015 23:19:29 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<meta name="edit_on_doubleclick" content="/">
<meta name="robots" content="noindex,nofollow">

<title>Installing_SciPy/Linux/BuildingFromSource/GCC_1 - SciPy</title>
<script type="text/javascript" src="../../../moin_static197/common/js/common.js"></script>

<script type="text/javascript">
<!--
var search_hint = "Search";
//-->
</script>


<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="../../../moin_static197/modern/css/common.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="screen" href="../../../moin_static197/modern/css/screen.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="print" href="../../../moin_static197/modern/css/print.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="projection" href="../../../moin_static197/modern/css/projection.css">

<!-- css only for MS IE6/IE7 browsers -->
<!--[if lt IE 8]>
   <link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="/moin_static197/modern/css/msie.css">
<![endif]-->


<link rel="alternate" title="SciPy: Installing_SciPy/Linux/BuildingFromSource/GCC_1" href="../../../../external.html?link=http://localhost:8080/Installing_SciPy/Linux/BuildingFromSource/GCC_1?diffs=1&amp;show_att=1&amp;action=rss_rc&amp;unique=0&amp;page=Installing_SciPy%2FLinux%2FBuildingFromSource%2FGCC_1&amp;ddiffs=1" type="application/rss+xml">


<link rel="Start" href="../../../AllPages.html">
<link rel="Alternate" title="Wiki Markup" href="../../../../external.html?link=http://localhost:8080/Installing_SciPy/Linux/BuildingFromSource/GCC_1?action=raw">
<link rel="Alternate" media="print" title="Print View" href="../../../../external.html?link=http://localhost:8080/Installing_SciPy/Linux/BuildingFromSource/GCC_1?action=print">
<link rel="Up" href="../BuildingFromSource.html">
<link rel="Appendix" title="01_setup.bash" href="GCC_179ee.html?action=AttachFile&amp;do=view&amp;target=01_setup.bash">
<link rel="Appendix" title="02_download.bash" href="GCC_1832f.html?action=AttachFile&amp;do=view&amp;target=02_download.bash">
<link rel="Appendix" title="go.bash" href="GCC_120d2.html?action=AttachFile&amp;do=view&amp;target=go.bash">
<link rel="Search" href="../../../FindPage.html">
<link rel="Index" href="../../../TitleIndex.html">
<link rel="Glossary" href="../../../WordIndex.html">
<link rel="Help" href="../../../HelpOnFormatting.html">
</head>

<body  lang="en" dir="ltr">

<div id="header">


<form id="searchform" method="get" action="../../../../external.html?link=http://localhost:8080/Installing_SciPy/Linux/BuildingFromSource/GCC_1">
<div>
<input type="hidden" name="action" value="fullsearch">
<input type="hidden" name="context" value="180">
<label for="searchinput">Search:</label>
<input id="searchinput" type="text" name="value" value="" size="20"
    onfocus="searchFocus(this)" onblur="searchBlur(this)"
    onkeyup="searchChange(this)" onchange="searchChange(this)" alt="Search">
<input id="titlesearch" name="titlesearch" type="submit"
    value="Titles" alt="Search Titles">
<input id="fullsearch" name="fullsearch" type="submit"
    value="Text" alt="Search Full Text">
</div>
</form>
<script type="text/javascript">
<!--// Initialize search form
var f = document.getElementById('searchform');
f.getElementsByTagName('label')[0].style.display = 'none';
var e = document.getElementById('searchinput');
searchChange(e);
searchBlur(e);
//-->
</script>

<ul id="username"><li><a href="GCC_1456e.html?action=login" id="login" rel="nofollow">Login</a></li></ul>
<div id="locationline">
<div id="interwiki"><span><a href="../../../AllPages.html" rel="nofollow">SciPy</a></span></div>

<ul id="pagelocation">
<li><a href="../../../Installing_SciPy.html">Installing_SciPy</a></li><li><a href="../../Linux.html">Linux</a></li><li><a href="../BuildingFromSource.html">BuildingFromSource</a></li><li><a class="backlink" href="GCC_1ee5a.html?action=fullsearch&amp;context=180&amp;value=linkto%3A%22Installing_SciPy%2FLinux%2FBuildingFromSource%2FGCC_1%22" rel="nofollow" title="Click to do a full-text search for this title">GCC_1</a></li>
</ul>

</div>


<ul id="navibar">
<li class="wikilink"><a href="../../../RecentChanges.html">RecentChanges</a></li><li class="wikilink"><a class="nonexistent" href="../../../FindPage.html">FindPage</a></li><li class="wikilink"><a class="nonexistent" href="../../../HelpContents.html">HelpContents</a></li><li class="current"><a href="GCC_1.html">GCC_1</a></li>
</ul>

<div id="pageline"><hr style="display:none;"></div>
<div id="message">
<p><div class="warning">This wiki is not enabled for mail processing.
Contact the owner of the wiki, who can enable email.</div></p><a class="clear-link" href="GCC_1.html">Clear message</a>
</div>

<ul class="editbar"><li class="toggleCommentsButton" style="display:none;"><a href="#" class="nbcomment" onClick="toggleComments();return false;">Comments</a></li><li><a class="nbattachments" href="GCC_137dc.html?action=AttachFile" rel="nofollow">Attachments</a></li><li>
<form class="actionsmenu" method="GET" action="../../../../external.html?link=http://localhost:8080/Installing_SciPy/Linux/BuildingFromSource/GCC_1">
<div>
    <label>More Actions:</label>
    <select name="action"
        onchange="if ((this.selectedIndex != 0) &&
                      (this.options[this.selectedIndex].disabled == false)) {
                this.form.submit();
            }
            this.selectedIndex = 0;">
        <option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="RenamePage" disabled class="disabled">Rename Page</option>
<option value="DeletePage" disabled class="disabled">Delete Page</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Subscribe User</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Remove Spam</option>
<option value="show" disabled class="disabled">Revert to this revision</option>
    </select>
    <input type="submit" value="Do">
    
</div>
<script type="text/javascript">
<!--// Init menu
actionsMenuInit('More Actions:');
//-->
</script>
</form>
</li></ul>

</div>

<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en"><span class="anchor" id="top"></span>
<span class="anchor" id="line-1"></span><p class="line867">
<h1 id="Red_Hat_3.4.6.2C_Python_2.5.2C_GCC_3.4.2C_FFTW.2C_ATLAS.2C_LAPACK">Red Hat 3.4.6, Python 2.5, GCC 3.4, FFTW, ATLAS, LAPACK</h1>
<span class="anchor" id="line-2"></span><p class="line874">Here is the complete set of instructions I used to build everything <span class="anchor" id="line-3"></span>using the GNU compilers.  I am assuming that you are using the <tt class="backtick">bash</tt> <span class="anchor" id="line-4"></span>shell.  I made the following files listed below and placed them in a <span class="anchor" id="line-5"></span>common directory: <span class="anchor" id="line-6"></span><ul><li><p class="line891"><a href="GCC_1.html#go.bash">go.bash</a> <span class="anchor" id="line-7"></span></li><li><p class="line891"><a href="GCC_1.html#A01_setup.bash">01_setup.bash</a> <span class="anchor" id="line-8"></span></li><li><p class="line891"><a href="GCC_1.html#A02_download.bash">02_download.bash</a> <span class="anchor" id="line-9"></span></li><li><p class="line891"><a href="GCC_1.html#A03_tck-tk.bash">03_tck-tk.bash</a> <span class="anchor" id="line-10"></span></li><li><p class="line891"><a href="GCC_1.html#A04_python.bash">04_python.bash</a> <span class="anchor" id="line-11"></span></li><li><p class="line891"><a href="GCC_1.html#A05_lapack.bash">05_lapack.bash</a> <span class="anchor" id="line-12"></span></li><li><p class="line891"><a href="GCC_1.html#A06_atlas.bash">06_atlas.bash</a> <span class="anchor" id="line-13"></span></li><li><p class="line891"><a href="GCC_1.html#A07_fftw.bash">07_fftw.bash</a> <span class="anchor" id="line-14"></span></li><li><p class="line891"><a href="GCC_1.html#A08_numpy.bash">08_numpy.bash</a> <span class="anchor" id="line-15"></span></li><li><p class="line891"><a href="GCC_1.html#A09_scipy.bash">09_scipy.bash</a> <span class="anchor" id="line-16"></span></li><li><p class="line891"><a href="GCC_1.html#A10_freetype.bash">10_freetype.bash</a> <span class="anchor" id="line-17"></span></li><li><p class="line891"><a href="GCC_1.html#A11_libpng.bash">11_libpng.bash</a> <span class="anchor" id="line-18"></span></li><li><p class="line891"><a href="GCC_1.html#A12_matplotlib.bash">12_matplotlib.bash</a> <span class="anchor" id="line-19"></span><span class="anchor" id="line-20"></span></li></ul><p class="line874">I execute these with the following script which runs them in term <span class="anchor" id="line-21"></span>while recording a log of everything. <span class="anchor" id="line-22"></span><span class="anchor" id="line-23"></span><span class="anchor" id="line-24"></span><span class="anchor" id="line-25"></span><pre><span class="anchor" id="line-1"></span>export BASE=/data/gcc_version
<span class="anchor" id="line-2"></span>. go.bash</pre><span class="anchor" id="line-26"></span><p class="line867"><span class="anchor" id="go.bash"></span> <span class="anchor" id="line-27"></span>
<h2 id="go.bash-1">go.bash</h2>
<span class="anchor" id="line-28"></span><p class="line867"><span class="anchor" id="line-29"></span><span class="anchor" id="line-30"></span><span class="anchor" id="line-31"></span><span class="anchor" id="line-32"></span><span class="anchor" id="line-33"></span><span class="anchor" id="line-34"></span><span class="anchor" id="line-35"></span><span class="anchor" id="line-36"></span><span class="anchor" id="line-37"></span><span class="anchor" id="line-38"></span><span class="anchor" id="line-39"></span><span class="anchor" id="line-40"></span><span class="anchor" id="line-41"></span><span class="anchor" id="line-42"></span><span class="anchor" id="line-43"></span><pre><span class="anchor" id="line-1-1"></span>export BASE=${BASE:-$1}
<span class="anchor" id="line-2-1"></span>
<span class="anchor" id="line-3"></span>mkdir -p logs/
<span class="anchor" id="line-4"></span>
<span class="anchor" id="line-5"></span>function exec_and_log () {
<span class="anchor" id="line-6"></span>    bash -v $1 2&gt;&amp;1 | tee logs/$1.log
<span class="anchor" id="line-7"></span>}
<span class="anchor" id="line-8"></span>
<span class="anchor" id="line-9"></span>setup_files=`ls ??_*.bash | sort -n`
<span class="anchor" id="line-10"></span>
<span class="anchor" id="line-11"></span>for file in $setup_files
<span class="anchor" id="line-12"></span>do
<span class="anchor" id="line-13"></span>  exec_and_log $file
<span class="anchor" id="line-14"></span>done</pre><span class="anchor" id="line-44"></span><p class="line874">This gets the list of setup files from the current directory (using <span class="anchor" id="line-45"></span>the <tt class="backtick">ls</tt> command), sorts them numerically (hence the numeric prefix), <span class="anchor" id="line-46"></span>and executes them one at a time placing the output into a log file in <span class="anchor" id="line-47"></span>the <tt class="backtick">logs</tt> sub-directory. <span class="anchor" id="line-48"></span><span class="anchor" id="line-49"></span><p class="line867"><span class="anchor" id="A01_setup.bash"></span> <span class="anchor" id="line-50"></span>
<h2 id="A01_setup.bash-1">01_setup.bash</h2>
<span class="anchor" id="line-51"></span><p class="line867"><span class="anchor" id="line-52"></span><span class="anchor" id="line-53"></span><span class="anchor" id="line-54"></span><span class="anchor" id="line-55"></span><span class="anchor" id="line-56"></span><span class="anchor" id="line-57"></span><span class="anchor" id="line-58"></span><span class="anchor" id="line-59"></span><span class="anchor" id="line-60"></span><span class="anchor" id="line-61"></span><span class="anchor" id="line-62"></span><span class="anchor" id="line-63"></span><span class="anchor" id="line-64"></span><span class="anchor" id="line-65"></span><span class="anchor" id="line-66"></span><span class="anchor" id="line-67"></span><span class="anchor" id="line-68"></span><span class="anchor" id="line-69"></span><span class="anchor" id="line-70"></span><span class="anchor" id="line-71"></span><span class="anchor" id="line-72"></span><span class="anchor" id="line-73"></span><span class="anchor" id="line-74"></span><span class="anchor" id="line-75"></span><span class="anchor" id="line-76"></span><span class="anchor" id="line-77"></span><span class="anchor" id="line-78"></span><span class="anchor" id="line-79"></span><span class="anchor" id="line-80"></span><span class="anchor" id="line-81"></span><span class="anchor" id="line-82"></span><span class="anchor" id="line-83"></span><span class="anchor" id="line-84"></span><span class="anchor" id="line-85"></span><span class="anchor" id="line-86"></span><span class="anchor" id="line-87"></span><span class="anchor" id="line-88"></span><span class="anchor" id="line-89"></span><span class="anchor" id="line-90"></span><span class="anchor" id="line-91"></span><span class="anchor" id="line-92"></span><span class="anchor" id="line-93"></span><span class="anchor" id="line-94"></span><span class="anchor" id="line-95"></span><span class="anchor" id="line-96"></span><span class="anchor" id="line-97"></span><span class="anchor" id="line-98"></span><span class="anchor" id="line-99"></span><span class="anchor" id="line-100"></span><span class="anchor" id="line-101"></span><span class="anchor" id="line-102"></span><span class="anchor" id="line-103"></span><span class="anchor" id="line-104"></span><span class="anchor" id="line-105"></span><span class="anchor" id="line-106"></span><span class="anchor" id="line-107"></span><span class="anchor" id="line-108"></span><span class="anchor" id="line-109"></span><span class="anchor" id="line-110"></span><span class="anchor" id="line-111"></span><span class="anchor" id="line-112"></span><span class="anchor" id="line-113"></span><span class="anchor" id="line-114"></span><span class="anchor" id="line-115"></span><span class="anchor" id="line-116"></span><span class="anchor" id="line-117"></span><span class="anchor" id="line-118"></span><span class="anchor" id="line-119"></span><span class="anchor" id="line-120"></span><span class="anchor" id="line-121"></span><span class="anchor" id="line-122"></span><span class="anchor" id="line-123"></span><span class="anchor" id="line-124"></span><span class="anchor" id="line-125"></span><span class="anchor" id="line-126"></span><span class="anchor" id="line-127"></span><span class="anchor" id="line-128"></span><span class="anchor" id="line-129"></span><span class="anchor" id="line-130"></span><span class="anchor" id="line-131"></span><span class="anchor" id="line-132"></span><span class="anchor" id="line-133"></span><span class="anchor" id="line-134"></span><span class="anchor" id="line-135"></span><span class="anchor" id="line-136"></span><span class="anchor" id="line-137"></span><span class="anchor" id="line-138"></span><span class="anchor" id="line-139"></span><span class="anchor" id="line-140"></span><span class="anchor" id="line-141"></span><span class="anchor" id="line-142"></span><span class="anchor" id="line-143"></span><span class="anchor" id="line-144"></span><span class="anchor" id="line-145"></span><span class="anchor" id="line-146"></span><span class="anchor" id="line-147"></span><span class="anchor" id="line-148"></span><span class="anchor" id="line-149"></span><span class="anchor" id="line-150"></span><span class="anchor" id="line-151"></span><span class="anchor" id="line-152"></span><span class="anchor" id="line-153"></span><span class="anchor" id="line-154"></span><span class="anchor" id="line-155"></span><span class="anchor" id="line-156"></span><span class="anchor" id="line-157"></span><span class="anchor" id="line-158"></span><pre><span class="anchor" id="line-1-2"></span>mkdir -p ${BASE}/zips
<span class="anchor" id="line-2-2"></span>mkdir -p ${BASE}/src
<span class="anchor" id="line-3-1"></span>mkdir -p ${BASE}/src/svn
<span class="anchor" id="line-4-1"></span>mkdir -p ${BASE}/apps
<span class="anchor" id="line-5-1"></span>
<span class="anchor" id="line-6-1"></span>cd ${BASE}
<span class="anchor" id="line-7-1"></span>cat &gt; pythonrc.py &lt;&lt;EOF
<span class="anchor" id="line-8-1"></span># Python startup script: sets up things like the history
<span class="anchor" id="line-9-1"></span># and tab completion features for the interpreter.
<span class="anchor" id="line-10-1"></span>import os
<span class="anchor" id="line-11-1"></span>import rlcompleter, readline
<span class="anchor" id="line-12-1"></span>readline.parse_and_bind('tab: complete')
<span class="anchor" id="line-13-1"></span>readline.parse_and_bind('&quot;\M-OA&quot;: history-search-backward')
<span class="anchor" id="line-14-1"></span>readline.parse_and_bind('&quot;\M-[A&quot;: history-search-backward')
<span class="anchor" id="line-15"></span>readline.parse_and_bind('&quot;\M-\C-OA&quot;: history-search-backward')
<span class="anchor" id="line-16"></span>readline.parse_and_bind('&quot;\M-\C-[A&quot;: history-search-backward')
<span class="anchor" id="line-17"></span>readline.parse_and_bind('&quot;\M-OB&quot;: history-search-forward')
<span class="anchor" id="line-18"></span>readline.parse_and_bind('&quot;\M-[B&quot;: history-search-forward')
<span class="anchor" id="line-19"></span>readline.parse_and_bind('&quot;\M-\C-OB&quot;: history-search-forward')
<span class="anchor" id="line-20"></span>readline.parse_and_bind('&quot;\M-\C-[B&quot;: history-search-forward')
<span class="anchor" id="line-21"></span>
<span class="anchor" id="line-22"></span># Save and load history from a local file .pyhist
<span class="anchor" id="line-23"></span>if False:
<span class="anchor" id="line-24"></span>    import atexit
<span class="anchor" id="line-25"></span>    histfile = &quot;.pyhist&quot;
<span class="anchor" id="line-26"></span>    try:
<span class="anchor" id="line-27"></span>        readline.read_history_file(histfile)
<span class="anchor" id="line-28"></span>    except IOError:
<span class="anchor" id="line-29"></span>        pass
<span class="anchor" id="line-30"></span>    atexit.register(readline.write_history_file, histfile)
<span class="anchor" id="line-31"></span>    del histfile
<span class="anchor" id="line-32"></span>
<span class="anchor" id="line-33"></span># Load user's startup file ~/.pythonrc.py if it exists
<span class="anchor" id="line-34"></span>user_startup_filename = os.path.expanduser(&quot;~/.pythonrc.py&quot;)
<span class="anchor" id="line-35"></span>
<span class="anchor" id="line-36"></span>if os.access(user_startup_filename,os.R_OK):
<span class="anchor" id="line-37"></span>   del os
<span class="anchor" id="line-38"></span>   execfile(user_startup_filename)
<span class="anchor" id="line-39"></span>else:
<span class="anchor" id="line-40"></span>   del os
<span class="anchor" id="line-41"></span>
<span class="anchor" id="line-42"></span>del user_startup_filename
<span class="anchor" id="line-43"></span>EOF
<span class="anchor" id="line-44"></span>
<span class="anchor" id="line-45"></span>cat &gt; setenv_gcc &lt;&lt;EOF
<span class="anchor" id="line-46"></span># Setup path and environment for using gcc compilers and programs
<span class="anchor" id="line-47"></span># compiled with gcc.
<span class="anchor" id="line-48"></span>BASE=${BASE}
<span class="anchor" id="line-49"></span>
<span class="anchor" id="line-50"></span>export CC=gcc
<span class="anchor" id="line-51"></span>
<span class="anchor" id="line-52"></span>shopt -s extglob
<span class="anchor" id="line-53"></span>
<span class="anchor" id="line-54"></span>PATH=&quot;:\${PATH%:}:&quot;             # Add leading and trailing colons
<span class="anchor" id="line-55"></span>function add () { PATH=&quot;:\$1\${PATH//:\$1:/:}&quot;; }
<span class="anchor" id="line-56"></span>add \${BASE}/apps/tcl8.4.14_gcc/bin/
<span class="anchor" id="line-57"></span>add \${BASE}/apps/Python-2.5_gcc/bin/
<span class="anchor" id="line-58"></span>add \${BASE}/apps/fftw-3.1.2_gcc/bin/
<span class="anchor" id="line-59"></span>add \${BASE}/src/ATLAS-3.6.0_gcc/bin/Linux_P4SSE2/
<span class="anchor" id="line-60"></span>add \${BASE}/apps/freetype-2.3.2_gcc/bin/
<span class="anchor" id="line-61"></span>add \${BASE}/apps/libpng-1.2.16_gcc/bin/
<span class="anchor" id="line-62"></span>PATH=&quot;\${PATH//+(:)/:}&quot;         # Remove duplicate colons
<span class="anchor" id="line-63"></span>PATH=&quot;\${PATH%:}&quot;               # Remove trailing colon
<span class="anchor" id="line-64"></span>PATH=&quot;\${PATH#:}&quot;               # Remove leading colon
<span class="anchor" id="line-65"></span>export PATH
<span class="anchor" id="line-66"></span>
<span class="anchor" id="line-67"></span>CPATH=&quot;:\${CPATH%:}:&quot;           # Add leading and trailing colons
<span class="anchor" id="line-68"></span>function add () { CPATH=&quot;:\$1\${CPATH//:\$1:/:}&quot;; }
<span class="anchor" id="line-69"></span>add \${BASE}/apps/tcl8.4.14_gcc/include/
<span class="anchor" id="line-70"></span>add \${BASE}/apps/Python-2.5_gcc/include/
<span class="anchor" id="line-71"></span>add \${BASE}/apps/fftw-3.1.2_gcc/include/
<span class="anchor" id="line-72"></span>add \${BASE}/src/ATLAS-3.6.0_gcc/include/Linux_P4SSE2/
<span class="anchor" id="line-73"></span>add \${BASE}/apps/freetype-2.3.2_gcc/include/
<span class="anchor" id="line-74"></span>add \${BASE}/apps/libpng-1.2.16_gcc/include/
<span class="anchor" id="line-75"></span>CPATH=&quot;\${CPATH//+(:)/:}&quot;       # Remove duplicate colons
<span class="anchor" id="line-76"></span>CPATH=&quot;\${CPATH%:}&quot;             # Remove trailing colon
<span class="anchor" id="line-77"></span>CPATH=&quot;\${CPATH#:}&quot;             # Remove leading colon
<span class="anchor" id="line-78"></span>export CPATH
<span class="anchor" id="line-79"></span>
<span class="anchor" id="line-80"></span>LD_LIBRARY_PATH=&quot;:\${LD_LIBRARY_PATH%:}:&quot; # Add leading and trailing colons
<span class="anchor" id="line-81"></span>function add () { LD_LIBRARY_PATH=&quot;:\$1\${LD_LIBRARY_PATH//:\$1:/:}&quot;; }
<span class="anchor" id="line-82"></span>add \${BASE}/apps/tcl8.4.14_gcc/lib/
<span class="anchor" id="line-83"></span>add \${BASE}/apps/Python-2.5_gcc/lib/
<span class="anchor" id="line-84"></span>add \${BASE}/apps/fftw-3.1.2_gcc/lib/
<span class="anchor" id="line-85"></span>add \${BASE}/src/ATLAS-3.6.0_gcc/lib/Linux_P4SSE2/
<span class="anchor" id="line-86"></span>add \${BASE}/apps/freetype-2.3.2_gcc/lib/
<span class="anchor" id="line-87"></span>add \${BASE}/apps/libpng-1.2.16_gcc/lib/
<span class="anchor" id="line-88"></span>LD_LIBRARY_PATH=&quot;\${LD_LIBRARY_PATH//+(:)/:}&quot; # Remove duplicate colons
<span class="anchor" id="line-89"></span>LD_LIBRARY_PATH=&quot;\${LD_LIBRARY_PATH%:}&quot;       # Remove trailing colon
<span class="anchor" id="line-90"></span>LD_LIBRARY_PATH=&quot;\${LD_LIBRARY_PATH#:}&quot;       # Remove leading colon
<span class="anchor" id="line-91"></span>export LD_LIBRARY_PATH
<span class="anchor" id="line-92"></span>
<span class="anchor" id="line-93"></span>MANPATH=&quot;:\${MANPATH%:}:&quot;       # Add leading and trailing colons
<span class="anchor" id="line-94"></span>function add () { MANPATH=&quot;:\$1\${MANPATH//:\$1:/:}&quot;; }
<span class="anchor" id="line-95"></span>add \${BASE}/apps/tcl8.4.14_gcc/man/
<span class="anchor" id="line-96"></span>add \${BASE}/apps/Python-2.5_gcc/man/
<span class="anchor" id="line-97"></span>add \${BASE}/apps/fftw-3.1.2_gcc/share/man/
<span class="anchor" id="line-98"></span>add \${BASE}/apps/libpng-1.2.16_gcc/share/man/
<span class="anchor" id="line-99"></span>MANPATH=&quot;\${MANPATH//+(:)/:}&quot;   # Remove duplicate colons
<span class="anchor" id="line-100"></span>MANPATH=&quot;\${MANPATH%:}&quot;         # Remove trailing colon
<span class="anchor" id="line-101"></span>MANPATH=&quot;\${MANPATH#:}&quot;         # Remove leading colon
<span class="anchor" id="line-102"></span>export MANPATH
<span class="anchor" id="line-103"></span>
<span class="anchor" id="line-104"></span>export PYTHONSTARTUP=\${BASE}/pythonrc.py
<span class="anchor" id="line-105"></span>
<span class="anchor" id="line-106"></span>EOF</pre><span class="anchor" id="line-159"></span><p class="line862">This uses the <tt class="backtick">bash</tt> <tt class="backtick">cat&nbsp;&lt;&lt;EOF</tt> construct to make the <tt class="backtick">setenv_gcc</tt> script and a <tt class="backtick">pythonrc.rc</tt>.  A bit of bashing makes <tt class="backtick">setenv_gcc</tt> removed duplicates from <tt class="backtick">PATH</tt> etc. so that they do not become too long.   The <tt class="backtick">pythonrc.rc</tt> file includes the <tt class="backtick">readline</tt> module which provides a much nice interface experience (there is also a section at the end that will save a readline history in a local file .pyhist, but it is not enabled by default).  This is just here to show people how to do this. <span class="anchor" id="line-160"></span><span class="anchor" id="line-161"></span><p class="line867"><span class="anchor" id="A02_download.bash"></span> <span class="anchor" id="line-162"></span>
<h2 id="A02_download.bash-1">02_download.bash</h2>
<span class="anchor" id="line-163"></span><p class="line867"><span class="anchor" id="line-164"></span><span class="anchor" id="line-165"></span><span class="anchor" id="line-166"></span><span class="anchor" id="line-167"></span><span class="anchor" id="line-168"></span><span class="anchor" id="line-169"></span><span class="anchor" id="line-170"></span><span class="anchor" id="line-171"></span><span class="anchor" id="line-172"></span><span class="anchor" id="line-173"></span><span class="anchor" id="line-174"></span><span class="anchor" id="line-175"></span><span class="anchor" id="line-176"></span><span class="anchor" id="line-177"></span><span class="anchor" id="line-178"></span><span class="anchor" id="line-179"></span><span class="anchor" id="line-180"></span><span class="anchor" id="line-181"></span><span class="anchor" id="line-182"></span><span class="anchor" id="line-183"></span><span class="anchor" id="line-184"></span><span class="anchor" id="line-185"></span><span class="anchor" id="line-186"></span><span class="anchor" id="line-187"></span><span class="anchor" id="line-188"></span><span class="anchor" id="line-189"></span><span class="anchor" id="line-190"></span><span class="anchor" id="line-191"></span><span class="anchor" id="line-192"></span><span class="anchor" id="line-193"></span><span class="anchor" id="line-194"></span><span class="anchor" id="line-195"></span><span class="anchor" id="line-196"></span><span class="anchor" id="line-197"></span><span class="anchor" id="line-198"></span><span class="anchor" id="line-199"></span><pre><span class="anchor" id="line-1-3"></span># Source file to set environment up
<span class="anchor" id="line-2-3"></span>. ${BASE}/setenv_gcc
<span class="anchor" id="line-3-2"></span>
<span class="anchor" id="line-4-2"></span># Download files and check MD5 sums
<span class="anchor" id="line-5-2"></span>cd ${BASE}/zips
<span class="anchor" id="line-6-2"></span>wget -nv http://prdownloads.sourceforge.net/tcl/tcl8.4.14-src.tar.gz
<span class="anchor" id="line-7-2"></span>wget -nv http://prdownloads.sourceforge.net/tcl/tk8.4.14-src.tar.gz
<span class="anchor" id="line-8-2"></span>wget -nv http://www.python.org/ftp/python/2.5/Python-2.5.tar.bz2
<span class="anchor" id="line-9-2"></span>wget -nv http://www.netlib.org/lapack/lapack-3.1.1.tgz
<span class="anchor" id="line-10-2"></span>wget -nv http://downloads.sourceforge.net/math-atlas/atlas3.6.0.tar.bz2
<span class="anchor" id="line-11-2"></span>wget -nv http://www.fftw.org/fftw-3.1.2.tar.gz
<span class="anchor" id="line-12-2"></span>wget -nv http://download.savannah.gnu.org/releases/freetype/freetype-2.3.2.tar.bz2
<span class="anchor" id="line-13-2"></span>wget -nv http://downloads.sourceforge.net/libpng/libpng-1.2.16.tar.bz2
<span class="anchor" id="line-14-2"></span>wget -nv http://www.zlib.net/zlib-1.2.3.tar.gz
<span class="anchor" id="line-15-1"></span>
<span class="anchor" id="line-16-1"></span># These are from svn sources: if SVN does not work,
<span class="anchor" id="line-17-1"></span># you will have to get these manually.
<span class="anchor" id="line-18-1"></span>cd ${BASE}/src/svn
<span class="anchor" id="line-19-1"></span>svn co http://svn.scipy.org/svn/numpy/trunk numpy
<span class="anchor" id="line-20-1"></span>svn co http://svn.scipy.org/svn/scipy/trunk scipy
<span class="anchor" id="line-21-1"></span>svn co http://matplotlib.svn.sourceforge.net/svnroot/matplotlib/trunk/matplotlib matplotlib
<span class="anchor" id="line-22-1"></span>
<span class="anchor" id="line-23-1"></span>cat &gt; md5sums.md5 &lt;&lt;EOF
<span class="anchor" id="line-24-1"></span>51c6bf74d3ffdb0bd866ecdac6ff6460  tcl8.4.14-src.tar.gz
<span class="anchor" id="line-25-1"></span>d12f591f5689f95c82bfb9c1015407bb  tk8.4.14-src.tar.gz
<span class="anchor" id="line-26-1"></span>ddb7401e711354ca83b7842b733825a3  Python-2.5.tar.bz2
<span class="anchor" id="line-27-1"></span>00b21551a899bcfbaa7b8443e1faeef9  lapack-3.1.1.tgz
<span class="anchor" id="line-28-1"></span>df2ee2eb65d1c08ee93d04370172c262  atlas3.6.0.tar.bz2
<span class="anchor" id="line-29-1"></span>08f2e21c9fd02f4be2bd53a62592afa4  fftw-3.1.2.tar.gz
<span class="anchor" id="line-30-1"></span>119e1fe126fcfa5a70bc56db55f573d5  freetype-2.3.2.tar.bz2
<span class="anchor" id="line-31-1"></span>7a1ca4f49bcffdec60d50f48460642bd  libpng-1.2.16.tar.bz2
<span class="anchor" id="line-32-1"></span>debc62758716a169df9f62e6ab2bc634  zlib-1.2.3.tar.gz
<span class="anchor" id="line-33-1"></span>EOF
<span class="anchor" id="line-34-1"></span>
<span class="anchor" id="line-35-1"></span>md5sum -cw md5sums.md5</pre><span class="anchor" id="line-200"></span><p class="line862">Here we download all of the files, and compute their checksums.  The <a class="nonexistent" href="../../../NumPy.html">NumPy</a>, <a href="../../../SciPy.html">SciPy</a>, <span class="anchor" id="line-201"></span>and matplotlib packages are downloaded from the svn archives.  To be consistent later on, <span class="anchor" id="line-202"></span>we package these, but it would probably be better to simply leave these in the <tt class="backtick">src</tt> <span class="anchor" id="line-203"></span>directory and simply update them before building. <span class="anchor" id="line-204"></span><span class="anchor" id="line-205"></span><p class="line867"><span class="anchor" id="A03_tck-tk.bash"></span> <span class="anchor" id="line-206"></span>
<h2 id="A03_tck-tk.bash-1">03_tck-tk.bash</h2>
<span class="anchor" id="line-207"></span><p class="line867"><span class="anchor" id="line-208"></span><span class="anchor" id="line-209"></span><span class="anchor" id="line-210"></span><span class="anchor" id="line-211"></span><span class="anchor" id="line-212"></span><span class="anchor" id="line-213"></span><span class="anchor" id="line-214"></span><span class="anchor" id="line-215"></span><span class="anchor" id="line-216"></span><span class="anchor" id="line-217"></span><span class="anchor" id="line-218"></span><span class="anchor" id="line-219"></span><span class="anchor" id="line-220"></span><span class="anchor" id="line-221"></span><span class="anchor" id="line-222"></span><span class="anchor" id="line-223"></span><span class="anchor" id="line-224"></span><span class="anchor" id="line-225"></span><span class="anchor" id="line-226"></span><span class="anchor" id="line-227"></span><span class="anchor" id="line-228"></span><pre><span class="anchor" id="line-1-4"></span># Build and Install Tcl/Tk for graphics support
<span class="anchor" id="line-2-4"></span>. ${BASE}/setenv_gcc; env
<span class="anchor" id="line-3-3"></span>
<span class="anchor" id="line-4-3"></span>cd ${BASE}/src
<span class="anchor" id="line-5-3"></span>tar -zxvf ${BASE}/zips/tcl8.4.14-src.tar.gz
<span class="anchor" id="line-6-3"></span>mv tcl8.4.14 tcl8.4.14_gcc
<span class="anchor" id="line-7-3"></span>
<span class="anchor" id="line-8-3"></span>cd ${BASE}/src/tcl8.4.14_gcc/unix
<span class="anchor" id="line-9-3"></span>./configure --prefix=${BASE}/apps/tcl8.4.14_gcc/
<span class="anchor" id="line-10-3"></span>make
<span class="anchor" id="line-11-3"></span>make install
<span class="anchor" id="line-12-3"></span>
<span class="anchor" id="line-13-3"></span>cd ${BASE}/src
<span class="anchor" id="line-14-3"></span>tar -zxvf ${BASE}/zips/tk8.4.14-src.tar.gz
<span class="anchor" id="line-15-2"></span>mv tk8.4.14 tk8.4.14_gcc
<span class="anchor" id="line-16-2"></span>
<span class="anchor" id="line-17-2"></span>cd ${BASE}/src/tk8.4.14_gcc/unix
<span class="anchor" id="line-18-2"></span>./configure --prefix=${BASE}/apps/tcl8.4.14_gcc/
<span class="anchor" id="line-19-2"></span>make
<span class="anchor" id="line-20-2"></span>make install</pre><span class="anchor" id="line-229"></span><span class="anchor" id="line-230"></span><p class="line867"><span class="anchor" id="A04_python.bash"></span> <span class="anchor" id="line-231"></span>
<h2 id="A04_python.bash-1">04_python.bash</h2>
<span class="anchor" id="line-232"></span><p class="line867"><span class="anchor" id="line-233"></span><span class="anchor" id="line-234"></span><span class="anchor" id="line-235"></span><span class="anchor" id="line-236"></span><span class="anchor" id="line-237"></span><span class="anchor" id="line-238"></span><span class="anchor" id="line-239"></span><span class="anchor" id="line-240"></span><span class="anchor" id="line-241"></span><span class="anchor" id="line-242"></span><span class="anchor" id="line-243"></span><span class="anchor" id="line-244"></span><span class="anchor" id="line-245"></span><span class="anchor" id="line-246"></span><span class="anchor" id="line-247"></span><span class="anchor" id="line-248"></span><span class="anchor" id="line-249"></span><pre><span class="anchor" id="line-1-5"></span># Build and Install Python 2.5
<span class="anchor" id="line-2-5"></span>. ${BASE}/setenv_gcc; env
<span class="anchor" id="line-3-4"></span>
<span class="anchor" id="line-4-4"></span>cd ${BASE}/src
<span class="anchor" id="line-5-4"></span>tar -jxvf ${BASE}/zips/Python-2.5.tar.bz2
<span class="anchor" id="line-6-4"></span>mv Python-2.5 Python-2.5_gcc
<span class="anchor" id="line-7-4"></span>
<span class="anchor" id="line-8-4"></span>cd ${BASE}/src/Python-2.5_gcc
<span class="anchor" id="line-9-4"></span>
<span class="anchor" id="line-10-4"></span>./configure --prefix=${BASE}/apps/Python-2.5_gcc/\
<span class="anchor" id="line-11-4"></span>            LDFLAGS=&quot;-L\${BASE}/apps/tcl8.4.14_gcc/lib/&quot;\
<span class="anchor" id="line-12-4"></span>            CPPFLAGS=&quot;-I\${BASE}/apps/tcl8.4.14_gcc/include/&quot;
<span class="anchor" id="line-13-4"></span>
<span class="anchor" id="line-14-4"></span>make
<span class="anchor" id="line-15-3"></span>make test
<span class="anchor" id="line-16-3"></span>make install</pre><span class="anchor" id="line-250"></span><p class="line862">Note that part of the Python installation uses the python <tt class="backtick">setup.py</tt> file and this does not grok the <tt class="backtick">LD_LIBRARY_FLAGS</tt> or the <tt class="backtick">CPATH</tt> environmental variables.  Instead, it requires the <tt class="backtick">LDFLAGS</tt> and <tt class="backtick">CPPFLAGS</tt> variables, but apparently, it is not enough to just set these (somehow, they don't get transmitted from the environment to the interpreter).  Thus, we must manually specify them in the configuration step so that python knows where to look.  (If you install things to the usual place <tt class="backtick">/usr/local/lib</tt> and <tt class="backtick">/usr/local/include</tt>, then python will find them.) <span class="anchor" id="line-251"></span><span class="anchor" id="line-252"></span><p class="line867"><span class="anchor" id="A05_lapack.bash"></span> <span class="anchor" id="line-253"></span>
<h2 id="A05_lapack.bash-1">05_lapack.bash</h2>
<span class="anchor" id="line-254"></span><p class="line867"><span class="anchor" id="line-255"></span><span class="anchor" id="line-256"></span><span class="anchor" id="line-257"></span><span class="anchor" id="line-258"></span><span class="anchor" id="line-259"></span><span class="anchor" id="line-260"></span><span class="anchor" id="line-261"></span><span class="anchor" id="line-262"></span><span class="anchor" id="line-263"></span><span class="anchor" id="line-264"></span><span class="anchor" id="line-265"></span><span class="anchor" id="line-266"></span><span class="anchor" id="line-267"></span><pre><span class="anchor" id="line-1-6"></span># Build LAPACK
<span class="anchor" id="line-2-6"></span>. ${BASE}/setenv_gcc; env
<span class="anchor" id="line-3-5"></span>
<span class="anchor" id="line-4-5"></span>
<span class="anchor" id="line-5-5"></span>cd ${BASE}/src
<span class="anchor" id="line-6-5"></span>tar -zxvf ${BASE}/zips/lapack-3.1.1.tgz
<span class="anchor" id="line-7-5"></span>mv lapack-3.1.1 lapack-3.1.1_gcc
<span class="anchor" id="line-8-5"></span>
<span class="anchor" id="line-9-5"></span>cd ${BASE}/src/lapack-3.1.1_gcc
<span class="anchor" id="line-10-5"></span>cp INSTALL/make.inc.LINUX make.inc
<span class="anchor" id="line-11-5"></span>
<span class="anchor" id="line-12-5"></span>make lapacklib</pre><span class="anchor" id="line-268"></span><p class="line862">The ATLAS library we will install next provides only a subset of <a class="http" href="../../../../external.html?link=http://www.netlib.org/lapack">LAPACK</a>, so we need to make the full library first.  We will merge it with the fast components of ATLAS after installing ATLAS. <span class="anchor" id="line-269"></span><span class="anchor" id="line-270"></span><p class="line867"><span class="anchor" id="A06_atlas.bash"></span> <span class="anchor" id="line-271"></span>
<h2 id="A06_atlas.bash-1">06_atlas.bash</h2>
<span class="anchor" id="line-272"></span><p class="line867"><span class="anchor" id="line-273"></span><span class="anchor" id="line-274"></span><span class="anchor" id="line-275"></span><span class="anchor" id="line-276"></span><span class="anchor" id="line-277"></span><span class="anchor" id="line-278"></span><span class="anchor" id="line-279"></span><span class="anchor" id="line-280"></span><span class="anchor" id="line-281"></span><span class="anchor" id="line-282"></span><span class="anchor" id="line-283"></span><span class="anchor" id="line-284"></span><span class="anchor" id="line-285"></span><span class="anchor" id="line-286"></span><span class="anchor" id="line-287"></span><span class="anchor" id="line-288"></span><span class="anchor" id="line-289"></span><span class="anchor" id="line-290"></span><span class="anchor" id="line-291"></span><span class="anchor" id="line-292"></span><span class="anchor" id="line-293"></span><span class="anchor" id="line-294"></span><span class="anchor" id="line-295"></span><span class="anchor" id="line-296"></span><span class="anchor" id="line-297"></span><span class="anchor" id="line-298"></span><span class="anchor" id="line-299"></span><span class="anchor" id="line-300"></span><span class="anchor" id="line-301"></span><span class="anchor" id="line-302"></span><span class="anchor" id="line-303"></span><span class="anchor" id="line-304"></span><span class="anchor" id="line-305"></span><span class="anchor" id="line-306"></span><span class="anchor" id="line-307"></span><span class="anchor" id="line-308"></span><span class="anchor" id="line-309"></span><span class="anchor" id="line-310"></span><pre><span class="anchor" id="line-1-7"></span># Build ATLAS
<span class="anchor" id="line-2-7"></span>. ${BASE}/setenv_gcc; env
<span class="anchor" id="line-3-6"></span>
<span class="anchor" id="line-4-6"></span>
<span class="anchor" id="line-5-6"></span>cd ${BASE}/src
<span class="anchor" id="line-6-6"></span>tar -jxvf ${BASE}/zips/atlas3.6.0.tar.bz2
<span class="anchor" id="line-7-6"></span>mv ATLAS ATLAS-3.6.0_gcc
<span class="anchor" id="line-8-6"></span>
<span class="anchor" id="line-9-6"></span>cd ${BASE}/src/ATLAS-3.6.0_gcc
<span class="anchor" id="line-10-6"></span>make config &lt;&lt;EOF
<span class="anchor" id="line-11-6"></span>023
<span class="anchor" id="line-12-6"></span>y
<span class="anchor" id="line-13-5"></span>
<span class="anchor" id="line-14-5"></span>y
<span class="anchor" id="line-15-4"></span>y
<span class="anchor" id="line-16-4"></span>
<span class="anchor" id="line-17-3"></span>
<span class="anchor" id="line-18-3"></span>
<span class="anchor" id="line-19-3"></span>
<span class="anchor" id="line-20-3"></span>y
<span class="anchor" id="line-21-2"></span>
<span class="anchor" id="line-22-2"></span>EOF
<span class="anchor" id="line-23-2"></span>make install arch=Linux_P4SSE2
<span class="anchor" id="line-24-2"></span>make sanity_test arch=Linux_P4SSE2
<span class="anchor" id="line-25-2"></span>
<span class="anchor" id="line-26-2"></span># Merge LAPACK
<span class="anchor" id="line-27-2"></span>cd ${BASE}/src/ATLAS-3.6.0_gcc/lib/Linux_P4SSE2/
<span class="anchor" id="line-28-2"></span>mkdir tmp
<span class="anchor" id="line-29-2"></span>cd tmp
<span class="anchor" id="line-30-2"></span>ar x ../liblapack.a
<span class="anchor" id="line-31-2"></span>cp ${BASE}/src/lapack-3.1.1_gcc/lapack_LINUX.a ../liblapack.a
<span class="anchor" id="line-32-2"></span>ar r ../liblapack.a *.o
<span class="anchor" id="line-33-2"></span>cd ..
<span class="anchor" id="line-34-2"></span>rm -rf tmp
<span class="anchor" id="line-35-2"></span>
<span class="anchor" id="line-36-1"></span>cd ${BASE}/src/ATLAS-3.6.0_gcc
<span class="anchor" id="line-37-1"></span>make sanity_test arch=Linux_P4SSE2</pre><span class="anchor" id="line-311"></span><p class="line862">The <a class="http" href="../../../../external.html?link=http://math-atlas.sourceforge.net/">Automatically Tuned Linear Algebra Software (ATLAS)</a> library provides a fast implementation of the <a class="http" href="../../../../external.html?link=http://www.netlib.org/blas/">BLAS</a> for computing with arrays.  This is important for speed gains using <a class="nonexistent" href="../../../NumPy.html">NumPy</a>.  Get it from <a class="https" href="../../../../external.html?link=https://sourceforge.net/project/showfiles.php?group_id=23725">https://sourceforge.net/project/showfiles.php?group_id=23725</a>. <span class="anchor" id="line-312"></span><span class="anchor" id="line-313"></span><p class="line874">The configuration utility asks several questions which you should answer (in the previous script I just simulated the responses.)  The result is a configuration for your architecture (Linux_P4SSE2 in this case).  Note that ATLAS does not install itself elsewhere, so we just use it in the src directory. <span class="anchor" id="line-314"></span><span class="anchor" id="line-315"></span><p class="line862">Finally, the LAPACK library included with ATLAS is not complete.  However, the LAPACK library we made in the previous step is not fast.  The solution is to make a hybrid LAPACK library in the ATLAS directory.  (Instructions for doing this are given at <a class="http" href="../../../../external.html?link=http://math-atlas.sourceforge.net/errata.html#completelp">http://math-atlas.sourceforge.net/errata.html#completelp</a>.)  This is the last part of the script. <span class="anchor" id="line-316"></span><span class="anchor" id="line-317"></span><p class="line867"><span class="anchor" id="A07_fftw.bash"></span> <span class="anchor" id="line-318"></span>
<h2 id="A07_fftw.bash-1">07_fftw.bash</h2>
<span class="anchor" id="line-319"></span><p class="line867"><span class="anchor" id="line-320"></span><span class="anchor" id="line-321"></span><span class="anchor" id="line-322"></span><span class="anchor" id="line-323"></span><span class="anchor" id="line-324"></span><span class="anchor" id="line-325"></span><span class="anchor" id="line-326"></span><span class="anchor" id="line-327"></span><span class="anchor" id="line-328"></span><span class="anchor" id="line-329"></span><span class="anchor" id="line-330"></span><span class="anchor" id="line-331"></span><span class="anchor" id="line-332"></span><pre><span class="anchor" id="line-1-8"></span># Build and install FFTW
<span class="anchor" id="line-2-8"></span>. ${BASE}/setenv_gcc; env
<span class="anchor" id="line-3-7"></span>
<span class="anchor" id="line-4-7"></span>cd ${BASE}/src
<span class="anchor" id="line-5-7"></span>tar -zxvf ${BASE}/zips/fftw-3.1.2.tar.gz
<span class="anchor" id="line-6-7"></span>mv fftw-3.1.2 fftw-3.1.2_gcc
<span class="anchor" id="line-7-7"></span>
<span class="anchor" id="line-8-7"></span>cd ${BASE}/src/fftw-3.1.2_gcc
<span class="anchor" id="line-9-7"></span>./configure --prefix=${BASE}/apps/fftw-3.1.2_gcc/
<span class="anchor" id="line-10-7"></span>make
<span class="anchor" id="line-11-7"></span>make check
<span class="anchor" id="line-12-7"></span>make install</pre><span class="anchor" id="line-333"></span><p class="line862">The <a class="http" href="../../../../external.html?link=http://www.fftw.org/">FFTW</a> is a tuned library for Fast Fourier Transforms used by <a href="../../../SciPy.html">SciPy</a>. <span class="anchor" id="line-334"></span><span class="anchor" id="line-335"></span><p class="line867"><span class="anchor" id="A08_numpy.bash"></span> <span class="anchor" id="line-336"></span>
<h2 id="A08_numpy.bash-1">08_numpy.bash</h2>
<span class="anchor" id="line-337"></span><p class="line867"><span class="anchor" id="line-338"></span><span class="anchor" id="line-339"></span><span class="anchor" id="line-340"></span><span class="anchor" id="line-341"></span><span class="anchor" id="line-342"></span><span class="anchor" id="line-343"></span><span class="anchor" id="line-344"></span><span class="anchor" id="line-345"></span><span class="anchor" id="line-346"></span><span class="anchor" id="line-347"></span><span class="anchor" id="line-348"></span><span class="anchor" id="line-349"></span><span class="anchor" id="line-350"></span><span class="anchor" id="line-351"></span><span class="anchor" id="line-352"></span><span class="anchor" id="line-353"></span><span class="anchor" id="line-354"></span><span class="anchor" id="line-355"></span><span class="anchor" id="line-356"></span><span class="anchor" id="line-357"></span><span class="anchor" id="line-358"></span><span class="anchor" id="line-359"></span><span class="anchor" id="line-360"></span><pre><span class="anchor" id="line-1-9"></span>############# Build python components
<span class="anchor" id="line-2-9"></span>. ${BASE}/setenv_gcc; env
<span class="anchor" id="line-3-8"></span>
<span class="anchor" id="line-4-8"></span># First make sure we use the correct python
<span class="anchor" id="line-5-8"></span>which python
<span class="anchor" id="line-6-8"></span>
<span class="anchor" id="line-7-8"></span># Build and Install NumPy
<span class="anchor" id="line-8-8"></span>cd ${BASE}/src/svn
<span class="anchor" id="line-9-8"></span>mv numpy numpy_gcc
<span class="anchor" id="line-10-8"></span>
<span class="anchor" id="line-11-8"></span>cd ${BASE}/src/svn/numpy_gcc
<span class="anchor" id="line-12-8"></span>cat &gt; site.cfg &lt;&lt;EOF
<span class="anchor" id="line-13-6"></span>[atlas]
<span class="anchor" id="line-14-6"></span>library_dirs = ${BASE}/src/ATLAS-3.6.0_gcc/lib/Linux_P4SSE2/
<span class="anchor" id="line-15-5"></span>#libraries = lapack, f77blas, cblas, atlas
<span class="anchor" id="line-16-5"></span>EOF
<span class="anchor" id="line-17-4"></span>
<span class="anchor" id="line-18-4"></span>python setup.py build
<span class="anchor" id="line-19-4"></span>python setup.py install
<span class="anchor" id="line-20-4"></span>
<span class="anchor" id="line-21-3"></span>cd ../../
<span class="anchor" id="line-22-3"></span>python -c &quot;import numpy;numpy.test(100)&quot;</pre><span class="anchor" id="line-361"></span><p class="line867"><span class="anchor" id="A09_scipy.bash"></span> <span class="anchor" id="line-362"></span>
<h2 id="A09_scipy.bash-1">09_scipy.bash</h2>
<span class="anchor" id="line-363"></span><p class="line867"><span class="anchor" id="line-364"></span><span class="anchor" id="line-365"></span><span class="anchor" id="line-366"></span><span class="anchor" id="line-367"></span><span class="anchor" id="line-368"></span><span class="anchor" id="line-369"></span><span class="anchor" id="line-370"></span><span class="anchor" id="line-371"></span><span class="anchor" id="line-372"></span><span class="anchor" id="line-373"></span><span class="anchor" id="line-374"></span><span class="anchor" id="line-375"></span><span class="anchor" id="line-376"></span><span class="anchor" id="line-377"></span><span class="anchor" id="line-378"></span><span class="anchor" id="line-379"></span><span class="anchor" id="line-380"></span><span class="anchor" id="line-381"></span><span class="anchor" id="line-382"></span><span class="anchor" id="line-383"></span><span class="anchor" id="line-384"></span><pre><span class="anchor" id="line-1-10"></span># Build and Install SciPy
<span class="anchor" id="line-2-10"></span>. ${BASE}/setenv_gcc; env
<span class="anchor" id="line-3-9"></span>
<span class="anchor" id="line-4-9"></span>cd ${BASE}/src/svn
<span class="anchor" id="line-5-9"></span>mv scipy scipy_gcc
<span class="anchor" id="line-6-9"></span>
<span class="anchor" id="line-7-9"></span>cd ${BASE}/src/svn/scipy_gcc
<span class="anchor" id="line-8-9"></span>cat &gt; site.cfg &lt;&lt;EOF
<span class="anchor" id="line-9-9"></span>[atlas]
<span class="anchor" id="line-10-9"></span>library_dirs = ${BASE}/src/ATLAS-3.6.0_gcc/lib/Linux_P4SSE2/
<span class="anchor" id="line-11-9"></span>
<span class="anchor" id="line-12-9"></span>[fftw3]
<span class="anchor" id="line-13-7"></span>library_dirs = ${BASE}/apps/fftw-3.1.2_gcc/lib/
<span class="anchor" id="line-14-7"></span>EOF
<span class="anchor" id="line-15-6"></span>
<span class="anchor" id="line-16-6"></span>python setup.py build
<span class="anchor" id="line-17-5"></span>python setup.py install
<span class="anchor" id="line-18-5"></span>
<span class="anchor" id="line-19-5"></span>cd ../../
<span class="anchor" id="line-20-5"></span>python -c &quot;import scipy;scipy.test(100)&quot;</pre><span class="anchor" id="line-385"></span><p class="line867"><span class="anchor" id="A10_freetype.bash"></span> <span class="anchor" id="line-386"></span>
<h2 id="A10_freetype.bash-1">10_freetype.bash</h2>
<span class="anchor" id="line-387"></span><p class="line867"><span class="anchor" id="line-388"></span><span class="anchor" id="line-389"></span><span class="anchor" id="line-390"></span><span class="anchor" id="line-391"></span><span class="anchor" id="line-392"></span><span class="anchor" id="line-393"></span><span class="anchor" id="line-394"></span><span class="anchor" id="line-395"></span><span class="anchor" id="line-396"></span><span class="anchor" id="line-397"></span><span class="anchor" id="line-398"></span><span class="anchor" id="line-399"></span><pre><span class="anchor" id="line-1-11"></span># Build and install the freetype library
<span class="anchor" id="line-2-11"></span>. ${BASE}/setenv_gcc; env
<span class="anchor" id="line-3-10"></span>
<span class="anchor" id="line-4-10"></span>cd ${BASE}/src
<span class="anchor" id="line-5-10"></span>tar -jxvf ${BASE}/zips/freetype-2.3.2.tar.bz2
<span class="anchor" id="line-6-10"></span>mv freetype-2.3.2 freetype-2.3.2_gcc
<span class="anchor" id="line-7-10"></span>
<span class="anchor" id="line-8-10"></span>cd ${BASE}/src/freetype-2.3.2_gcc
<span class="anchor" id="line-9-10"></span>./configure --prefix=${BASE}/apps/freetype-2.3.2_gcc/
<span class="anchor" id="line-10-10"></span>make
<span class="anchor" id="line-11-10"></span>make install</pre><span class="anchor" id="line-400"></span><p class="line874">Depending on your distribution of Linux, you may not need to install the <span class="anchor" id="line-401"></span><a class="http" href="../../../../external.html?link=http://www.freetype.org/">FreeType</a> library.  Here is the installation <span class="anchor" id="line-402"></span>in case you do.  (If you do not get graphics output later you may need <span class="anchor" id="line-403"></span>this.)  The sources are available from <span class="anchor" id="line-404"></span><a class="http" href="../../../../external.html?link=http://freetype.sourceforge.net/download.html#stable">http://freetype.sourceforge.net/download.html#stable</a>. <span class="anchor" id="line-405"></span><span class="anchor" id="line-406"></span><p class="line867"><span class="anchor" id="A11_libpng.bash"></span> <span class="anchor" id="line-407"></span>
<h2 id="A11_libpng.bash-1">11_libpng.bash</h2>
<span class="anchor" id="line-408"></span><p class="line867"><span class="anchor" id="line-409"></span><span class="anchor" id="line-410"></span><span class="anchor" id="line-411"></span><span class="anchor" id="line-412"></span><span class="anchor" id="line-413"></span><span class="anchor" id="line-414"></span><span class="anchor" id="line-415"></span><span class="anchor" id="line-416"></span><span class="anchor" id="line-417"></span><span class="anchor" id="line-418"></span><span class="anchor" id="line-419"></span><span class="anchor" id="line-420"></span><pre><span class="anchor" id="line-1-12"></span># Build and install libpng
<span class="anchor" id="line-2-12"></span>. ${BASE}/setenv_gcc; env
<span class="anchor" id="line-3-11"></span>
<span class="anchor" id="line-4-11"></span>cd ${BASE}/src
<span class="anchor" id="line-5-11"></span>tar -jxvf ${BASE}/zips/libpng-1.2.16.tar.bz2
<span class="anchor" id="line-6-11"></span>mv libpng-1.2.16 libpng-1.2.16_gcc
<span class="anchor" id="line-7-11"></span>
<span class="anchor" id="line-8-11"></span>cd ${BASE}/src/libpng-1.2.16_gcc
<span class="anchor" id="line-9-11"></span>./configure --prefix=${BASE}/apps/libpng-1.2.16_gcc/
<span class="anchor" id="line-10-11"></span>make
<span class="anchor" id="line-11-11"></span>make install</pre><span class="anchor" id="line-421"></span><p class="line874">Again, depending on your distribution, you may or may not need the <span class="anchor" id="line-422"></span><a class="http" href="../../../../external.html?link=http://www.libpng.org/pub/png/libpng.html">LibPNG</a> libraries. <span class="anchor" id="line-423"></span>The sources are available from <a class="http" href="../../../../external.html?link=http://www.libpng.org/pub/png/libpng.html">http://www.libpng.org/pub/png/libpng.html</a>. <span class="anchor" id="line-424"></span><span class="anchor" id="line-425"></span><p class="line867"><span class="anchor" id="A12_matplotlib.bash"></span> <span class="anchor" id="line-426"></span>
<h2 id="A12_matplotlib.bash-1">12_matplotlib.bash</h2>
<span class="anchor" id="line-427"></span><p class="line867"><span class="anchor" id="line-428"></span><span class="anchor" id="line-429"></span><span class="anchor" id="line-430"></span><span class="anchor" id="line-431"></span><span class="anchor" id="line-432"></span><span class="anchor" id="line-433"></span><span class="anchor" id="line-434"></span><span class="anchor" id="line-435"></span><span class="anchor" id="line-436"></span><span class="anchor" id="line-437"></span><pre><span class="anchor" id="line-1-13"></span># Build and Install matplotlib
<span class="anchor" id="line-2-13"></span>. ${BASE}/setenv_gcc
<span class="anchor" id="line-3-12"></span>
<span class="anchor" id="line-4-12"></span>cd ${BASE}/src/svn
<span class="anchor" id="line-5-12"></span>mv matplotlib matplotlib_gcc
<span class="anchor" id="line-6-12"></span>
<span class="anchor" id="line-7-12"></span>cd ${BASE}/src/svn/matplotlib_gcc
<span class="anchor" id="line-8-12"></span>python setup.py build
<span class="anchor" id="line-9-12"></span>python setup.py install</pre><span class="anchor" id="line-438"></span><p class="line862">You may also need to install the <a class="http" href="../../../../external.html?link=http://www.zlib.net/">zlib</a> <span class="anchor" id="line-439"></span>library which is available from <a class="http" href="../../../../external.html?link=http://zlib.net/">http://zlib.net/</a>.  The installation is canonical. <span class="anchor" id="line-440"></span><span class="anchor" id="line-441"></span><p class="line874">To check that it all worked, try plotting a simple graph: <span class="anchor" id="line-442"></span><span class="anchor" id="line-443"></span><span class="anchor" id="line-444"></span><span class="anchor" id="line-445"></span><span class="anchor" id="line-446"></span><span class="anchor" id="line-447"></span><span class="anchor" id="line-448"></span><span class="anchor" id="line-449"></span><span class="anchor" id="line-450"></span><span class="anchor" id="line-451"></span><span class="anchor" id="line-452"></span><span class="anchor" id="line-453"></span><span class="anchor" id="line-454"></span><pre><span class="anchor" id="line-1-14"></span>-bash-3.00$ . ${BASE}/setenv_gcc
<span class="anchor" id="line-2-14"></span>-bash-3.00$ python
<span class="anchor" id="line-3-13"></span>Python 2.5 (r25:51908, Mar 29 2007, 16:48:58)
<span class="anchor" id="line-4-13"></span>[GCC 3.4.6 20060404 (Red Hat 3.4.6-3)] on linux2
<span class="anchor" id="line-5-13"></span>Type &quot;help&quot;, &quot;copyright&quot;, &quot;credits&quot; or &quot;license&quot; for more information.
<span class="anchor" id="line-6-13"></span>&gt;&gt;&gt; from pylab import *
<span class="anchor" id="line-7-13"></span>&gt;&gt;&gt; x=linspace(-10,10,1000)
<span class="anchor" id="line-8-13"></span>&gt;&gt;&gt; y=sin(x)
<span class="anchor" id="line-9-13"></span>&gt;&gt;&gt; ion()
<span class="anchor" id="line-10-12"></span>&gt;&gt;&gt; plot(x,y)
<span class="anchor" id="line-11-12"></span>[&lt;matplotlib.lines.Line2D instance at 0xb79da6ac&gt;]</pre><span class="anchor" id="line-455"></span><p class="line874">This should produce a nice plot.  If you do not see a plot but see no errors, then your backend is probably not set properly.  Check the compilation log file for errors and warnings.  One potential problem seems to be compiling matplotlib from a terminal that cannot open a windows.  This causes the installation scripts to think you can't display windows and it seems to turn off the display options.  Recompiling from a terminal that can open a window should fix this.  (There is probably a way of directly forcing this too but I do not know it yet.) <span class="anchor" id="line-456"></span><span class="anchor" id="line-457"></span><p class="line867">
<h1 id="GNU_Compilers">GNU Compilers</h1>
<span class="anchor" id="line-458"></span><p class="line862">A C++ compiler is not presently needed for Python or <a href="../../../SciPy.html">SciPy</a> but may be useful for Weave code.  We need the C compiler and the Fortran compilers.  Here is what Red Hat provided: <span class="anchor" id="line-459"></span><span class="anchor" id="line-460"></span><span class="anchor" id="line-461"></span><span class="anchor" id="line-462"></span><span class="anchor" id="line-463"></span><span class="anchor" id="line-464"></span><span class="anchor" id="line-465"></span><span class="anchor" id="line-466"></span><span class="anchor" id="line-467"></span><span class="anchor" id="line-468"></span><pre><span class="anchor" id="line-1-15"></span>$ gcc --version
<span class="anchor" id="line-2-15"></span>gcc (GCC) 3.4.6 20060404 (Red Hat 3.4.6-3)
<span class="anchor" id="line-3-14"></span>Copyright (C) 2006 Free Software Foundation, Inc.
<span class="anchor" id="line-4-14"></span>...
<span class="anchor" id="line-5-14"></span>$ g77 --version
<span class="anchor" id="line-6-14"></span>GNU Fortran (GCC) 3.4.6 20060404 (Red Hat 3.4.6-3)
<span class="anchor" id="line-7-14"></span>Copyright (C) 2006 Free Software Foundation, Inc.
<span class="anchor" id="line-8-14"></span>...</pre><span class="anchor" id="line-469"></span><p class="line867"><hr /><p class="line874"> <span class="anchor" id="line-470"></span><a href="../../../CategoryInstallation.html">CategoryInstallation</a> <span class="anchor" id="line-471"></span><span class="anchor" id="bottom"></span></div>
<div id="pagebottom"></div>
</div>


<div id="footer">
<ul class="editbar"><li class="toggleCommentsButton" style="display:none;"><a href="#" class="nbcomment" onClick="toggleComments();return false;">Comments</a></li><li><a class="nbattachments" href="GCC_137dc.html?action=AttachFile" rel="nofollow">Attachments</a></li><li>
<form class="actionsmenu" method="GET" action="../../../../external.html?link=http://localhost:8080/Installing_SciPy/Linux/BuildingFromSource/GCC_1">
<div>
    <label>More Actions:</label>
    <select name="action"
        onchange="if ((this.selectedIndex != 0) &&
                      (this.options[this.selectedIndex].disabled == false)) {
                this.form.submit();
            }
            this.selectedIndex = 0;">
        <option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="RenamePage" disabled class="disabled">Rename Page</option>
<option value="DeletePage" disabled class="disabled">Delete Page</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Subscribe User</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Remove Spam</option>
<option value="show" disabled class="disabled">Revert to this revision</option>
    </select>
    <input type="submit" value="Do">
    
</div>
<script type="text/javascript">
<!--// Init menu
actionsMenuInit('More Actions:');
//-->
</script>
</form>
</li></ul>

<ul id="credits">
<li><a href="../../../../external.html?link=http://moinmo.in/" title="This site uses the MoinMoin Wiki software.">MoinMoin Powered</a></li><li><a href="../../../../external.html?link=http://moinmo.in/Python" title="MoinMoin is written in Python.">Python Powered</a></li><li><a href="../../../../external.html?link=http://moinmo.in/GPL" title="MoinMoin is GPL licensed.">GPL licensed</a></li><li><a href="../../../../external.html?link=http://validator.w3.org/check?uri=referer" title="Click here to validate this page.">Valid HTML 4.01</a></li>
</ul>


</div>
</body>

<!-- Mirrored from localhost:8080/Installing_SciPy/Linux/BuildingFromSource/GCC_1?action=recoverpass by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 29 Oct 2015 23:19:29 GMT -->
</html>

