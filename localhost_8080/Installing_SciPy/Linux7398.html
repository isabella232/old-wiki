<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>

<!-- Mirrored from localhost:8080/Installing_SciPy/Linux?highlight=%28%28Download%29%29 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 29 Oct 2015 23:19:28 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<meta name="edit_on_doubleclick" content="/">
<meta name="robots" content="noindex,nofollow">

<title>Installing_SciPy/Linux - SciPy wiki dump</title>
<script type="text/javascript" src="../moin_static197/common/js/common.js"></script>

<script type="text/javascript">
<!--
var search_hint = "Search";
//-->
</script>


<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="../moin_static197/modern/css/common.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="screen" href="../moin_static197/modern/css/screen.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="print" href="../moin_static197/modern/css/print.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="projection" href="../moin_static197/modern/css/projection.css">

<!-- css only for MS IE6/IE7 browsers -->
<!--[if lt IE 8]>
   <link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="/moin_static197/modern/css/msie.css">
<![endif]-->


<link rel="alternate" title="SciPy: Installing_SciPy/Linux" href="../../external.html?link=http://localhost:8080/Installing_SciPy/Linux?diffs=1&amp;show_att=1&amp;action=rss_rc&amp;unique=0&amp;page=Installing_SciPy%2FLinux&amp;ddiffs=1" type="application/rss+xml">


<link rel="Start" href="../AllPages.html">
<link rel="Alternate" title="Wiki Markup" href="../../external.html?link=http://localhost:8080/Installing_SciPy/Linux?action=raw">
<link rel="Alternate" media="print" title="Print View" href="../../external.html?link=http://localhost:8080/Installing_SciPy/Linux?action=print">
<link rel="Up" href="../Installing_SciPy.html">
<link rel="Search" href="../FindPage.html">
<link rel="Index" href="../TitleIndex.html">
<link rel="Glossary" href="../WordIndex.html">
<link rel="Help" href="../HelpOnFormatting.html">
</head>

<body  lang="en" dir="ltr"><div style="background: white; width:100%; padding:2em;">This is an archival dump of old wiki content --- see <a href="http://scipy.org/">scipy.org</a> for current material</div>

<div id="header">


<form id="searchform" method="get" action="../../external.html?link=http://localhost:8080/Installing_SciPy/Linux">
<div>
<input type="hidden" name="action" value="fullsearch">
<input type="hidden" name="context" value="180">
<label for="searchinput">Search:</label>
<input id="searchinput" type="text" name="value" value="" size="20"
    onfocus="searchFocus(this)" onblur="searchBlur(this)"
    onkeyup="searchChange(this)" onchange="searchChange(this)" alt="Search">
<input id="titlesearch" name="titlesearch" type="submit"
    value="Titles" alt="Search Titles">
<input id="fullsearch" name="fullsearch" type="submit"
    value="Text" alt="Search Full Text">
</div>
</form>
<script type="text/javascript">
<!--// Initialize search form
var f = document.getElementById('searchform');
f.getElementsByTagName('label')[0].style.display = 'none';
var e = document.getElementById('searchinput');
searchChange(e);
searchBlur(e);
//-->
</script>

<ul id="username"><li><a href="Linux456e.html?action=login" id="login" rel="nofollow">Login</a></li></ul>
<div id="locationline">
<div id="interwiki"><span><a href="../AllPages.html" rel="nofollow">SciPy</a></span></div>

<ul id="pagelocation">
<li><a href="../Installing_SciPy.html">Installing_SciPy</a></li><li><a class="backlink" href="Linuxfc12.html?action=fullsearch&amp;context=180&amp;value=linkto%3A%22Installing_SciPy%2FLinux%22" rel="nofollow" title="Click to do a full-text search for this title">Linux</a></li>
</ul>

</div>


<ul id="navibar">
<li class="wikilink"><a href="../RecentChanges.html">RecentChanges</a></li><li class="wikilink"><a class="nonexistent" href="../FindPage.html">FindPage</a></li><li class="wikilink"><a class="nonexistent" href="../HelpContents.html">HelpContents</a></li><li class="current"><a href="Linux.html">Installing_SciPy/Linux</a></li>
</ul>

<div id="pageline"><hr style="display:none;"></div>

<ul class="editbar"><li class="toggleCommentsButton" style="display:none;"><a href="#" class="nbcomment" onClick="toggleComments();return false;">Comments</a></li><li><a class="nbattachments" href="Linux37dc.html?action=AttachFile" rel="nofollow">Attachments</a></li><li>
<form class="actionsmenu" method="GET" action="../../external.html?link=http://localhost:8080/Installing_SciPy/Linux">
<div>
    <label>More Actions:</label>
    <select name="action"
        onchange="if ((this.selectedIndex != 0) &&
                      (this.options[this.selectedIndex].disabled == false)) {
                this.form.submit();
            }
            this.selectedIndex = 0;">
        <option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="RenamePage" disabled class="disabled">Rename Page</option>
<option value="DeletePage" disabled class="disabled">Delete Page</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Subscribe User</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Remove Spam</option>
<option value="show" disabled class="disabled">Revert to this revision</option>
    </select>
    <input type="submit" value="Do">
    
</div>
<script type="text/javascript">
<!--// Init menu
actionsMenuInit('More Actions:');
//-->
</script>
</form>
</li></ul>

</div>

<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en"><span class="anchor" id="top"></span>
<span class="anchor" id="line-1"></span><p class="line867">
<h1 id="Introduction_:_source_and_binaries">Introduction : source and binaries</h1>
<span class="anchor" id="line-2"></span><span class="anchor" id="line-3"></span><ul><li>On Linux, Scipy and Numpy official releases are source-code only. Installing Numpy and Scipy from source is reasonably easy; However, both packages depend on other software, some of them which can be challenging to install, or shipped with incompatibilities by major Linux distributions. Hopefully, you can install Numpy and Scipy without any software outside the necessary tools to build python extensions, as most dependencies are optional. <span class="anchor" id="line-4"></span><span class="anchor" id="line-5"></span></li><li class="gap">Most major Linux distributions now ship Numpy and Scipy and, although the situation is still far from optimal, those binary packages are now reasonably reliable to use. Many other binary options are also available, ranging from individually made packages by some scipy developers for a specific Linux version, to whole commercially-supported scientific distributions. However, keep in mind that if you want to use the last improvements done to Numpy and Scipy on Linux, you have to build it from sources. <span class="anchor" id="line-6"></span><span class="anchor" id="line-7"></span></li></ul><p class="line867">
<h1 id="Building_from_sources">Building from sources</h1>
<span class="anchor" id="line-8"></span><span class="anchor" id="line-9"></span><p class="line862">To build Numpy/Scipy from source, get the <a href="../Download.html">source package</a>, unpack it, and: <span class="anchor" id="line-10"></span><span class="anchor" id="line-11"></span><span class="anchor" id="line-12"></span><pre><span class="anchor" id="line-1-1"></span>python setup.py install --user   # installs to your home directory -- requires Python &gt;= 2.6</pre><span class="anchor" id="line-13"></span><p class="line874">or <span class="anchor" id="line-14"></span><span class="anchor" id="line-15"></span><span class="anchor" id="line-16"></span><span class="anchor" id="line-17"></span><pre><span class="anchor" id="line-1-2"></span>python setup.py build
<span class="anchor" id="line-2-1"></span>sudo python setup.py install --prefix=/usr/local   # installs to /usr/local</pre><span class="anchor" id="line-18"></span><span class="anchor" id="line-19"></span><p class="line874">Before building, you will also need to install packages that Numpy and Scipy depend on <span class="anchor" id="line-20"></span><span class="anchor" id="line-21"></span><ul><li><p class="line862">BLAS and LAPACK libraries (optional but strongly recommended for Numpy, required for Scipy): typically <a class="http" href="../../external.html?link=http://math-atlas.sourceforge.net/">ATLAS</a> + <a class="http" href="../../external.html?link=http://www.netlib.org/lapack/">LAPACK</a>, or <a class="http" href="../../external.html?link=http://software.intel.com/en-us/articles/intel-mkl/">MKL</a>, or <a class="http" href="../../external.html?link=http://developer.amd.com/cpu/Libraries/acml/Pages/default.aspx">ACML</a> <span class="anchor" id="line-22"></span></li><li><p class="line862">C and Fortran compilers (typically <tt class="backtick">gcc</tt> and <tt class="backtick">gfortran</tt>). <span class="anchor" id="line-23"></span></li><li><p class="line862">Python header files (typically a package named <tt class="backtick">python-dev</tt> or <tt class="backtick">python-devel</tt>) <span class="anchor" id="line-24"></span><span class="anchor" id="line-25"></span></li></ul><p class="line874">Typically, you will want to install all of the above from packages supplied by your Linux distribution, as building them yourself is complicated. If you need to use specific BLAS/LAPACK libraries, you can do <span class="anchor" id="line-26"></span><span class="anchor" id="line-27"></span><span class="anchor" id="line-28"></span><span class="anchor" id="line-29"></span><span class="anchor" id="line-30"></span><span class="anchor" id="line-31"></span><pre><span class="anchor" id="line-1-3"></span>export BLAS=/path/to/libblas.so
<span class="anchor" id="line-2-2"></span>export LAPACK=/path/to/liblapack.so
<span class="anchor" id="line-3-1"></span>export ATLAS=/path/to/libatlas.so
<span class="anchor" id="line-4-1"></span>python setup.py ............</pre><span class="anchor" id="line-32"></span><p class="line862">If you don't want to any LAPACK, just do &quot;<tt class="backtick">export&nbsp;LAPACK=</tt>&quot;. <span class="anchor" id="line-33"></span><span class="anchor" id="line-34"></span><p class="line874">You will find below additional installation instructions and advice for many major Linux distributions. <span class="anchor" id="line-35"></span><span class="anchor" id="line-36"></span><p class="line867">
<h1 id="Table_of_Contents">Table of Contents</h1>
<span class="anchor" id="line-37"></span><span class="anchor" id="line-38"></span><p class="line867"><div class="table-of-contents"><p class="table-of-contents-heading">Contents<ol><li>
<a href="#Introduction_:_source_and_binaries">Introduction : source and binaries</a></li><li>
<a href="#Building_from_sources">Building from sources</a></li><li>
<a href="#Table_of_Contents">Table of Contents</a></li><li>
<a href="#Fedora_Core_8.2C_openSUSE_10.2.2C_RHEL.2FCentos_5">Fedora Core 8, openSUSE 10.2, RHEL/Centos 5</a><ol><li>
<a href="#Basic_install">Basic install</a></li><li>
<a href="#Building_Atlas">Building Atlas</a><ol><li>
<a href="#Building_Atlas_by_Hand">Building Atlas by Hand</a></li><li>
<a href="#Building_Atlas_with_atlas-XXX.src.rpm_from_Ashigabou_Repository">Building Atlas with atlas-XXX.src.rpm from Ashigabou Repository</a></li></ol></li></ol></li><li>
<a href="#Mandriva_2007.1">Mandriva 2007.1</a></li><li>
<a href="#Gentoo">Gentoo</a></li><li>
<a href="#Debian_.2F_Ubuntu">Debian / Ubuntu</a></li><li>
<a href="#Andrew_Straw.27s_unofficial_repository_for_Ubuntu_.2F_Debian">Andrew Straw's unofficial repository for Ubuntu / Debian</a><ol><li>
<a href="#Binary_packages_Ubuntu_Dapper_.286.06.29.2C_.28i386_and_amd64_architectures.29">Binary packages Ubuntu Dapper (6.06), (i386 and amd64 architectures)</a></li><li>
<a href="#Source_packages_for_any_Debian-based_distribution">Source packages for any Debian-based distribution</a></li><li>
<a href="#GPG_Verification_using_Andrew_Straw.27s_repository">GPG Verification using Andrew Straw's repository</a></li><li>
<a href="#Debian_sarge_notes">Debian sarge notes</a></li><li>
<a href="#Ubuntu_notes">Ubuntu notes</a></li></ol></li><li>
<a href="#openSUSE">openSUSE</a><ol><li>
<a href="#ATLAS">ATLAS</a></li><li>
<a href="#Broken_BLAS">Broken BLAS</a></li></ol></li><li>
<a href="#Building_everything_from_source_with_gfortran_on_Ubuntu_.28Nov_2010.29">Building everything from source with gfortran on Ubuntu (Nov 2010)</a><ol><li>
<a href="#Install_required_packages">Install required packages</a></li><li>
<a href="#Step_1:_Disable_CPU_Throttling">Step 1: Disable CPU Throttling</a></li><li>
<a href="#Step_2:_Build_ATLAS.283.9.32.29_with_complete_Lapack.283.2.2.29">Step 2: Build ATLAS(3.9.32) with complete Lapack(3.2.2)</a></li><li>
<a href="#Step_3:_Build_UMFPACK_.285.5.0.29_with_AMD_.282.2.1.29.2C_UFConfig.283.5.0.29_and_CHOLMOD_.281.7.1.29">Step 3: Build UMFPACK (5.5.0) with AMD (2.2.1), UFConfig(3.5.0) and CHOLMOD (1.7.1)</a></li><li>
<a href="#Step_4:_Build_numpy.281.5.0.29">Step 4: Build numpy(1.5.0)</a></li><li>
<a href="#Step_5:_Build_scipy.280.8.0.29">Step 5: Build scipy(0.8.0)</a></li></ol></li><li>
<a href="#Building_everything_from_source_with_gfortran_on_Ubuntu_.28Feb_2008.29">Building everything from source with gfortran on Ubuntu (Feb 2008)</a><ol><li>
<a href="#Install_required_packages-1">Install required packages</a></li><li>
<a href="#Build_lapack_.283.1.1.29">Build lapack (3.1.1)</a></li><li>
<a href="#Build_ATLAS_.283.8.0.29">Build ATLAS (3.8.0)</a></li><li>
<a href="#Build_UMFPACK_.285.2.0.29">Build UMFPACK (5.2.0)</a></li><li>
<a href="#Build_FFTW_.283.1.2.29">Build FFTW (3.1.2)</a><ol><li>
<a href="#SciPy_Versions_.3E.3D_0.7_and_Numpy_.3E.3D_1.2">SciPy Versions &gt;= 0.7 and Numpy &gt;= 1.2</a></li><li>
<a href="#SciPy_Versions_.3C_0.7_and_Numpy_.3C_1.2">SciPy Versions &lt; 0.7 and Numpy &lt; 1.2</a></li></ol></li><li>
<a href="#Build_Numpy_and_Scipy">Build Numpy and Scipy</a></li></ol></li><li>
<a href="#Any_distribution_with_Intel_C_compiler_and_MKL">Any distribution with Intel C compiler and MKL</a><ol><li>
<a href="#Intel_MKL_11.0_.28updated_Dec_2012.29">Intel MKL 11.0 (updated Dec 2012)</a></li><li>
<a href="#Intel_MKL_10.0">Intel MKL 10.0</a></li><li>
<a href="#Older_information">Older information</a></li></ol></li><li>
<a href="#Any_Linux_distro:_self-contained_local_installation_with_Sage.">Any Linux distro: self-contained local installation with Sage.</a></li></ol></div><p class="line874"> <span class="anchor" id="line-39"></span><span class="anchor" id="line-40"></span><p class="line867">
<h1 id="Fedora_Core_8.2C_openSUSE_10.2.2C_RHEL.2FCentos_5">Fedora Core 8, openSUSE 10.2, RHEL/Centos 5</h1>
<span class="anchor" id="line-41"></span><span class="anchor" id="line-42"></span><p class="line862">I (<a class="nonexistent" href="../DavidCournapeau.html">DavidCournapeau</a>) have packaged the last released of numpy, scipy as well as lapack and blas dependencies for Fedora Core 8, opensuse 10.2 and Centos/RHEL 5 and a few others thanks to the opensuse build service. I strongly advise you to use those packages instead of the &quot;official&quot; ones, which are often unusable. The repository is there: <span class="anchor" id="line-43"></span><span class="anchor" id="line-44"></span><p class="line867"><a class="https" href="../../external.html?link=https://build.opensuse.org/project/packages?project=home%3Aashigabou">https://build.opensuse.org/project/packages?project=home%3Aashigabou</a> <span class="anchor" id="line-45"></span><span class="anchor" id="line-46"></span><p class="line867">
<h2 id="Basic_install">Basic install</h2>
<span class="anchor" id="line-47"></span><span class="anchor" id="line-48"></span><p class="line862">To use this repository with yum, simply pick up your arch/distribution from <a class="http" href="../../external.html?link=http://download.opensuse.org/repositories/science:/ScientificLinux/">http://<strong class="highlight">download</strong>.opensuse.org/repositories/science:/ScientificLinux/</a> , and take the corresponding .repo file. Put this .repo file into /etc/yum.repo.d/, and then install numpy/scipy with yum: <span class="anchor" id="line-49"></span><span class="anchor" id="line-50"></span><p class="line874">yum install python-numpy python-scipy <span class="anchor" id="line-51"></span><span class="anchor" id="line-52"></span><p class="line874">I also packaged timers and testers for blas and lapack, which can be useful if you intend to compile special optimized versions of BLAS/LAPACK (eg GOTO or ATLAS). You can also find the package lapack3-pic, which can be used to build a complete LAPACK with ATLAS: it is a static version, but  as it is built with the -fPIC compiler flag, it can be used to build python extensions; this is particularly useful for x86_64 arch. <span class="anchor" id="line-53"></span><span class="anchor" id="line-54"></span><p class="line867">
<h2 id="Building_Atlas">Building Atlas</h2>
<span class="anchor" id="line-55"></span><span class="anchor" id="line-56"></span><p class="line874">ATLAS is a BLAS/LAPACK implementation which tuned itself on the machine to provide ideal performances, and often match vendor specific implementations. Unfortunately, building ATLAS is not easy.  But, it is getting easier all the time.    <span class="anchor" id="line-57"></span><span class="anchor" id="line-58"></span><p class="line867">
<h3 id="Building_Atlas_by_Hand">Building Atlas by Hand</h3>
<span class="anchor" id="line-59"></span><span class="anchor" id="line-60"></span><p class="line874">These instructions show how to build ATLAS (and LAPACK) from their official distributions. <span class="anchor" id="line-61"></span><span class="anchor" id="line-62"></span><p class="line874">First, <strong class="highlight">download</strong> and unpackage the LAPACK distribution from netlib (you need these to build a complete version of LAPACK). <span class="anchor" id="line-63"></span><span class="anchor" id="line-64"></span><p class="line867"><span class="anchor" id="line-65"></span><span class="anchor" id="line-66"></span><span class="anchor" id="line-67"></span><span class="anchor" id="line-68"></span><pre><span class="anchor" id="line-1-4"></span>wget http://www.netlib.org/lapack/lapack-3.1.1.tgz
<span class="anchor" id="line-2-3"></span>tar zxvf lapack-3.1.1.tgz
<span class="anchor" id="line-3-2"></span>cd lapack-3.1.1</pre><span class="anchor" id="line-69"></span><span class="anchor" id="line-70"></span><p class="line874">There are several make.inc files in the INSTALL directory of the lapack distribution.  Copy one of those files to the main directory.  For example: <span class="anchor" id="line-71"></span><span class="anchor" id="line-72"></span><p class="line867"><span class="anchor" id="line-73"></span><span class="anchor" id="line-74"></span><pre><span class="anchor" id="line-1-5"></span>cp INSTALL/make.inc.gfortran make.inc</pre><span class="anchor" id="line-75"></span><span class="anchor" id="line-76"></span><p class="line874">Now, you must edit the make.inc file to ensure that the OPTS and NOOPT lines both contain the flag for compiling position-independent code on your platform (e.g. with gcc/gfortran it is -fPIC).   For example: <span class="anchor" id="line-77"></span><span class="anchor" id="line-78"></span><p class="line867"><span class="anchor" id="line-79"></span><span class="anchor" id="line-80"></span><span class="anchor" id="line-81"></span><pre><span class="anchor" id="line-1-6"></span>OPTS = -O2 -fPIC
<span class="anchor" id="line-2-4"></span>NOOPT = -O0 -fPIC</pre><span class="anchor" id="line-82"></span><span class="anchor" id="line-83"></span><p class="line874">(Note:  Make sure that if you build with gfortran that g77 is not installed on your system (or at least is not in your PATH when numpy is being built) as you need to link with the same compiler that you built lapack with when numpy builds. It will try and find g77 first which will lead to linking errors if you have built lapack with gfortran).  Then change to the SRC directory and run make <span class="anchor" id="line-84"></span><span class="anchor" id="line-85"></span><p class="line867"><span class="anchor" id="line-86"></span><span class="anchor" id="line-87"></span><span class="anchor" id="line-88"></span><pre><span class="anchor" id="line-1-7"></span>cd SRC
<span class="anchor" id="line-2-5"></span>make</pre><span class="anchor" id="line-89"></span><span class="anchor" id="line-90"></span><p class="line862">This will create an lapack_&lt;XXXX&gt;.a file in the head lapack directory.  You will need the location of this file to configure atlas.    <span class="anchor" id="line-91"></span><span class="anchor" id="line-92"></span><p class="line862">Now, <strong class="highlight">download</strong> the latest release of ATLAS (these instructions worked on 3.7.37).  See, for example, <a class="http" href="../../external.html?link=http://sourceforge.net/project/showfiles.php?group_id=23725">http://sourceforge.net/project/showfiles.php?group_id=23725</a>.   Unpackage the result, change to the directory created, and create a directory to contain the resulting build.  This directory should be named appropriate for the platform (you can build for multiple platforms from the same SOURCE tree --- perhaps the source is on a network drive and builds are taking place for multiple platforms).  <span class="anchor" id="line-93"></span><span class="anchor" id="line-94"></span><p class="line867"><span class="anchor" id="line-95"></span><span class="anchor" id="line-96"></span><span class="anchor" id="line-97"></span><span class="anchor" id="line-98"></span><pre><span class="anchor" id="line-1-8"></span>tar jxvf atlas3.7.37.tar.bz2
<span class="anchor" id="line-2-6"></span>cd ATLAS
<span class="anchor" id="line-3-3"></span>mkdir ATLAS_&lt;my_platform_type&gt;</pre><span class="anchor" id="line-99"></span><span class="anchor" id="line-100"></span><p class="line867"><span class="anchor" id="line-101"></span><span class="anchor" id="line-102"></span><span class="anchor" id="line-103"></span><span class="anchor" id="line-104"></span><pre><span class="anchor" id="line-1-9"></span>cd ATLAS_&lt;my_platform_type&gt;
<span class="anchor" id="line-2-7"></span>../configure -Fa alg -fPIC --with-netlib-lapack=/path/to/lapack/lapack_&lt;XXXX&gt;.a
<span class="anchor" id="line-3-4"></span>make</pre><span class="anchor" id="line-105"></span><span class="anchor" id="line-106"></span><p class="line874">Your atlas libraries should now be in the lib subdirectory of the current directory.  You should copy them to some-place that you can tell site.cfg about so that numpy and scipy can pick them up.  If you want to create shared libraries, then you can do that by <span class="anchor" id="line-107"></span><span class="anchor" id="line-108"></span><p class="line867"><span class="anchor" id="line-109"></span><span class="anchor" id="line-110"></span><span class="anchor" id="line-111"></span><span class="anchor" id="line-112"></span><pre><span class="anchor" id="line-1-10"></span>cd lib
<span class="anchor" id="line-2-8"></span>make shared     # for sequential libraries
<span class="anchor" id="line-3-5"></span>make ptshared   # for threaded libraries</pre><span class="anchor" id="line-113"></span><span class="anchor" id="line-114"></span><p class="line874">after changing to the lib directory where the .a files are already located.  <span class="anchor" id="line-115"></span><span class="anchor" id="line-116"></span><p class="line867">
<h3 id="Building_Atlas_with_atlas-XXX.src.rpm_from_Ashigabou_Repository">Building Atlas with atlas-XXX.src.rpm from Ashigabou Repository</h3>
<span class="anchor" id="line-117"></span><span class="anchor" id="line-118"></span><p class="line874">ashigabou repository does not provide binary versions, but provides all the tools to make the building process of ATLAS almost painless: it will build a complete LAPACK, build it with the right fortran compiler to avoid ABI issues (eg _gfortran_string_write, etc...), and with the right compiler flags such as it is usable to build numpy and scipy (with the -fPIC option). <span class="anchor" id="line-119"></span><span class="anchor" id="line-120"></span><p class="line874">First, <strong class="highlight">download</strong> the source rpm included in the ashigabou repository (the file atlas-version.src.rpm), and install from the ashigabou repository the package lapack3-pic (the rpm will refuse to build without it). Then, use the following: <span class="anchor" id="line-121"></span><span class="anchor" id="line-122"></span><p class="line867"><span class="anchor" id="line-123"></span><span class="anchor" id="line-124"></span><pre><span class="anchor" id="line-1-11"></span>rpm -ivh atlas-version.src.rpm</pre><span class="anchor" id="line-125"></span><span class="anchor" id="line-126"></span><p class="line874">This will NOT install atlas, just uncompress all the necessary files for building the rpm in /usr/src/packages. Before building atlas, you must disable dynamic change of CPU frequency (used to decrease battery consumption): <span class="anchor" id="line-127"></span><span class="anchor" id="line-128"></span><p class="line867"><span class="anchor" id="line-129"></span><span class="anchor" id="line-130"></span><pre><span class="anchor" id="line-1-12"></span>cpufreq-selector -g performance</pre><span class="anchor" id="line-131"></span><span class="anchor" id="line-132"></span><p class="line874">If this fails telling you no cpufreq support, this is fine. Now, to build the rpm, go into the directory /usr/src/packages/SPEC, and execute <span class="anchor" id="line-133"></span><span class="anchor" id="line-134"></span><p class="line867"><span class="anchor" id="line-135"></span><span class="anchor" id="line-136"></span><pre><span class="anchor" id="line-1-13"></span>rpmbuild -ba atlas.spec</pre><span class="anchor" id="line-137"></span><span class="anchor" id="line-138"></span><p class="line874">This will build the rpm: this can take a long time, even on a powerful machine. What matters is whether atlas has arch defaults for your machine: if not, it can take several hours (it takes 2 hours and a half on a P4 @3.2 Ghz, but takes ~10 minutes on my macbook under linux). If successfull, you will get an installable rpm in /usr/src/packages/RPMS/ARCH (where ARCH can be x86_64 or i586 or something else depending on the distribution and your arch). <span class="anchor" id="line-139"></span><span class="anchor" id="line-140"></span><p class="line874">The rpm contains two (shared) libraries: libblas.so and liblapack.so, installed in /usr/lib/atlas/sse2. They are meant to be drop-out for the standard BLAS and LAPACK (the ones in refblas3 and lapack3). To use the atlas libraries, once you installed numpy and scipy, you should tell the OS to use atlas instead of default libraries by using LD_LIBRARY_PATH. That is, normally, you can use numpy by : <span class="anchor" id="line-141"></span><span class="anchor" id="line-142"></span><p class="line867"><span class="anchor" id="line-143"></span><span class="anchor" id="line-144"></span><pre><span class="anchor" id="line-1-14"></span>python -c &quot;import numpy as N; a=N.random.randn(1000, 1000); N.dot(a, a)&quot;</pre><span class="anchor" id="line-145"></span><span class="anchor" id="line-146"></span><p class="line874">To use atlas, you do: <span class="anchor" id="line-147"></span><span class="anchor" id="line-148"></span><p class="line867"><span class="anchor" id="line-149"></span><span class="anchor" id="line-150"></span><pre><span class="anchor" id="line-1-15"></span>LD_LIBRARY_PATH=/usr/lib/atlas/sse2 python -c &quot;import numpy as N; a=N.random.randn(1000, 1000); N.dot(a, a)&quot;</pre><span class="anchor" id="line-151"></span><span class="anchor" id="line-152"></span><p class="line874">If everything is working correctly, you will see that the above script runs much faster with atlas than without (I see a ten fold speed increase on my machine). <span class="anchor" id="line-153"></span><span class="anchor" id="line-154"></span><p class="line867">
<h1 id="Mandriva_2007.1">Mandriva 2007.1</h1>
<span class="anchor" id="line-155"></span><span class="anchor" id="line-156"></span><p class="line862">Binary packages for NumPy 1.0.3.1 and SciPy 0.5.2.1 are available via the contrib urpmi repository: <span class="anchor" id="line-157"></span><span class="anchor" id="line-158"></span><span class="anchor" id="line-159"></span><pre><span class="anchor" id="line-1-16"></span>   urpmi python-scipy</pre><span class="anchor" id="line-160"></span><span class="anchor" id="line-161"></span><p class="line867">
<h1 id="Gentoo">Gentoo</h1>
<span class="anchor" id="line-162"></span><span class="anchor" id="line-163"></span><p class="line874">Gentoo includes an ebuild. Type: <span class="anchor" id="line-164"></span><span class="anchor" id="line-165"></span><span class="anchor" id="line-166"></span><pre><span class="anchor" id="line-1-17"></span>   sudo emerge scipy</pre><span class="anchor" id="line-167"></span><span class="anchor" id="line-168"></span><p class="line867">
<h1 id="Debian_.2F_Ubuntu">Debian / Ubuntu</h1>
<span class="anchor" id="line-169"></span><span class="anchor" id="line-170"></span><p class="line874">Debian and Ubuntu ship with Numpy and Scipy -- to install their binary packages, use <span class="anchor" id="line-171"></span><span class="anchor" id="line-172"></span><span class="anchor" id="line-173"></span><pre><span class="anchor" id="line-1-18"></span>sudo apt-get install python-numpy python-scipy</pre><span class="anchor" id="line-174"></span><span class="anchor" id="line-175"></span><p class="line862">Note (esp. Ubuntu versions prior to Maverick): Do not install versions 3.6.0-* of <tt class="backtick">libatlas-sse2</tt> or <tt class="backtick">libatlas-sse</tt> packages -- they contained severe known bugs. <span class="anchor" id="line-176"></span><span class="anchor" id="line-177"></span><p class="line867">
<h1 id="Andrew_Straw.27s_unofficial_repository_for_Ubuntu_.2F_Debian">Andrew Straw's unofficial repository for Ubuntu / Debian</h1>
<span class="anchor" id="line-178"></span><span class="anchor" id="line-179"></span><p class="line862">Andrew Straw has an unofficial repository for NumPy .deb packages. These were built with <a class="http" href="../../external.html?link=http://stdeb.python-hosting.com/">stdeb</a>. The binaries are for Ubuntu Dapper (6.06 LTS). <span class="anchor" id="line-180"></span><span class="anchor" id="line-181"></span><p class="line867">
<h2 id="Binary_packages_Ubuntu_Dapper_.286.06.29.2C_.28i386_and_amd64_architectures.29">Binary packages Ubuntu Dapper (6.06), (i386 and amd64 architectures)</h2>
<span class="anchor" id="line-182"></span><span class="anchor" id="line-183"></span><p class="line874">To use the binary package in Ubuntu Dapper, add the following line to your /etc/apt/sources.list: <span class="anchor" id="line-184"></span><span class="anchor" id="line-185"></span><span class="anchor" id="line-186"></span><pre><span class="anchor" id="line-1-19"></span>deb http://debs.astraw.com/ dapper/</pre><span class="anchor" id="line-187"></span><p class="line874">Then type <span class="anchor" id="line-188"></span><span class="anchor" id="line-189"></span><span class="anchor" id="line-190"></span><pre><span class="anchor" id="line-1-20"></span>sudo apt-get install python-numpy</pre><span class="anchor" id="line-191"></span><span class="anchor" id="line-192"></span><p class="line862">You can verify ATLAS support by running the command <tt>ldd&nbsp;/usr/lib/python2.4/site-packages/numpy/linalg/lapack_lite.so</tt>, which should result in output like the following: <span class="anchor" id="line-193"></span><span class="anchor" id="line-194"></span><span class="anchor" id="line-195"></span><span class="anchor" id="line-196"></span><span class="anchor" id="line-197"></span><span class="anchor" id="line-198"></span><span class="anchor" id="line-199"></span><span class="anchor" id="line-200"></span><span class="anchor" id="line-201"></span><pre><span class="anchor" id="line-1-21"></span>        liblapack.so.3 =&gt; /usr/lib/atlas/liblapack.so.3 (0x00002aaaaabcf000)
<span class="anchor" id="line-2-9"></span>        libblas.so.3 =&gt; /usr/lib/atlas/libblas.so.3 (0x00002aaaab435000)
<span class="anchor" id="line-3-6"></span>        libg2c.so.0 =&gt; /usr/lib/libg2c.so.0 (0x00002aaaabd15000)
<span class="anchor" id="line-4-2"></span>        libm.so.6 =&gt; /lib/libm.so.6 (0x00002aaaabe44000)
<span class="anchor" id="line-5-1"></span>        libgcc_s.so.1 =&gt; /lib/libgcc_s.so.1 (0x00002aaaabfca000)
<span class="anchor" id="line-6-1"></span>        libc.so.6 =&gt; /lib/libc.so.6 (0x00002aaaac0d7000)
<span class="anchor" id="line-7-1"></span>        /lib64/ld-linux-x86-64.so.2 (0x0000555555554000)</pre><span class="anchor" id="line-202"></span><span class="anchor" id="line-203"></span><p class="line867">
<h2 id="Source_packages_for_any_Debian-based_distribution">Source packages for any Debian-based distribution</h2>
<span class="anchor" id="line-204"></span><span class="anchor" id="line-205"></span><p class="line874">The following may (or may not) work on any Debian-based distribution: <span class="anchor" id="line-206"></span><span class="anchor" id="line-207"></span><p class="line874">Add the following line to your /etc/apt/sources.list: <span class="anchor" id="line-208"></span><span class="anchor" id="line-209"></span><span class="anchor" id="line-210"></span><pre><span class="anchor" id="line-1-22"></span>deb-src http://debs.astraw.com/ dapper/</pre><span class="anchor" id="line-211"></span><span class="anchor" id="line-212"></span><p class="line874">To <strong class="highlight">download</strong> and build, type: <span class="anchor" id="line-213"></span><span class="anchor" id="line-214"></span><span class="anchor" id="line-215"></span><span class="anchor" id="line-216"></span><pre><span class="anchor" id="line-1-23"></span>sudo apt-get build-dep python-numpy
<span class="anchor" id="line-2-10"></span>sudo apt-get -b source python-numpy</pre><span class="anchor" id="line-217"></span><span class="anchor" id="line-218"></span><p class="line867">
<h2 id="GPG_Verification_using_Andrew_Straw.27s_repository">GPG Verification using Andrew Straw's repository</h2>
<span class="anchor" id="line-219"></span><span class="anchor" id="line-220"></span><p class="line874">When you start using this repository, you might get warning messages like this: <span class="anchor" id="line-221"></span><span class="anchor" id="line-222"></span><p class="line867"><span class="anchor" id="line-223"></span><span class="anchor" id="line-224"></span><span class="anchor" id="line-225"></span><pre><span class="anchor" id="line-1-24"></span>The following signatures couldn't be verified because 
<span class="anchor" id="line-2-11"></span>the public key is not available.</pre><span class="anchor" id="line-226"></span><span class="anchor" id="line-227"></span><p class="line874">Or you will be asked questions like this over and over: <span class="anchor" id="line-228"></span><span class="anchor" id="line-229"></span><p class="line867"><span class="anchor" id="line-230"></span><span class="anchor" id="line-231"></span><span class="anchor" id="line-232"></span><span class="anchor" id="line-233"></span><pre><span class="anchor" id="line-1-25"></span>WARNING: The following packages cannot be authenticated!
<span class="anchor" id="line-2-12"></span>...
<span class="anchor" id="line-3-7"></span>Install these packages without verification [y/N]?</pre><span class="anchor" id="line-234"></span><span class="anchor" id="line-235"></span><p class="line862">Install the package <tt>astraw-keyring</tt> to eliminate these messages. This installs Andrew's archive signing key to your apt through the apt-key add command. <span class="anchor" id="line-236"></span><span class="anchor" id="line-237"></span><p class="line867">
<h2 id="Debian_sarge_notes">Debian sarge notes</h2>
<span class="anchor" id="line-238"></span><span class="anchor" id="line-239"></span><p class="line862">If you install NumPy or SciPy ontop of a debian sarge installation for a CPU with SSE2, there is a bug in libc6 2.3.2 affecting floating point operations (fixed in version 2.3.3). Due to this bug, the numpy and scipy tests crach with a SIGFPE. Since there is now patch available, in order to fix this the libc6 sources need to be <strong class="highlight">download</strong>ed, fixed, and rebuilt. See <a class="http" href="../../external.html?link=http://www.its.caltech.edu/~astraw/coding.html#libc-patched-for-debian-sarge-to-fix-floating-point-exceptions-on-sse2">Andrew Straw's instructions</a> for more information. <span class="anchor" id="line-240"></span><span class="anchor" id="line-241"></span><p class="line867">
<h2 id="Ubuntu_notes">Ubuntu notes</h2>
<span class="anchor" id="line-242"></span><span class="anchor" id="line-243"></span><p class="line862">If you choose <strong>not</strong> to use Andrew Straw's repository (which includes numpy built with ATLAS support), here are some further notes to build numpy and scipy from sources on your computer. <span class="anchor" id="line-244"></span><span class="anchor" id="line-245"></span><p class="line874">First, you need to install several libraries/tools (you need to enable universe repository for some of those packages): <span class="anchor" id="line-246"></span><span class="anchor" id="line-247"></span><p class="line867"><span class="anchor" id="line-248"></span><span class="anchor" id="line-249"></span><pre><span class="anchor" id="line-1-26"></span>sudo apt-get install gcc g77 python-dev atlas3-base-dev</pre><span class="anchor" id="line-250"></span><span class="anchor" id="line-251"></span><p class="line874">To use optimized lapack and blas, you should also install the atlas corresponding to your achitecture: atlas3-sse2-dev if you have a CPU with SSE2 capabilities, atlas3-sse-dev if you have a CPU with SSE capabilities only, etc... If you have a recent x86 (eg intel or AMD cpu), it should support SSE2. To check whether your CPU supports sse, sse2, etc.. you can check using the following command: <span class="anchor" id="line-252"></span><span class="anchor" id="line-253"></span><p class="line867"><span class="anchor" id="line-254"></span><span class="anchor" id="line-255"></span><pre><span class="anchor" id="line-1-27"></span>cat /proc/cpuinfo | grep flags</pre><span class="anchor" id="line-256"></span><span class="anchor" id="line-257"></span><p class="line874">and check whether sse, sse2, etc... appear on it. <span class="anchor" id="line-258"></span><span class="anchor" id="line-259"></span><p class="line874">Then, you can build numpy with the following, inside the numpy source directory: <span class="anchor" id="line-260"></span><span class="anchor" id="line-261"></span><p class="line867"><span class="anchor" id="line-262"></span><span class="anchor" id="line-263"></span><pre><span class="anchor" id="line-1-28"></span>python setup.py build</pre><span class="anchor" id="line-264"></span><span class="anchor" id="line-265"></span><p class="line874">Then, to install it system-wide (requires root privileges): <span class="anchor" id="line-266"></span><span class="anchor" id="line-267"></span><p class="line867"><span class="anchor" id="line-268"></span><span class="anchor" id="line-269"></span><pre><span class="anchor" id="line-1-29"></span>python setup.py install</pre><span class="anchor" id="line-270"></span><span class="anchor" id="line-271"></span><p class="line874">To install it in another directory, you need to use the prefix option. For example, I like to install local softwares in my $HOME/local, so I do the following: <span class="anchor" id="line-272"></span><span class="anchor" id="line-273"></span><p class="line867"><span class="anchor" id="line-274"></span><span class="anchor" id="line-275"></span><pre><span class="anchor" id="line-1-30"></span>python setup.py install --prefix=$HOME/local</pre><span class="anchor" id="line-276"></span><span class="anchor" id="line-277"></span><p class="line874">Note that if you do not install numpy system wide, you need to tell python to look for the directory where you installed numpy. For example, if you use $HOME/local as the former example, then you should add $HOME/local/lib/python2.4/site-packages in your PYTHONPATH: <span class="anchor" id="line-278"></span><span class="anchor" id="line-279"></span><p class="line867"><span class="anchor" id="line-280"></span><span class="anchor" id="line-281"></span><pre><span class="anchor" id="line-1-31"></span>PYTHONPATH=$HOME/local/lib/python2.4/site-packages python</pre><span class="anchor" id="line-282"></span><span class="anchor" id="line-283"></span><p class="line874">(change python2.4 to python2.5 if you are using python2.5, obviously). <span class="anchor" id="line-284"></span><span class="anchor" id="line-285"></span><p class="line867">
<h1 id="openSUSE">openSUSE</h1>
<span class="anchor" id="line-286"></span><p class="line874">(This section reflects the situation of July 2009. If you have newer of more accurate information, feel free to modify this section.) <span class="anchor" id="line-287"></span><span class="anchor" id="line-288"></span><p class="line862">OpenSUSE does not contain <strong>Numpy</strong>, <strong>Scipy</strong> or <strong>Matplotlib</strong> in the standard installation. Instead those packages are provided by additional repositories, that seem to be run by volunteers. However Novell provides webspace for some of those repositories. Packages usually exist only for a few current SUSE versions. <span class="anchor" id="line-289"></span><span class="anchor" id="line-290"></span><p class="line862">The following repositories are currently the best to obtain <strong>Numpy</strong>, <strong>Scipy</strong> and <strong>Matplotlib</strong>. They can be added to the package manager (<strong>YaST</strong>) with the <strong>Installation Source</strong> dialog. The packages will then appear in the <strong>Software Management</strong> dialog.  <span class="anchor" id="line-291"></span><span class="anchor" id="line-292"></span><p class="line862">Alternatively the *.rpm files can be <strong class="highlight">download</strong>ed and installed manually (for example 'rpm -U &lt;filename&gt;' or with 'kpackage'). <span class="anchor" id="line-293"></span><span class="anchor" id="line-294"></span><span class="anchor" id="line-295"></span><ul><li><p class="line862">Science: <a class="http" href="../../external.html?link=http://download.opensuse.org/repositories/science/">http://<strong class="highlight">download</strong>.opensuse.org/repositories/science/</a> <span class="anchor" id="line-296"></span><ul><li><p class="line862">This repository contains: <strong>Numpy</strong>, <strong>Scipy</strong>, <strong>Matplotlib</strong>, and many more packages of interest for scientific users. <span class="anchor" id="line-297"></span></li><li>Installation was tested with openSUSE 11.0 and 11.1, both i586 and x86-64. <span class="anchor" id="line-298"></span><ul><li><p class="line862">For openSUSE 11.1-x586 additionally the <a class="http" href="../../external.html?link=http://en.opensuse.org/Additional_YaST_Package_Repositories#Packman">Packman repository</a> was required as an 'Installation Source'. Select a suitable mirror from the <a class="http" href="../../external.html?link=http://en.opensuse.org/Additional_YaST_Package_Repositories#Packman">list</a>.  <span class="anchor" id="line-299"></span><span class="anchor" id="line-300"></span></li></ul></li></ul></li><li class="gap"><p class="line862">Education: <a class="http" href="../../external.html?link=http://www.opensuse-education.org/download/repo/1.0/">http://www.opensuse-education.org/<strong class="highlight">download</strong>/repo/1.0/</a> This project seems to have some backing from Novell. It is primarily oriented towards schools. The repository was added despite of the broken packages, because it is big and still active. Also its relatively wide audience (schools) might lead to continuing development. (The author of this section has also filed bug reports in their Bugzilla.)  <span class="anchor" id="line-301"></span><ul><li><p class="line862">This repository contains: <strong>Numpy</strong>, <strong>Scipy</strong>, <strong>Matplotlib</strong>, and very many other packages. <span class="anchor" id="line-302"></span></li><li><p class="line862">Repository has own Bugzilla: <a class="http" href="../../external.html?link=http://devzilla.novell.com/education/enter_bug.cgi">http://devzilla.novell.com/education/enter_bug.cgi</a> and Website: <a class="http" href="../../external.html?link=http://en.opensuse.org/Education">http://en.opensuse.org/Education</a> <span class="anchor" id="line-303"></span></li><li>Tested with openSUSE 11.0 and 11.1, x86-64:  <span class="anchor" id="line-304"></span><ul><li><p class="line862">openSUSE 11.0: <strong>broken</strong> package <strong>Scipy</strong> <span class="anchor" id="line-305"></span></li><li>openSUSE 11.1: one error in scipy.test(), package seems (mostly) functional though. <span class="anchor" id="line-306"></span><span class="anchor" id="line-307"></span><span class="anchor" id="line-308"></span></li></ul></li></ul></li></ul><p class="line862">Alternatively one can search for packages in repositories hosted by Novell here: <a class="http" href="../../external.html?link=http://software.opensuse.org/search">http://software.opensuse.org/search</a>. <span class="anchor" id="line-309"></span><span class="anchor" id="line-310"></span><p class="line862">One can also search for packages in the very big Packman repository: <a class="http" href="../../external.html?link=http://packman.links2linux.org/">http://packman.links2linux.org/</a>.  <span class="anchor" id="line-311"></span><ul><li><p class="line862">Lists of Packman mirrors: <a class="http" href="../../external.html?link=http://en.opensuse.org/Additional_YaST_Package_Repositories#Packman">1</a> <a class="http" href="../../external.html?link=http://packman.links2linux.de/MIRRORS.html">2</a> <span class="anchor" id="line-312"></span></li><li>The packman repository should be given a low priority (high value, for example 200, in priority field). It contains very many packages, that are also present in SUSE's standard repositories. These packages might otherwise override original packages from SUSE. <span class="anchor" id="line-313"></span><span class="anchor" id="line-314"></span></li></ul><p class="line862">Users of older versions of SUSE/openSuse can install <strong>Sage</strong>, a big collection of Mathematics related software. It was recently (Jul. 2009) reported that compiling and installing Sage from sources worked flawlessly, on SUSE Linux 10.2: <span class="anchor" id="line-315"></span><ul><li><p class="line862">Sage <a class="http" href="../../external.html?link=http://www.sagemath.org/download-source.html">http://www.sagemath.org/<strong class="highlight">download</strong>-source.html</a> <span class="anchor" id="line-316"></span></li><li><p class="line862">A more detailed description <a class="http" href="../../external.html?link=http://www.scipy.org/Installing_SciPy/Linux#head-f4511786c10fc5a608027f22e65df5e5078357b6">how to install Sage from sources</a> is on this page too. <span class="anchor" id="line-317"></span><span class="anchor" id="line-318"></span><span class="anchor" id="line-319"></span></li></ul><p class="line867">
<h2 id="ATLAS">ATLAS</h2>
<span class="anchor" id="line-320"></span><p class="line867"><a class="http" href="../../external.html?link=http://math-atlas.sourceforge.net/">ATLAS</a> is a replacement for <span class="anchor" id="line-321"></span><a class="http" href="../../external.html?link=http://www.netlib.org/blas/index.html">BLAS</a> and parts of <span class="anchor" id="line-322"></span><a class="http" href="../../external.html?link=http://www.netlib.org/lapack/index.html">LAPACK</a>, that is much faster. <span class="anchor" id="line-323"></span>It must be built from sources, because it optimizes itself for the computer's processor. <span class="anchor" id="line-324"></span>The build process will run for ten minutes to several hours. <span class="anchor" id="line-325"></span><span class="anchor" id="line-326"></span><p class="line867"><strong>There is currently no comfortable way to use ATLAS on openSuse.</strong> <span class="anchor" id="line-327"></span><span class="anchor" id="line-328"></span><p class="line874">The  <span class="anchor" id="line-329"></span><a class="http" href="../../external.html?link=http://www.scipy.org/Installing_SciPy/Linux#head-89e1f6afaa3314d98a22c79b063cceee2cc6313c">build instructions for ATLAS</a>  <span class="anchor" id="line-330"></span>on this page work, but unfortunately the Numpy and Scipy packages don't work with ATLAS. <span class="anchor" id="line-331"></span>One could build Numpy and Scipy from sources though, and a relatively painless way to do this is the <span class="anchor" id="line-332"></span><a class="http" href="../../external.html?link=http://www.scipy.org/Installing_SciPy/Linux#head-f4511786c10fc5a608027f22e65df5e5078357b6">Sage</a> <span class="anchor" id="line-333"></span>package. <span class="anchor" id="line-334"></span>(If you know a comfortable way to make ATLAS work on openSuse, please put it here into the Wiki.) <span class="anchor" id="line-335"></span><span class="anchor" id="line-336"></span><p class="line874">David Cournapeau has a repository devoted to ATLAS, but he has not added packages for recent SUSE versions. <span class="anchor" id="line-337"></span><ul><li><p class="line862">Ashigabou <a class="https" href="../../external.html?link=https://build.opensuse.org/project/packages?project=home%3Aashigabou">https://build.opensuse.org/project/packages?project=home%3Aashigabou</a> <span class="anchor" id="line-338"></span><ul><li style="list-style-type:none"><p class="line862">This repository contains: <strong>ATLAS</strong> and additionally other scientific software. <span class="anchor" id="line-339"></span><span class="anchor" id="line-340"></span><span class="anchor" id="line-341"></span></li></ul></li></ul><p class="line867">
<h2 id="Broken_BLAS">Broken BLAS</h2>
<span class="anchor" id="line-342"></span><span class="anchor" id="line-343"></span><p class="line874">SUSE (and Red Hat) regularly shipped versions of the BLAS library where some functions were missing. This bug has finally been fixed in March 2007. This means SUSE 10.2 and prior come with a broken BLAS, in later versions SUSE's original BLAS should work. Unfortunately the repositories mentioned here do no longer contain corrected/complete packages of BLAS and LAPACK for the affected versions (SUSE 10.2 and older). <span class="anchor" id="line-344"></span><span class="anchor" id="line-345"></span><p class="line874">The bug's cause was as follows: <span class="anchor" id="line-346"></span>The BLAS rpm is created from <a class="http" href="../../external.html?link=http://www.netlib.org/">Netlib's</a> <span class="anchor" id="line-347"></span><a class="http" href="../../external.html?link=http://www.netlib.org/lapack/index.html">LAPACK package</a> and not from the <span class="anchor" id="line-348"></span><a class="http" href="../../external.html?link=http://www.netlib.org/blas/index.html">BLAS package</a>. Until March 2007 <span class="anchor" id="line-349"></span>however the LAPACK library did only contain a subset of the functions that were in BLAS. <span class="anchor" id="line-350"></span>Finally someone begged the LAPACK developers to include the whole BLAS library in the LAPACK package, <span class="anchor" id="line-351"></span>and they did. <span class="anchor" id="line-352"></span><span class="anchor" id="line-353"></span><p class="line874">For details see: <span class="anchor" id="line-354"></span><a class="https" href="../../external.html?link=https://bugzilla.novell.com/show_bug.cgi?id=228824">https://bugzilla.novell.com/show_bug.cgi?id=228824</a> and <span class="anchor" id="line-355"></span><a class="http" href="../../external.html?link=http://www.netlib.org/lapack/lapack-3.1.1.changes">http://www.netlib.org/lapack/lapack-3.1.1.changes</a> <span class="anchor" id="line-356"></span><span class="anchor" id="line-357"></span><p class="line867">
<h1 id="Building_everything_from_source_with_gfortran_on_Ubuntu_.28Nov_2010.29">Building everything from source with gfortran on Ubuntu (Nov 2010)</h1>
<span class="anchor" id="line-358"></span><span class="anchor" id="line-359"></span><p class="line874">These are instructions for building everything from source on a 64 bit Ubuntu system (Maverick: 10.10) on a multicore processor using the latest versions as of November 2010. Everything is installed in a user directory structure in $HOME/local (/home/sam/local in my case). Administrator priviliges are required only in the beginning to disable CPU throttling while building ATLAS. <span class="anchor" id="line-360"></span><span class="anchor" id="line-361"></span><p class="line867">
<h2 id="Install_required_packages">Install required packages</h2>
<span class="anchor" id="line-362"></span><p class="line867"><span class="anchor" id="line-363"></span><span class="anchor" id="line-364"></span><pre><span class="anchor" id="line-1-32"></span>sudo apt-get install build-essential python-dev swig gfortran python-nose</pre><span class="anchor" id="line-365"></span><span class="anchor" id="line-366"></span><p class="line867">
<h2 id="Step_1:_Disable_CPU_Throttling">Step 1: Disable CPU Throttling</h2>
<span class="anchor" id="line-367"></span><p class="line874">ATLAS' timing algorithm require CPU throttling to be disabled. This disables it on the 0th core: <span class="anchor" id="line-368"></span><span class="anchor" id="line-369"></span><p class="line867"><span class="anchor" id="line-370"></span><span class="anchor" id="line-371"></span><pre><span class="anchor" id="line-1-33"></span>sudo cpufreq-selector -g performance</pre><span class="anchor" id="line-372"></span><span class="anchor" id="line-373"></span><p class="line874">Then disable it on each additional core. For a quad core processor, these commands will be required: <span class="anchor" id="line-374"></span><span class="anchor" id="line-375"></span><p class="line867"><span class="anchor" id="line-376"></span><span class="anchor" id="line-377"></span><span class="anchor" id="line-378"></span><span class="anchor" id="line-379"></span><pre><span class="anchor" id="line-1-34"></span>sudo cp /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor /sys/devices/system/cpu/cpu1/cpufreq/scaling_governor 
<span class="anchor" id="line-2-13"></span>sudo cp /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor /sys/devices/system/cpu/cpu2/cpufreq/scaling_governor 
<span class="anchor" id="line-3-8"></span>sudo cp /sys/devices/system/cpu/cpu0/cpufreq/scaling_governor /sys/devices/system/cpu/cpu3/cpufreq/scaling_governor </pre><span class="anchor" id="line-380"></span><span class="anchor" id="line-381"></span><p class="line867">
<h2 id="Step_2:_Build_ATLAS.283.9.32.29_with_complete_Lapack.283.2.2.29">Step 2: Build ATLAS(3.9.32) with complete Lapack(3.2.2)</h2>
<span class="anchor" id="line-382"></span><span class="anchor" id="line-383"></span><p class="line874"><strong class="highlight">Download</strong> lapack.tgz from netlib.org and atlas3.9.32.tar.bz2. Extract the atlas archive into a directory named ATLAS and from within it, issue these commands: <span class="anchor" id="line-384"></span><span class="anchor" id="line-385"></span><p class="line867"><span class="anchor" id="line-386"></span><span class="anchor" id="line-387"></span><span class="anchor" id="line-388"></span><span class="anchor" id="line-389"></span><span class="anchor" id="line-390"></span><span class="anchor" id="line-391"></span><span class="anchor" id="line-392"></span><span class="anchor" id="line-393"></span><span class="anchor" id="line-394"></span><span class="anchor" id="line-395"></span><pre><span class="anchor" id="line-1-35"></span>mkdir BUILD
<span class="anchor" id="line-2-14"></span>cd BUILD
<span class="anchor" id="line-3-9"></span>../configure -b 64 -Fa alg -fPIC --with-netlib-lapack-tarfile=&lt;path to lapack.tgz&gt; --prefix=/home/sam/local 
<span class="anchor" id="line-4-3"></span>make
<span class="anchor" id="line-5-2"></span>cd lib
<span class="anchor" id="line-6-2"></span>make shared
<span class="anchor" id="line-7-2"></span>make ptshared
<span class="anchor" id="line-8-1"></span>cd ..
<span class="anchor" id="line-9-1"></span>make install</pre><span class="anchor" id="line-396"></span><span class="anchor" id="line-397"></span><p class="line874">Note that make ptshared might not work on a single core machine. Note also that the first &quot;make&quot; command above will take several hours to run, as ATLAS optimizes various performance parameters.  <span class="anchor" id="line-398"></span><span class="anchor" id="line-399"></span><p class="line867">
<h2 id="Step_3:_Build_UMFPACK_.285.5.0.29_with_AMD_.282.2.1.29.2C_UFConfig.283.5.0.29_and_CHOLMOD_.281.7.1.29">Step 3: Build UMFPACK (5.5.0) with AMD (2.2.1), UFConfig(3.5.0) and CHOLMOD (1.7.1)</h2>
<span class="anchor" id="line-400"></span><span class="anchor" id="line-401"></span><p class="line862">NOTE: Dowloading and building the entire <a class="http" href="../../external.html?link=http://www.cise.ufl.edu/research/sparse/SuiteSparse/">SuiteSparse</a> all at once is easier than the following steps. <a class="http" href="../../external.html?link=http://www.cise.ufl.edu/research/sparse/SuiteSparse/">SuiteSparse</a> Version 4.0.2 is confirmed to have worked on Xubuntu 12.10 with the latest ATLAS, LAPACK, <a class="http" href="../../external.html?link=http://numpy.scipy.org/">NumPy</a> and <a href="../SciPy.html">SciPy</a> as of 2012-10-18. --<a class="nonexistent" href="../MartinSpacek.html">MartinSpacek</a> <span class="anchor" id="line-402"></span><span class="anchor" id="line-403"></span><p class="line874">-- <span class="anchor" id="line-404"></span><span class="anchor" id="line-405"></span><p class="line874">Dowload all four packages and extract them in the same directory. Edit UFconfig/UFconfig.mk to read: <span class="anchor" id="line-406"></span><span class="anchor" id="line-407"></span><p class="line867"><span class="anchor" id="line-408"></span><span class="anchor" id="line-409"></span><span class="anchor" id="line-410"></span><span class="anchor" id="line-411"></span><span class="anchor" id="line-412"></span><span class="anchor" id="line-413"></span><span class="anchor" id="line-414"></span><span class="anchor" id="line-415"></span><span class="anchor" id="line-416"></span><span class="anchor" id="line-417"></span><span class="anchor" id="line-418"></span><span class="anchor" id="line-419"></span><span class="anchor" id="line-420"></span><span class="anchor" id="line-421"></span><pre><span class="anchor" id="line-1-36"></span>CC = gcc
<span class="anchor" id="line-2-15"></span>CFLAGS = -O3 -fexceptions -m64 -fPIC
<span class="anchor" id="line-3-10"></span>
<span class="anchor" id="line-4-4"></span>F77 = gfortran
<span class="anchor" id="line-5-3"></span>F77FLAGS = -O -m64 -fPIC
<span class="anchor" id="line-6-3"></span>
<span class="anchor" id="line-7-3"></span>INSTALL_LIB = /home/sam/local/lib
<span class="anchor" id="line-8-2"></span>INSTALL_INCLUDE = /home/sam/local/include
<span class="anchor" id="line-9-2"></span>
<span class="anchor" id="line-10-1"></span>METIS_PATH =
<span class="anchor" id="line-11-1"></span>METIS =
<span class="anchor" id="line-12-1"></span>
<span class="anchor" id="line-13-1"></span>CHOLMOD_CONFIG = -DNPARTITION</pre><span class="anchor" id="line-422"></span><span class="anchor" id="line-423"></span><p class="line874">Then issue the following commands <span class="anchor" id="line-424"></span><span class="anchor" id="line-425"></span><span class="anchor" id="line-426"></span><span class="anchor" id="line-427"></span><span class="anchor" id="line-428"></span><span class="anchor" id="line-429"></span><span class="anchor" id="line-430"></span><span class="anchor" id="line-431"></span><span class="anchor" id="line-432"></span><pre><span class="anchor" id="line-1-37"></span>cd UMFPACK
<span class="anchor" id="line-2-16"></span>make library
<span class="anchor" id="line-3-11"></span>make install
<span class="anchor" id="line-4-5"></span>cd ../AMD
<span class="anchor" id="line-5-4"></span>make install
<span class="anchor" id="line-6-4"></span>cd ../UFconfig
<span class="anchor" id="line-7-4"></span>cp UFconfig.h /home/sam/local/include</pre><span class="anchor" id="line-433"></span><span class="anchor" id="line-434"></span><p class="line867">
<h2 id="Step_4:_Build_numpy.281.5.0.29">Step 4: Build numpy(1.5.0)</h2>
<span class="anchor" id="line-435"></span><span class="anchor" id="line-436"></span><p class="line874">Untar the archive, copy site.cfg.example to site.cfg and edit it: <span class="anchor" id="line-437"></span><span class="anchor" id="line-438"></span><p class="line867"><span class="anchor" id="line-439"></span><span class="anchor" id="line-440"></span><span class="anchor" id="line-441"></span><span class="anchor" id="line-442"></span><pre><span class="anchor" id="line-1-38"></span>[DEFAULT]
<span class="anchor" id="line-2-17"></span>library_dirs = /home/sam/local/lib
<span class="anchor" id="line-3-12"></span>include_dirs = /home/sam/local/include</pre><span class="anchor" id="line-443"></span><span class="anchor" id="line-444"></span><p class="line874">In the same file, uncomment these lines: <span class="anchor" id="line-445"></span><span class="anchor" id="line-446"></span><span class="anchor" id="line-447"></span><span class="anchor" id="line-448"></span><span class="anchor" id="line-449"></span><span class="anchor" id="line-450"></span><span class="anchor" id="line-451"></span><span class="anchor" id="line-452"></span><span class="anchor" id="line-453"></span><span class="anchor" id="line-454"></span><span class="anchor" id="line-455"></span><span class="anchor" id="line-456"></span><span class="anchor" id="line-457"></span><pre><span class="anchor" id="line-1-39"></span>[blas_opt]
<span class="anchor" id="line-2-18"></span>libraries = ptf77blas, ptcblas, atlas
<span class="anchor" id="line-3-13"></span>
<span class="anchor" id="line-4-6"></span>[lapack_opt]
<span class="anchor" id="line-5-5"></span>libraries = lapack, ptf77blas, ptcblas, atlas
<span class="anchor" id="line-6-5"></span>
<span class="anchor" id="line-7-5"></span>[amd]
<span class="anchor" id="line-8-3"></span>amd_libs = amd
<span class="anchor" id="line-9-3"></span>
<span class="anchor" id="line-10-2"></span>[umfpack]
<span class="anchor" id="line-11-2"></span>umfpack_libs = umfpack</pre><span class="anchor" id="line-458"></span><span class="anchor" id="line-459"></span><p class="line874">For a single core machine, uncomment these lines: <span class="anchor" id="line-460"></span><span class="anchor" id="line-461"></span><span class="anchor" id="line-462"></span><span class="anchor" id="line-463"></span><span class="anchor" id="line-464"></span><span class="anchor" id="line-465"></span><pre><span class="anchor" id="line-1-40"></span>[blas_opt]
<span class="anchor" id="line-2-19"></span>libraries = f77blas, cblas, atlas
<span class="anchor" id="line-3-14"></span>[lapack_opt]
<span class="anchor" id="line-4-7"></span>libraries = lapack, f77blas, cblas, atlas</pre><span class="anchor" id="line-466"></span><span class="anchor" id="line-467"></span><p class="line874">Then use the standard installation technique <span class="anchor" id="line-468"></span><span class="anchor" id="line-469"></span><span class="anchor" id="line-470"></span><span class="anchor" id="line-471"></span><pre><span class="anchor" id="line-1-41"></span>python setup.py build
<span class="anchor" id="line-2-20"></span>python setup.py install --prefix=/home/sam/local</pre><span class="anchor" id="line-472"></span><span class="anchor" id="line-473"></span><p class="line867">
<h2 id="Step_5:_Build_scipy.280.8.0.29">Step 5: Build scipy(0.8.0)</h2>
<span class="anchor" id="line-474"></span><p class="line874">Make sure that $HOME/local/bin is in $PATH (for f2py) and $PYTHONPATH contains $HOME/local/lib/python-2.6/site-packages (for numpy) <span class="anchor" id="line-475"></span><span class="anchor" id="line-476"></span><p class="line874">Do a standard install <span class="anchor" id="line-477"></span><span class="anchor" id="line-478"></span><span class="anchor" id="line-479"></span><span class="anchor" id="line-480"></span><pre><span class="anchor" id="line-1-42"></span>python setup.py build
<span class="anchor" id="line-2-21"></span>python setup.py install --prefix=/home/sam/local</pre><span class="anchor" id="line-481"></span><span class="anchor" id="line-482"></span><p class="line867">
<h1 id="Building_everything_from_source_with_gfortran_on_Ubuntu_.28Feb_2008.29">Building everything from source with gfortran on Ubuntu (Feb 2008)</h1>
<span class="anchor" id="line-483"></span><span class="anchor" id="line-484"></span><p class="line874">This is how I built everything from source on a 64 bit Ubuntu system with latest versions as of February 2008. It took me some time to work out the issues so I thought I'd put the details here. I believe it should work the same on 32 bit systems (leaving out 64 bit related options). <span class="anchor" id="line-485"></span><span class="anchor" id="line-486"></span><p class="line867">
<h2 id="Install_required_packages-1">Install required packages</h2>
<span class="anchor" id="line-487"></span><span class="anchor" id="line-488"></span><p class="line867"><span class="anchor" id="line-489"></span><span class="anchor" id="line-490"></span><pre><span class="anchor" id="line-1-43"></span>sudo apt-get install build-essential python-dev swig gfortran</pre><span class="anchor" id="line-491"></span><span class="anchor" id="line-492"></span><p class="line874">Install nose (easy_install nose). Do not install python-nose, it is an earlier version that doesn't work with scipy. Also make sure g77 is not installed. Distutils will not use gfortran if g77 is installed. <span class="anchor" id="line-493"></span><span class="anchor" id="line-494"></span><p class="line867"><span class="anchor" id="line-495"></span><span class="anchor" id="line-496"></span><span class="anchor" id="line-497"></span><span class="anchor" id="line-498"></span><span class="anchor" id="line-499"></span><pre><span class="anchor" id="line-1-44"></span>sudo apt-get remove python-nose
<span class="anchor" id="line-2-22"></span>sudo apt-get remove g77
<span class="anchor" id="line-3-15"></span>sudo apt-get install python-setuptools
<span class="anchor" id="line-4-8"></span>sudo easy_install nose</pre><span class="anchor" id="line-500"></span><span class="anchor" id="line-501"></span><span class="anchor" id="line-502"></span><p class="line867">
<h2 id="Build_lapack_.283.1.1.29">Build lapack (3.1.1)</h2>
<span class="anchor" id="line-503"></span><span class="anchor" id="line-504"></span><p class="line874">As described above, copy make.inc.gfortran, add -fPIC flags (and -m64 if building 64 bit) to OPTS and NOOPT. Run make in SRC directory. <span class="anchor" id="line-505"></span><span class="anchor" id="line-506"></span><p class="line867">
<h2 id="Build_ATLAS_.283.8.0.29">Build ATLAS (3.8.0)</h2>
<span class="anchor" id="line-507"></span><span class="anchor" id="line-508"></span><p class="line874">As described above untar, create a directory for your build in ATLAS and run configure (add option '-b 64' for 64 bit). <span class="anchor" id="line-509"></span><span class="anchor" id="line-510"></span><p class="line867"><span class="anchor" id="line-511"></span><span class="anchor" id="line-512"></span><span class="anchor" id="line-513"></span><span class="anchor" id="line-514"></span><pre><span class="anchor" id="line-1-45"></span>sudo cpufreq-selector -g performance
<span class="anchor" id="line-2-23"></span>../configure -b 64 -Fa alg -fPIC --with-netlib-lapack=/path/to/lapack/lapack_&lt;XXXX&gt;.a
<span class="anchor" id="line-3-16"></span>make</pre><span class="anchor" id="line-515"></span><span class="anchor" id="line-516"></span><p class="line874">Copy the libraries to a lib directory (/usr/local/lib or ~/scipy_build/lib for example). I found it's easier to copy all needed libraries and files to a common directory. <span class="anchor" id="line-517"></span><span class="anchor" id="line-518"></span><p class="line867">
<h2 id="Build_UMFPACK_.285.2.0.29">Build UMFPACK (5.2.0)</h2>
<span class="anchor" id="line-519"></span><span class="anchor" id="line-520"></span><p class="line874">Get the latest versions of AMD, UFconfig and UMFPACK and untar them into a directory. <span class="anchor" id="line-521"></span><span class="anchor" id="line-522"></span><p class="line874">UFconfig/UFconfig.mk should contain: <span class="anchor" id="line-523"></span><span class="anchor" id="line-524"></span><span class="anchor" id="line-525"></span><span class="anchor" id="line-526"></span><span class="anchor" id="line-527"></span><span class="anchor" id="line-528"></span><span class="anchor" id="line-529"></span><span class="anchor" id="line-530"></span><span class="anchor" id="line-531"></span><pre><span class="anchor" id="line-1-46"></span>CC = gcc
<span class="anchor" id="line-2-24"></span>CFLAGS = -O3 -fexceptions -m64 -fPIC
<span class="anchor" id="line-3-17"></span>F77 = gfortran
<span class="anchor" id="line-4-9"></span>F77FLAGS = -O -m64 -fPIC
<span class="anchor" id="line-5-6"></span>
<span class="anchor" id="line-6-6"></span>BLAS = -L/usr/lib/gcc/x86_64-linux-gnu/4.2.1 -L/home/robince/scipy_build/lib -llapack -lf77blas -lcblas -latlas -lgfortran
<span class="anchor" id="line-7-6"></span>LAPACK = -L/usr/lib/gcc/x86_64-linux-gnu/4.2.1 -L/home/robince/scipy_build/lib -llapack -lf77blas -lcblas -latlas -lgfortran</pre><span class="anchor" id="line-532"></span><span class="anchor" id="line-533"></span><p class="line874">On a 32 bit system, remove the -m64 flags and change the first -L option to -L/usr/lib/gcc/i486-linux-gnu/4.2.1. <span class="anchor" id="line-534"></span><span class="anchor" id="line-535"></span><p class="line874">Run 'make' in UMFPACK directory. Copy resulting libraries and include files. <span class="anchor" id="line-536"></span><span class="anchor" id="line-537"></span><p class="line867"><span class="anchor" id="line-538"></span><span class="anchor" id="line-539"></span><span class="anchor" id="line-540"></span><span class="anchor" id="line-541"></span><span class="anchor" id="line-542"></span><span class="anchor" id="line-543"></span><pre><span class="anchor" id="line-1-47"></span>cp AMD/Lib/libamd.a ~/scipy_build/lib
<span class="anchor" id="line-2-25"></span>cp UMFPACK/Lib/libumfpack.a ~/scipy_build/lib
<span class="anchor" id="line-3-18"></span>cp AMD/Include/amd.h ~/scipy_build/lib/include
<span class="anchor" id="line-4-10"></span>cp UFconfig/UFconfig.h ~/scipy_build/lib/include
<span class="anchor" id="line-5-7"></span>cp UMFPACK/Include/*.h ~/scipy_build/lib/include</pre><span class="anchor" id="line-544"></span><span class="anchor" id="line-545"></span><p class="line874">Copy libgfortran into scipy library directory (doesn't seem to work if it doesn't find the umfpack_libs together). <span class="anchor" id="line-546"></span><span class="anchor" id="line-547"></span><p class="line867"><span class="anchor" id="line-548"></span><span class="anchor" id="line-549"></span><pre><span class="anchor" id="line-1-48"></span>cp /usr/lib/gcc/x86_64-linux-gnu/4.2/libgfortran.* ~/scipy_build/lib/</pre><span class="anchor" id="line-550"></span><span class="anchor" id="line-551"></span><span class="anchor" id="line-552"></span><p class="line867">
<h2 id="Build_FFTW_.283.1.2.29">Build FFTW (3.1.2)</h2>
<span class="anchor" id="line-553"></span><p class="line867">
<h3 id="SciPy_Versions_.3E.3D_0.7_and_Numpy_.3E.3D_1.2">SciPy Versions &gt;= 0.7 and Numpy &gt;= 1.2</h3>
<span class="anchor" id="line-554"></span><p class="line862">Because of license, configuration, and maintenance issues support for FFTW was removed in versions of <a href="../SciPy.html">SciPy</a> &gt;= 0.7 and <a class="nonexistent" href="../NumPy.html">NumPy</a> &gt;= 1.2.  Instead now uses a built-in version of fftpack. <span class="anchor" id="line-555"></span><span class="anchor" id="line-556"></span><p class="line874">There are a couple ways to take advantage of the speed of FFTW if necessary for your analysis. <span class="anchor" id="line-557"></span><ol type="1"><li>Downgrade to a Numpy/Scipy version that includes support. <span class="anchor" id="line-558"></span></li><li><p class="line862">Install or create your own wrapper of FFTW.  See <a class="http" href="../../external.html?link=http://developer.berlios.de/projects/pyfftw/">http://developer.berlios.de/projects/pyfftw/</a> as an un-endorsed example. <span class="anchor" id="line-559"></span><span class="anchor" id="line-560"></span></li></ol><p class="line867">
<h3 id="SciPy_Versions_.3C_0.7_and_Numpy_.3C_1.2">SciPy Versions &lt; 0.7 and Numpy &lt; 1.2</h3>
<span class="anchor" id="line-561"></span><p class="line874">After untarring, run configure. I ran configure first and extracted the suggested FLAGS from the Makefile, then added -fPIC and -m64. (Not sure if this is necessary) <span class="anchor" id="line-562"></span><span class="anchor" id="line-563"></span><span class="anchor" id="line-564"></span><span class="anchor" id="line-565"></span><span class="anchor" id="line-566"></span><pre><span class="anchor" id="line-1-49"></span>./configure --enable-sse2 --enable-threads --with-combined-threads CFLAGS=&quot;-O3 -fomit-frame-pointer -fstrict-aliasing -ffast-math -pthread -fPIC -m64&quot; FFLAGS=&quot;-g -O2 -fPIC -m64&quot; CXXFLAGS=&quot;-g -O2 -fPIC -m64&quot;
<span class="anchor" id="line-2-26"></span>make
<span class="anchor" id="line-3-19"></span>sudo make install</pre><span class="anchor" id="line-567"></span><span class="anchor" id="line-568"></span><p class="line867">
<h2 id="Build_Numpy_and_Scipy">Build Numpy and Scipy</h2>
<span class="anchor" id="line-569"></span><span class="anchor" id="line-570"></span><p class="line874">Set the following entries in site.cfg (this will also work with fftw if it has been compiled and installed in the default location (/usr/local): <span class="anchor" id="line-571"></span><span class="anchor" id="line-572"></span><span class="anchor" id="line-573"></span><span class="anchor" id="line-574"></span><span class="anchor" id="line-575"></span><span class="anchor" id="line-576"></span><span class="anchor" id="line-577"></span><span class="anchor" id="line-578"></span><span class="anchor" id="line-579"></span><span class="anchor" id="line-580"></span><span class="anchor" id="line-581"></span><span class="anchor" id="line-582"></span><span class="anchor" id="line-583"></span><span class="anchor" id="line-584"></span><span class="anchor" id="line-585"></span><span class="anchor" id="line-586"></span><span class="anchor" id="line-587"></span><pre><span class="anchor" id="line-1-50"></span>[DEFAULT]
<span class="anchor" id="line-2-27"></span>library_dirs = /usr/local/lib:/home/robince/scipy_build/lib
<span class="anchor" id="line-3-20"></span>include_dirs = /usr/local/include:/home/robince/scipy_build/lib/include
<span class="anchor" id="line-4-11"></span>
<span class="anchor" id="line-5-8"></span>[atlas]
<span class="anchor" id="line-6-7"></span>atlas_libs = lapack, f77blas, cblas, atlas
<span class="anchor" id="line-7-7"></span>
<span class="anchor" id="line-8-4"></span>[amd]
<span class="anchor" id="line-9-4"></span>amd_libs = amd
<span class="anchor" id="line-10-3"></span>
<span class="anchor" id="line-11-3"></span>[umfpack]
<span class="anchor" id="line-12-2"></span>umfpack_libs = umfpack, gfortran
<span class="anchor" id="line-13-2"></span>
<span class="anchor" id="line-14-1"></span>[fftw]
<span class="anchor" id="line-15-1"></span>libraries = fftw3</pre><span class="anchor" id="line-588"></span><span class="anchor" id="line-589"></span><p class="line874">Build Numpy and Scipy. <span class="anchor" id="line-590"></span><span class="anchor" id="line-591"></span><span class="anchor" id="line-592"></span><span class="anchor" id="line-593"></span><pre><span class="anchor" id="line-1-51"></span>python setup.py build
<span class="anchor" id="line-2-28"></span>sudo python setup.py install</pre><span class="anchor" id="line-594"></span><span class="anchor" id="line-595"></span><span class="anchor" id="line-596"></span><p class="line867">
<h1 id="Any_distribution_with_Intel_C_compiler_and_MKL">Any distribution with Intel C compiler and MKL</h1>
<span class="anchor" id="line-597"></span><span class="anchor" id="line-598"></span><p class="line862">The <a class="http" href="../../external.html?link=http://software.intel.com/en-us/articles/intel-compilers/">Intel C compiler</a> and <a class="http" href="../../external.html?link=http://software.intel.com/en-us/articles/intel-mkl/">Intel MKL</a> are free for personal non-commercial use on Linux. <span class="anchor" id="line-599"></span><span class="anchor" id="line-600"></span><p class="line867">
<h2 id="Intel_MKL_11.0_.28updated_Dec_2012.29">Intel MKL 11.0 (updated Dec 2012)</h2>
<span class="anchor" id="line-601"></span><p class="line862">Add the following lines to site.cfg in your top level NumPy directory to use Intel® MKL for Intel® 64 (or earlier known as em64t) architecture, considering the default installation path of Intel® MKL which is bundled with Intel® Composer XE SP1 version on Linux: <span class="anchor" id="line-602"></span><span class="anchor" id="line-603"></span><p class="line867"><span class="anchor" id="line-604"></span><span class="anchor" id="line-605"></span><span class="anchor" id="line-606"></span><span class="anchor" id="line-607"></span><span class="anchor" id="line-608"></span><pre><span class="anchor" id="line-1-52"></span>[mkl]
<span class="anchor" id="line-2-29"></span>library_dirs = /opt/intel/composer_xe_2013/mkl/lib/intel64
<span class="anchor" id="line-3-21"></span>include_dirs = /opt/intel/composer_xe_2013/mkl/include
<span class="anchor" id="line-4-12"></span>mkl_libs = mkl_intel_lp64,mkl_intel_thread,mkl_core</pre><span class="anchor" id="line-609"></span><span class="anchor" id="line-610"></span><p class="line862">If you are building NumPy for 32 bit, please add as the following <span class="anchor" id="line-611"></span><span class="anchor" id="line-612"></span><span class="anchor" id="line-613"></span><span class="anchor" id="line-614"></span><span class="anchor" id="line-615"></span><span class="anchor" id="line-616"></span><pre><span class="anchor" id="line-1-53"></span>[mkl]
<span class="anchor" id="line-2-30"></span>library_dirs = /opt/intel/composer_xe_2013/mkl/lib/ia32
<span class="anchor" id="line-3-22"></span>include_dirs = /opt/intel/composer_xe_2013/mkl/include
<span class="anchor" id="line-4-13"></span>mkl_libs = mkl_intel,mkl_intel_thread,mkl_core</pre><span class="anchor" id="line-617"></span><span class="anchor" id="line-618"></span><p class="line874">Instead of the layered linking approach for the Intel® MKL as shown above, you may also use the dynamic interface lib mkl_rt.lib. <span class="anchor" id="line-619"></span>So, for both the ia32 and intel64 architecture make the change as below <span class="anchor" id="line-620"></span><span class="anchor" id="line-621"></span><span class="anchor" id="line-622"></span><pre><span class="anchor" id="line-1-54"></span>mkl_libs = mkl_rt</pre><span class="anchor" id="line-623"></span><span class="anchor" id="line-624"></span><p class="line874">Modify cc_exe in numpy/numpy/distutils/intelccompiler.py to be something like: <span class="anchor" id="line-625"></span><span class="anchor" id="line-626"></span><span class="anchor" id="line-627"></span><pre><span class="anchor" id="line-1-55"></span>cc_exe = 'icc -O2 -g -openmp -avx'</pre><span class="anchor" id="line-628"></span><p class="line862">Here we use, default optimizations (-O2), OpenMP threading (-openmp) and Intel® AVX optimizations for Intel® Xeon E5 or E3 Series which are based on Intel® <a class="nonexistent" href="../SandyBridge.html">SandyBridge</a> Architecture (-avx).  Run icc --help for more information on processor-specific options. <span class="anchor" id="line-629"></span><span class="anchor" id="line-630"></span><p class="line862">Compile and install NumPy with the Intel compiler (on 64-bit platforms replace &quot;intel&quot; with &quot;intelem&quot;): <span class="anchor" id="line-631"></span><span class="anchor" id="line-632"></span><span class="anchor" id="line-633"></span><pre><span class="anchor" id="line-1-56"></span>python setup.py config --compiler=intel build_clib --compiler=intel build_ext --compiler=intel install</pre><span class="anchor" id="line-634"></span><span class="anchor" id="line-635"></span><p class="line862">Compile and install SciPy with the Intel compilers (on 64-bit platforms replace &quot;intel&quot; with &quot;intelem&quot;): <span class="anchor" id="line-636"></span><span class="anchor" id="line-637"></span><p class="line867"><span class="anchor" id="line-638"></span><span class="anchor" id="line-639"></span><pre><span class="anchor" id="line-1-57"></span>python setup.py config --compiler=intel --fcompiler=intel build_clib --compiler=intel --fcompiler=intel build_ext --compiler=intel --fcompiler=intel install</pre><span class="anchor" id="line-640"></span><span class="anchor" id="line-641"></span><p class="line862">You'll have to set LD_LIBRARY_PATH to Intel® MKL libraries (exact values will depend on your architecture, compiler and library versions) and OpenMP library for <a class="nonexistent" href="../NumPy.html">NumPy</a> to work.  If you build NumPy for Intel® 64 platforms: <span class="anchor" id="line-642"></span><span class="anchor" id="line-643"></span><span class="anchor" id="line-644"></span><pre><span class="anchor" id="line-1-58"></span>$export LD_LIBRARY_PATH=/opt/intel/composer_xe_2013/mkl/lib/intel64: /opt/intel/composer_xe_2013/compiler/lib/intel64:$LD_LIBRARY_PATH</pre><span class="anchor" id="line-645"></span><p class="line862">If you build NumPy for ia32 bit platforms: <span class="anchor" id="line-646"></span><span class="anchor" id="line-647"></span><span class="anchor" id="line-648"></span><pre><span class="anchor" id="line-1-59"></span>$export LD_LIBRARY_PATH=/opt/intel/composer_xe_2013/mkl/lib/ia32: /opt/intel/composer_xe_2013/compiler/lib/ia32:$LD_LIBRARY_PATH</pre><span class="anchor" id="line-649"></span><span class="anchor" id="line-650"></span><p class="line867">
<h2 id="Intel_MKL_10.0">Intel MKL 10.0</h2>
<span class="anchor" id="line-651"></span><p class="line862">The above instructions must be slightly modified to install <a class="nonexistent" href="../NumPy.html">NumPy</a> 1.6 with Intel MKL 10.0 on a 64-bit Red Hat 4 system.  If threading is desired, set <span class="anchor" id="line-652"></span><span class="anchor" id="line-653"></span><p class="line867"><tt>mkl_libs&nbsp;=&nbsp;mkl_intel_lp64,&nbsp;mkl_intel_thread,&nbsp;mkl_core,&nbsp;guide</tt> <span class="anchor" id="line-654"></span><span class="anchor" id="line-655"></span><p class="line862">Ensure that the <strong>-openmp</strong> compile flag is passed to the Intel Fortran Compiler (NOT the C compiler). <span class="anchor" id="line-656"></span><span class="anchor" id="line-657"></span><p class="line874">If threading is not desired, set  <span class="anchor" id="line-658"></span><span class="anchor" id="line-659"></span><p class="line867"><tt>mkl_libs&nbsp;=&nbsp;mkl_intel_lp64,&nbsp;mkl_core</tt>. <span class="anchor" id="line-660"></span><span class="anchor" id="line-661"></span><p class="line867">
<h2 id="Older_information">Older information</h2>
<span class="anchor" id="line-662"></span><span class="anchor" id="line-663"></span><span class="anchor" id="line-664"></span><p class="line862">It is possible that LD_LIBRARY_PATH causes a problem, if you have installed MKL and Composer XE in other directories than the standard ones.  The only solution I've found that always works is to build Python, NumPy and SciPy inside an environment where you've set the LD_RUN_PATH variable, e.g: <span class="anchor" id="line-665"></span><span class="anchor" id="line-666"></span><span class="anchor" id="line-667"></span><pre><span class="anchor" id="line-1-60"></span>export LD_RUN_PATH=~/opt/lib:~/intel/composer_xe_2013/compiler/lib:~/intel/composer_xe_2013/mkl/lib/ia32</pre><span class="anchor" id="line-668"></span><span class="anchor" id="line-669"></span><p class="line862">Configure Python with <tt>--prefix=$HOME/opt</tt>, make, make install, add <tt>$HOME/opt/bin</tt> to the front of your PATH and then build NumPy and SciPy with the <tt>site.cfg</tt> as above in their top level directories (check the config step's output carefully to make sure it selects MKL). Built like this, you shouldn't have to set any LD_LIBRARY_PATH for NumPy and SciPy to work. Run the test suites to verify this. <span class="anchor" id="line-670"></span><span class="anchor" id="line-671"></span><p class="line867">
<h1 id="Any_Linux_distro:_self-contained_local_installation_with_Sage.">Any Linux distro: self-contained local installation with Sage.</h1>
<span class="anchor" id="line-672"></span><p class="line874">All you need is some basic tools like gcc (no fortran).  <span class="anchor" id="line-673"></span><span class="anchor" id="line-674"></span><p class="line874">Follow the instructions here to build sage from source: <span class="anchor" id="line-675"></span><span class="anchor" id="line-676"></span><p class="line867"><a class="http" href="../../external.html?link=http://www.sagemath.org/doc/installation/source.html">http://www.sagemath.org/doc/installation/source.html</a> <span class="anchor" id="line-677"></span><span class="anchor" id="line-678"></span><p class="line862">All you have to do is unpack the tar and type <strong>make</strong>. This takes about 3 hours. <span class="anchor" id="line-679"></span><span class="anchor" id="line-680"></span><p class="line874">This will install sage in its own directory. python (and ipython) can be found in SAGEROOT/local/bin <span class="anchor" id="line-681"></span><span class="anchor" id="line-682"></span><p class="line874">If you don't want to have to type in absolute paths, you can set the environment variables to point to your sage executables. To do this, run sage with the -sh option. My .profile contains the line <span class="anchor" id="line-683"></span><span class="anchor" id="line-684"></span><p class="line874">~/Sage/sage -sh <span class="anchor" id="line-685"></span><span class="anchor" id="line-686"></span><p class="line867"><hr /><p class="line874"> <span class="anchor" id="line-687"></span><a href="../CategoryInstallation.html">CategoryInstallation</a> <span class="anchor" id="line-688"></span><span class="anchor" id="bottom"></span></div><p id="pageinfo" class="info" lang="en" dir="ltr">SciPy: Installing_SciPy/Linux  (last edited 2015-10-24 17:48:24 by <span title="">anonymous</span>)</p>

<div id="pagebottom"></div>
</div>


<div id="footer">
<ul class="editbar"><li class="toggleCommentsButton" style="display:none;"><a href="#" class="nbcomment" onClick="toggleComments();return false;">Comments</a></li><li><a class="nbattachments" href="Linux37dc.html?action=AttachFile" rel="nofollow">Attachments</a></li><li>
<form class="actionsmenu" method="GET" action="../../external.html?link=http://localhost:8080/Installing_SciPy/Linux">
<div>
    <label>More Actions:</label>
    <select name="action"
        onchange="if ((this.selectedIndex != 0) &&
                      (this.options[this.selectedIndex].disabled == false)) {
                this.form.submit();
            }
            this.selectedIndex = 0;">
        <option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="RenamePage" disabled class="disabled">Rename Page</option>
<option value="DeletePage" disabled class="disabled">Delete Page</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Subscribe User</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Remove Spam</option>
<option value="show" disabled class="disabled">Revert to this revision</option>
    </select>
    <input type="submit" value="Do">
    
</div>
<script type="text/javascript">
<!--// Init menu
actionsMenuInit('More Actions:');
//-->
</script>
</form>
</li></ul>

<ul id="credits">
<li><a href="../../external.html?link=http://moinmo.in/" title="This site uses the MoinMoin Wiki software.">MoinMoin Powered</a></li><li><a href="../../external.html?link=http://moinmo.in/Python" title="MoinMoin is written in Python.">Python Powered</a></li><li><a href="../../external.html?link=http://moinmo.in/GPL" title="MoinMoin is GPL licensed.">GPL licensed</a></li><li><a href="../../external.html?link=http://validator.w3.org/check?uri=referer" title="Click here to validate this page.">Valid HTML 4.01</a></li>
</ul>


</div>
</body>

<!-- Mirrored from localhost:8080/Installing_SciPy/Linux?highlight=%28%28Download%29%29 by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 29 Oct 2015 23:19:28 GMT -->
</html>

