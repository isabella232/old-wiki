<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>

<!-- Mirrored from localhost:8080/NegativeSquareRoot?action=recoverpass by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 29 Oct 2015 23:19:34 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<meta name="edit_on_doubleclick" content="/">
<meta name="robots" content="noindex,nofollow">

<title>NegativeSquareRoot - SciPy wiki dump</title>
<script type="text/javascript" src="moin_static197/common/js/common.js"></script>

<script type="text/javascript">
<!--
var search_hint = "Search";
//-->
</script>


<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="moin_static197/modern/css/common.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="screen" href="moin_static197/modern/css/screen.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="print" href="moin_static197/modern/css/print.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="projection" href="moin_static197/modern/css/projection.css">

<!-- css only for MS IE6/IE7 browsers -->
<!--[if lt IE 8]>
   <link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="/moin_static197/modern/css/msie.css">
<![endif]-->


<link rel="alternate" title="SciPy: NegativeSquareRoot" href="../external.html?link=http://localhost:8080/NegativeSquareRoot?diffs=1&amp;show_att=1&amp;action=rss_rc&amp;unique=0&amp;page=NegativeSquareRoot&amp;ddiffs=1" type="application/rss+xml">


<link rel="Start" href="AllPages.html">
<link rel="Alternate" title="Wiki Markup" href="../external.html?link=http://localhost:8080/NegativeSquareRoot?action=raw">
<link rel="Alternate" media="print" title="Print View" href="../external.html?link=http://localhost:8080/NegativeSquareRoot?action=print">
<link rel="Search" href="FindPage.html">
<link rel="Index" href="TitleIndex.html">
<link rel="Glossary" href="WordIndex.html">
<link rel="Help" href="HelpOnFormatting.html">
</head>

<body  lang="en" dir="ltr"><div style="background: white; width:100%; padding:2em;">This is an archival dump of old wiki content --- see <a href="http://scipy.org/">scipy.org</a> for current material</div>

<div id="header">


<form id="searchform" method="get" action="../external.html?link=http://localhost:8080/NegativeSquareRoot">
<div>
<input type="hidden" name="action" value="fullsearch">
<input type="hidden" name="context" value="180">
<label for="searchinput">Search:</label>
<input id="searchinput" type="text" name="value" value="" size="20"
    onfocus="searchFocus(this)" onblur="searchBlur(this)"
    onkeyup="searchChange(this)" onchange="searchChange(this)" alt="Search">
<input id="titlesearch" name="titlesearch" type="submit"
    value="Titles" alt="Search Titles">
<input id="fullsearch" name="fullsearch" type="submit"
    value="Text" alt="Search Full Text">
</div>
</form>
<script type="text/javascript">
<!--// Initialize search form
var f = document.getElementById('searchform');
f.getElementsByTagName('label')[0].style.display = 'none';
var e = document.getElementById('searchinput');
searchChange(e);
searchBlur(e);
//-->
</script>

<ul id="username"><li><a href="NegativeSquareRoot456e.html?action=login" id="login" rel="nofollow">Login</a></li></ul>
<div id="locationline">
<div id="interwiki"><span><a href="AllPages.html" rel="nofollow">SciPy</a></span></div>

<ul id="pagelocation">
<li><a class="backlink" href="NegativeSquareRoot9770.html?action=fullsearch&amp;context=180&amp;value=linkto%3A%22NegativeSquareRoot%22" rel="nofollow" title="Click to do a full-text search for this title">NegativeSquareRoot</a></li>
</ul>

</div>


<ul id="navibar">
<li class="wikilink"><a href="RecentChanges.html">RecentChanges</a></li><li class="wikilink"><a class="nonexistent" href="FindPage.html">FindPage</a></li><li class="wikilink"><a class="nonexistent" href="HelpContents.html">HelpContents</a></li><li class="current"><a href="NegativeSquareRoot.html">NegativeSquareRoot</a></li>
</ul>

<div id="pageline"><hr style="display:none;"></div>
<div id="message">
<p><div class="warning">This wiki is not enabled for mail processing.
Contact the owner of the wiki, who can enable email.</div></p><a class="clear-link" href="NegativeSquareRoot.html">Clear message</a>
</div>

<ul class="editbar"><li class="toggleCommentsButton" style="display:none;"><a href="#" class="nbcomment" onClick="toggleComments();return false;">Comments</a></li><li><a class="nbattachments" href="NegativeSquareRoot37dc.html?action=AttachFile" rel="nofollow">Attachments</a></li><li>
<form class="actionsmenu" method="GET" action="../external.html?link=http://localhost:8080/NegativeSquareRoot">
<div>
    <label>More Actions:</label>
    <select name="action"
        onchange="if ((this.selectedIndex != 0) &&
                      (this.options[this.selectedIndex].disabled == false)) {
                this.form.submit();
            }
            this.selectedIndex = 0;">
        <option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="RenamePage" disabled class="disabled">Rename Page</option>
<option value="DeletePage" disabled class="disabled">Delete Page</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Subscribe User</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Remove Spam</option>
<option value="show" disabled class="disabled">Revert to this revision</option>
    </select>
    <input type="submit" value="Do">
    
</div>
<script type="text/javascript">
<!--// Init menu
actionsMenuInit('More Actions:');
//-->
</script>
</form>
</li></ul>

</div>

<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en"><span class="anchor" id="top"></span>
<span class="anchor" id="line-1"></span><p class="line862">Every now and then, the behaviour of <tt class="backtick"></tt><tt class="backtick">sqrt</tt><tt class="backtick"></tt> for negative values is discussed on the mailing list.  Hopefully, by summarising <a class="nonexistent" href="%5bhttp_/thread.gmane.org/gmane.comp.python.numeric.general/8704/focus%3d8704.html">the latest thread</a>] here, we don't need to do so again in the future. <span class="anchor" id="line-2"></span><span class="anchor" id="line-3"></span><p class="line867">
<h2 id="Why_does_numpy.sqrt.28-1.29_return_nan.3F__Why_does_it_not_yield_1j.2C_which_is_surely_the_correct_answer.3F">Why does numpy.sqrt(-1) return nan?  Why does it not yield 1j, which is surely the correct answer?</h2>
<span class="anchor" id="line-4"></span><span class="anchor" id="line-5"></span><p class="line862">If you assume the domain of computation is the field of complex numbers, then yes, the above assumption is true -- that the square root of <tt class="backtick"></tt><tt class="backtick">-1</tt><tt class="backtick"></tt> is <tt class="backtick"></tt><tt class="backtick">1j</tt><tt class="backtick"></tt>.  However, <tt class="backtick"></tt><tt class="backtick">numpy</tt><tt class="backtick"></tt> supports many different data types, and in the context of these data types, the answer may vary. <span class="anchor" id="line-6"></span><span class="anchor" id="line-7"></span><p class="line862">By default, <tt class="backtick"></tt><tt class="backtick">numpy</tt><tt class="backtick"></tt> assumes that you are working with real numbers (which is a reasonable assumption).  What you are then asking <tt class="backtick"></tt><tt class="backtick">numpy</tt><tt class="backtick"></tt> is: &quot;What is the square root of <tt class="backtick"></tt><tt class="backtick">-1</tt><tt class="backtick"></tt> (but please limit your answer to real numbers)?&quot;.  Since the answer is <tt class="backtick"></tt><tt class="backtick">1j</tt><tt class="backtick"></tt>, numpy cannot provide a real value, so it rather yields <tt class="backtick"></tt><tt class="backtick">nan</tt><tt class="backtick"></tt>. <span class="anchor" id="line-8"></span><span class="anchor" id="line-9"></span><p class="line862">On the other hand, if you specifically ask <tt class="backtick"></tt><tt class="backtick">numpy</tt><tt class="backtick"></tt> for the complex answer in one of several ways, it will be happy to oblige: <span class="anchor" id="line-10"></span><span class="anchor" id="line-11"></span><p class="line867"><span class="anchor" id="line-12"></span><span class="anchor" id="line-13"></span><span class="anchor" id="line-14"></span><span class="anchor" id="line-15"></span><span class="anchor" id="line-16"></span><span class="anchor" id="line-17"></span><span class="anchor" id="line-18"></span><span class="anchor" id="line-1-1"></span><div class="highlight python"><div class="codearea" dir="ltr" lang="en"><pre dir="ltr" id="CA-1cad6e7a52a0db707987a9af3f8f974caf6fcc83" lang="en"><span class="line"><span class="anchor" id="line-1-2"></span><span class="ID">In</span> [<span class="Number">49</span>]: <span class="ID">N</span>.<span class="ID">sqrt</span>(-<span class="Number">1</span>+<span class="Number">0j</span>)</span>
<span class="line"><span class="anchor" id="line-2-1"></span><span class="ID">Out</span>[<span class="Number">49</span>]: <span class="Number">1j</span></span>
<span class="line"><span class="anchor" id="line-3-1"></span><span class="ID">In</span> [<span class="Number">50</span>]: <span class="ID">N</span>.<span class="ID">sqrt</span>(<span class="ResWord">complex</span>(-<span class="Number">1</span>))</span>
<span class="line"><span class="anchor" id="line-4-1"></span><span class="ID">Out</span>[<span class="Number">50</span>]: <span class="Number">1j</span></span>
<span class="line"><span class="anchor" id="line-5-1"></span><span class="ID">In</span> [<span class="Number">50</span>]: <span class="ID">N</span>.<span class="ID">sqrt</span>(<span class="ID">N</span>.<span class="ID">asarray</span>(-<span class="Number">1</span>,<span class="ID">dtype</span>=<span class="ResWord">complex</span>))</span>
<span class="line"><span class="anchor" id="line-6-1"></span><span class="ID">Out</span>[<span class="Number">50</span>]: <span class="Number">1j</span></span>
</pre></div></div><span class="anchor" id="line-19"></span><span class="anchor" id="line-20"></span><p class="line862">Simply put, <tt class="backtick"></tt><tt class="backtick">sqrt</tt><tt class="backtick"></tt>'s output is of the same type as the input (<tt class="backtick"></tt><tt class="backtick">numpy</tt><tt class="backtick"></tt> does no checking).  The only exception is for integers, in which case <tt class="backtick"></tt><tt class="backtick">sqrt</tt><tt class="backtick"></tt> returns floats. <span class="anchor" id="line-21"></span><span class="anchor" id="line-22"></span><p class="line867">
<h2 id="Why_can.27t_numpy_just_provide_complex_numbers_by_default.3F">Why can't numpy just provide complex numbers by default?</h2>
<span class="anchor" id="line-23"></span><span class="anchor" id="line-24"></span><p class="line862">Imagine having to calculate the square roots of a large array of numbers.  If numpy calculates complex answers, that would mean that the complex answer would take up twice as much memory as the real answer.  Clearly, this case is not a desirable default.  Of course, <tt class="backtick"></tt><tt class="backtick">numpy</tt><tt class="backtick"></tt> could check whether negative numbers are present, and only *then* calculate complex answers, but again, this leads to inconsistent behaviour.  Furthermore, if a user wants to operate on positive real numbers only, why burden his calculations with the extra time-consuming complexity? <span class="anchor" id="line-25"></span><span class="anchor" id="line-26"></span><p class="line867">
<h2 id="How_can_I_change_the_default_behaviour.3F">How can I change the default behaviour?</h2>
<span class="anchor" id="line-27"></span><span class="anchor" id="line-28"></span><p class="line867"><tt class="backtick"></tt><tt class="backtick">Numpy</tt><tt class="backtick"></tt> provides functions to automatically return complex numbers for negative real arguments.  These reside in <tt class="backtick"></tt><tt class="backtick">numpy.lib.scimath</tt><tt class="backtick"></tt> and can be imported using <span class="anchor" id="line-29"></span><span class="anchor" id="line-30"></span><p class="line867"><span class="anchor" id="line-31"></span><span class="anchor" id="line-32"></span><span class="anchor" id="line-1-3"></span><div class="highlight python"><div class="codearea" dir="ltr" lang="en"><pre dir="ltr" id="CA-486342e8d0ff2290867425d61dd681d2216d860d" lang="en"><span class="line"><span class="anchor" id="line-1-4"></span><span class="ResWord">from</span> <span class="ID">numpy.lib.scimath</span> <span class="ResWord">import</span> *</span>
</pre></div></div><span class="anchor" id="line-33"></span><span class="anchor" id="line-34"></span><p class="line862">to replace <tt class="backtick"></tt><tt class="backtick">sqrt</tt><tt class="backtick"></tt> in the current namespace.   <span class="anchor" id="line-35"></span><span class="anchor" id="line-36"></span><p class="line874">However, it is better style to use <span class="anchor" id="line-37"></span><span class="anchor" id="line-38"></span><p class="line867"><span class="anchor" id="line-39"></span><span class="anchor" id="line-40"></span><span class="anchor" id="line-41"></span><span class="anchor" id="line-1-5"></span><div class="highlight python"><div class="codearea" dir="ltr" lang="en"><pre dir="ltr" id="CA-fcfcbe01f272e56e8d42a4f342d8aa6416f6b5fa" lang="en"><span class="line"><span class="anchor" id="line-1-6"></span><span class="ResWord">from</span> <span class="ID">numpy.lib</span> <span class="ResWord">import</span> <span class="ID">scimath</span> <span class="ResWord">as</span> <span class="ID">SM</span></span>
<span class="line"><span class="anchor" id="line-2-2"></span><span class="ID">SM</span>.<span class="ID">sqrt</span>(-<span class="Number">1</span>)</span>
</pre></div></div><span class="anchor" id="line-42"></span><span class="anchor" id="line-43"></span><p class="line862">Note that this doesn't actually change the default behavior.  Still <tt class="backtick"></tt><tt class="backtick">numpy.sqrt(-1)</tt><tt class="backtick"></tt> will return <tt class="backtick"></tt><tt class="backtick">nan</tt><tt class="backtick"></tt>.  It just makes the version of sqrt that checks for complex results more accessible via <tt class="backtick"></tt><tt class="backtick">SM.sqrt</tt><tt class="backtick"></tt> instead of <tt class="backtick"></tt><tt class="backtick">numpy.lib.scimath.sqrt</tt><tt class="backtick"></tt>. <span class="anchor" id="line-44"></span><span class="anchor" id="line-45"></span><p class="line874">Another alternative is to take advantage of the fact that any python file is a module, and make a mini-module that makes complex behavior the default.  Then you just import that instead of numpy. <span class="anchor" id="line-46"></span><span class="anchor" id="line-47"></span><span class="anchor" id="line-48"></span><span class="anchor" id="line-49"></span><span class="anchor" id="line-50"></span><span class="anchor" id="line-1-7"></span><div class="highlight python"><div class="codearea" dir="ltr" lang="en"><pre dir="ltr" id="CA-2ff4337fa4d5d441044436a2906e999635287aea" lang="en"><span class="line"><span class="anchor" id="line-1-8"></span><span class="Comment"># File: cnumpy.py</span></span>
<span class="line"><span class="anchor" id="line-2-3"></span><span class="ResWord">from</span> <span class="ID">numpy</span> <span class="ResWord">import</span> *</span>
<span class="line"><span class="anchor" id="line-3-2"></span><span class="ResWord">from</span> <span class="ID">numpy.lib.scimath</span> <span class="ResWord">import</span> *</span>
</pre></div></div><span class="anchor" id="line-51"></span><p class="line862">Then from your files, or from the interpreter, you use your <tt class="backtick"></tt><tt class="backtick">cnumpy</tt><tt class="backtick"></tt> module like so: <span class="anchor" id="line-52"></span><span class="anchor" id="line-53"></span><span class="anchor" id="line-54"></span><span class="anchor" id="line-55"></span><span class="anchor" id="line-56"></span><span class="anchor" id="line-57"></span><span class="anchor" id="line-58"></span><span class="anchor" id="line-59"></span><span class="anchor" id="line-60"></span><span class="anchor" id="line-1-9"></span><div class="highlight python"><div class="codearea" dir="ltr" lang="en"><pre dir="ltr" id="CA-73e3d71b448b58fbf14a0452728554df8d97b190" lang="en"><span class="line"><span class="anchor" id="line-1-10"></span>&gt;&gt;&gt; <span class="ResWord">import</span> <span class="ID">cnumpy</span></span>
<span class="line"><span class="anchor" id="line-2-4"></span>&gt;&gt;&gt; <span class="ID">cnumpy</span>.<span class="ID">sqrt</span>(-<span class="Number">1</span>)</span>
<span class="line"><span class="anchor" id="line-3-3"></span><span class="Number">1j</span></span>
<span class="line"><span class="anchor" id="line-4-2"></span>&gt;&gt;&gt; <span class="ID">a</span> = <span class="ID">cnumpy</span>.<span class="ID">ones</span>((<span class="Number">2</span>,<span class="Number">2</span>)) * -<span class="Number">1</span></span>
<span class="line"><span class="anchor" id="line-5-2"></span>&gt;&gt;&gt; <span class="ID">cnumpy</span>.<span class="ID">sqrt</span>(<span class="ID">a</span>)</span>
<span class="line"><span class="anchor" id="line-6-2"></span><span class="ID">array</span>([[ <span class="Number">0.</span> +<span class="Number">1.00000000e+00j</span>,  <span class="Number">0.</span> +<span class="Number">1.00000000e+00j</span>],</span>
<span class="line"><span class="anchor" id="line-7-1"></span>       [ <span class="Number">0.</span> +<span class="Number">1.00000000e+00j</span>,  <span class="Number">0.</span> +<span class="Number">1.00000000e+00j</span>]])</span>
</pre></div></div><span class="anchor" id="line-61"></span><span class="anchor" id="line-62"></span><p class="line862">In all respects it looks just like a new version of <tt class="backtick"></tt><tt class="backtick">numpy</tt><tt class="backtick"></tt> that happens to return <tt class="backtick"></tt><tt class="backtick">1j</tt><tt class="backtick"></tt> for <tt class="backtick"></tt><tt class="backtick">sqrt(-1)</tt><tt class="backtick"></tt>. <span class="anchor" id="line-63"></span><span class="anchor" id="line-64"></span><p class="line867">
<h4 id="Changing_error_reporting_behavior">Changing error reporting behavior</h4>
<span class="anchor" id="line-65"></span><span class="anchor" id="line-66"></span><p class="line862">The <tt class="backtick"></tt><tt class="backtick">numpy</tt><tt class="backtick"></tt> error handler can also be asked to complain if negative values are passed to <tt class="backtick"></tt><tt class="backtick">sqrt</tt><tt class="backtick"></tt>: <span class="anchor" id="line-67"></span><span class="anchor" id="line-68"></span><p class="line867"><span class="anchor" id="line-69"></span><span class="anchor" id="line-70"></span><span class="anchor" id="line-71"></span><span class="anchor" id="line-72"></span><span class="anchor" id="line-73"></span><span class="anchor" id="line-74"></span><span class="anchor" id="line-75"></span><span class="anchor" id="line-76"></span><span class="anchor" id="line-77"></span><span class="anchor" id="line-78"></span><span class="anchor" id="line-79"></span><span class="anchor" id="line-80"></span><span class="anchor" id="line-81"></span><span class="anchor" id="line-82"></span><span class="anchor" id="line-83"></span><span class="anchor" id="line-84"></span><span class="anchor" id="line-85"></span><span class="anchor" id="line-86"></span><span class="anchor" id="line-87"></span><span class="anchor" id="line-1-11"></span><div class="highlight python"><div class="codearea" dir="ltr" lang="en"><pre dir="ltr" id="CA-9d24fbfb32753594b263b87b703e54c891c96ab2" lang="en"><span class="line"><span class="anchor" id="line-1-12"></span><span class="ID">In</span> [<span class="Number">1</span>]: <span class="ID">N</span>.<span class="ID">sqrt</span>(-<span class="Number">1</span>)</span>
<span class="line"><span class="anchor" id="line-2-5"></span><span class="ID">Out</span>[<span class="Number">1</span>]: <span class="ID">nan</span></span>
<span class="line"><span class="anchor" id="line-3-4"></span></span>
<span class="line"><span class="anchor" id="line-4-3"></span><span class="ID">In</span> [<span class="Number">2</span>]: <span class="ID">saved_error_handler</span> = <span class="ID">N</span>.<span class="ID">seterr</span>(<span class="ID">invalid</span>=<span class="String">'</span><span class="String">raise</span><span class="String">'</span>) <span class="Comment"># or 'warn'</span></span>
<span class="line"><span class="anchor" id="line-5-3"></span></span>
<span class="line"><span class="anchor" id="line-6-3"></span><span class="ID">In</span> [<span class="Number">3</span>]: <span class="ID">N</span>.<span class="ID">sqrt</span>(-<span class="Number">1</span>)</span>
<span class="line"><span class="anchor" id="line-7-2"></span>---------------------------------------------------------------------------</span>
<span class="line"><span class="anchor" id="line-8-1"></span><span class="ID">exceptions</span>.<span class="ID">FloatingPointError</span>                        <span class="ID">Traceback</span> (<span class="ID">most</span> <span class="ID">recent</span> <span class="ID">call</span> <span class="ID">last</span>)</span>
<span class="line"><span class="anchor" id="line-9-1"></span></span>
<span class="line"><span class="anchor" id="line-10-1"></span>/<span class="ID">home</span>/<span class="ID">stefan</span>/<span class="ID">work</span>/<span class="ID">prasa2006</span>/&lt;<span class="ID">ipython</span> <span class="ID">console</span>&gt; </span>
<span class="line"><span class="anchor" id="line-11-1"></span></span>
<span class="line"><span class="anchor" id="line-12-1"></span><span class="ID">FloatingPointError</span>: <span class="ID">invalid</span> <span class="ID">encountered</span> <span class="ResWord">in</span> <span class="ID">sqrt</span></span>
<span class="line"><span class="anchor" id="line-13-1"></span></span>
<span class="line"><span class="anchor" id="line-14-1"></span><span class="ID">In</span> [<span class="Number">4</span>]: <span class="ID">N</span>.<span class="ID">seterr</span>(**<span class="ID">saved_error_handler</span>)</span>
<span class="line"><span class="anchor" id="line-15-1"></span><span class="ID">Out</span>[<span class="Number">4</span>]: {<span class="String">'</span><span class="String">over</span><span class="String">'</span>: <span class="String">'</span><span class="String">ignore</span><span class="String">'</span>, <span class="String">'</span><span class="String">divide</span><span class="String">'</span>: <span class="String">'</span><span class="String">ignore</span><span class="String">'</span>, <span class="String">'</span><span class="String">invalid</span><span class="String">'</span>: <span class="String">'</span><span class="String">warn</span><span class="String">'</span>, <span class="String">'</span><span class="String">under</span><span class="String">'</span>: <span class="String">'</span><span class="String">ignore</span><span class="String">'</span>}</span>
<span class="line"><span class="anchor" id="line-16-1"></span></span>
<span class="line"><span class="anchor" id="line-17-1"></span><span class="ID">In</span> [<span class="Number">5</span>]: <span class="ID">N</span>.<span class="ID">sqrt</span>(-<span class="Number">1</span>)</span>
<span class="line"><span class="anchor" id="line-18-1"></span><span class="ID">Out</span>[<span class="Number">5</span>]: <span class="ID">nan</span></span>
</pre></div></div><span class="anchor" id="line-88"></span><span class="anchor" id="line-89"></span><p class="line874">With Python 2.5 it should soon be possible to do <span class="anchor" id="line-90"></span><span class="anchor" id="line-91"></span><p class="line867"><span class="anchor" id="line-92"></span><span class="anchor" id="line-93"></span><span class="anchor" id="line-94"></span><span class="anchor" id="line-1-13"></span><div class="highlight python"><div class="codearea" dir="ltr" lang="en"><pre dir="ltr" id="CA-9c40d88bc2984f82acee731acc370873671cb85b" lang="en"><span class="line"><span class="anchor" id="line-1-14"></span><span class="ResWord">with</span> <span class="ID">errstate</span>(<span class="ID">invalid</span>=<span class="String">'</span><span class="String">raise</span><span class="String">'</span>):</span>
<span class="line"><span class="anchor" id="line-2-6"></span>    <span class="ID">sqrt</span>(-<span class="Number">1</span>) <span class="Comment"># raise exception</span></span>
</pre></div></div><span class="anchor" id="line-95"></span><span class="anchor" id="line-96"></span><p class="line874">Alternatively, you can simply use complex arrays throughout.  <span class="anchor" id="line-97"></span><span class="anchor" id="line-98"></span><p class="line867">
<h2 id="Do_numpy_and_scipy_behave_differently.3F">Do numpy and scipy behave differently?</h2>
<span class="anchor" id="line-99"></span><span class="anchor" id="line-100"></span><p class="line862">Yes, <tt class="backtick"></tt><tt class="backtick">scipy</tt><tt class="backtick"></tt> exposes <tt class="backtick"></tt><tt class="backtick">numpy.lib.scimath</tt><tt class="backtick"></tt> by default. <span class="anchor" id="line-101"></span><span class="anchor" id="line-102"></span><span class="anchor" id="line-103"></span><span class="anchor" id="line-104"></span><span class="anchor" id="line-105"></span><span class="anchor" id="line-1-15"></span><div class="highlight python"><div class="codearea" dir="ltr" lang="en"><pre dir="ltr" id="CA-9633a12441f534460fef95291073eb866402c0a6" lang="en"><span class="line"><span class="anchor" id="line-1-16"></span>&gt;&gt;&gt; <span class="ResWord">import</span> <span class="ID">scipy</span></span>
<span class="line"><span class="anchor" id="line-2-7"></span>&gt;&gt;&gt; <span class="ID">scipy</span>.<span class="ID">sqrt</span>(-<span class="Number">1</span>)</span>
<span class="line"><span class="anchor" id="line-3-5"></span><span class="Number">1j</span></span>
</pre></div></div><span class="anchor" id="line-106"></span><span class="anchor" id="bottom"></span></div>
<div id="pagebottom"></div>
</div>


<div id="footer">
<ul class="editbar"><li class="toggleCommentsButton" style="display:none;"><a href="#" class="nbcomment" onClick="toggleComments();return false;">Comments</a></li><li><a class="nbattachments" href="NegativeSquareRoot37dc.html?action=AttachFile" rel="nofollow">Attachments</a></li><li>
<form class="actionsmenu" method="GET" action="../external.html?link=http://localhost:8080/NegativeSquareRoot">
<div>
    <label>More Actions:</label>
    <select name="action"
        onchange="if ((this.selectedIndex != 0) &&
                      (this.options[this.selectedIndex].disabled == false)) {
                this.form.submit();
            }
            this.selectedIndex = 0;">
        <option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="RenamePage" disabled class="disabled">Rename Page</option>
<option value="DeletePage" disabled class="disabled">Delete Page</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Subscribe User</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Remove Spam</option>
<option value="show" disabled class="disabled">Revert to this revision</option>
    </select>
    <input type="submit" value="Do">
    
</div>
<script type="text/javascript">
<!--// Init menu
actionsMenuInit('More Actions:');
//-->
</script>
</form>
</li></ul>

<ul id="credits">
<li><a href="../external.html?link=http://moinmo.in/" title="This site uses the MoinMoin Wiki software.">MoinMoin Powered</a></li><li><a href="../external.html?link=http://moinmo.in/Python" title="MoinMoin is written in Python.">Python Powered</a></li><li><a href="../external.html?link=http://moinmo.in/GPL" title="MoinMoin is GPL licensed.">GPL licensed</a></li><li><a href="../external.html?link=http://validator.w3.org/check?uri=referer" title="Click here to validate this page.">Valid HTML 4.01</a></li>
</ul>


</div>
</body>

<!-- Mirrored from localhost:8080/NegativeSquareRoot?action=recoverpass by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 29 Oct 2015 23:19:34 GMT -->
</html>

