<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>

<!-- Mirrored from localhost:8080/Cookbook/Matplotlib/MultilinePlots?action=recoverpass by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 29 Oct 2015 23:19:04 GMT -->
<!-- Added by HTTrack --><meta http-equiv="content-type" content="text/html;charset=utf-8" /><!-- /Added by HTTrack -->
<head>
<meta http-equiv="Content-Type" content="text/html;charset=utf-8">
<meta name="edit_on_doubleclick" content="/">
<meta name="robots" content="noindex,nofollow">

<title>Cookbook/Matplotlib/MultilinePlots - SciPy</title>
<script type="text/javascript" src="../../moin_static197/common/js/common.js"></script>

<script type="text/javascript">
<!--
var search_hint = "Search";
//-->
</script>


<link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="../../moin_static197/modern/css/common.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="screen" href="../../moin_static197/modern/css/screen.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="print" href="../../moin_static197/modern/css/print.css">
<link rel="stylesheet" type="text/css" charset="utf-8" media="projection" href="../../moin_static197/modern/css/projection.css">

<!-- css only for MS IE6/IE7 browsers -->
<!--[if lt IE 8]>
   <link rel="stylesheet" type="text/css" charset="utf-8" media="all" href="/moin_static197/modern/css/msie.css">
<![endif]-->


<link rel="alternate" title="SciPy: Cookbook/Matplotlib/MultilinePlots" href="../../../external.html?link=http://localhost:8080/Cookbook/Matplotlib/MultilinePlots?diffs=1&amp;show_att=1&amp;action=rss_rc&amp;unique=0&amp;page=Cookbook%2FMatplotlib%2FMultilinePlots&amp;ddiffs=1" type="application/rss+xml">


<link rel="Start" href="../../AllPages.html">
<link rel="Alternate" title="Wiki Markup" href="../../../external.html?link=http://localhost:8080/Cookbook/Matplotlib/MultilinePlots?action=raw">
<link rel="Alternate" media="print" title="Print View" href="../../../external.html?link=http://localhost:8080/Cookbook/Matplotlib/MultilinePlots?action=print">
<link rel="Up" href="../Matplotlib.html">
<link rel="Appendix" title="multiline.png" href="MultilinePlots15fb.html?action=AttachFile&amp;do=view&amp;target=multiline.png">
<link rel="Appendix" title="multipleaxes.png" href="MultilinePlotse741.html?action=AttachFile&amp;do=view&amp;target=multipleaxes.png">
<link rel="Search" href="../../FindPage.html">
<link rel="Index" href="../../TitleIndex.html">
<link rel="Glossary" href="../../WordIndex.html">
<link rel="Help" href="../../HelpOnFormatting.html">
</head>

<body  lang="en" dir="ltr">

<div id="header">


<form id="searchform" method="get" action="../../../external.html?link=http://localhost:8080/Cookbook/Matplotlib/MultilinePlots">
<div>
<input type="hidden" name="action" value="fullsearch">
<input type="hidden" name="context" value="180">
<label for="searchinput">Search:</label>
<input id="searchinput" type="text" name="value" value="" size="20"
    onfocus="searchFocus(this)" onblur="searchBlur(this)"
    onkeyup="searchChange(this)" onchange="searchChange(this)" alt="Search">
<input id="titlesearch" name="titlesearch" type="submit"
    value="Titles" alt="Search Titles">
<input id="fullsearch" name="fullsearch" type="submit"
    value="Text" alt="Search Full Text">
</div>
</form>
<script type="text/javascript">
<!--// Initialize search form
var f = document.getElementById('searchform');
f.getElementsByTagName('label')[0].style.display = 'none';
var e = document.getElementById('searchinput');
searchChange(e);
searchBlur(e);
//-->
</script>

<ul id="username"><li><a href="MultilinePlots456e.html?action=login" id="login" rel="nofollow">Login</a></li></ul>
<div id="locationline">
<div id="interwiki"><span><a href="../../AllPages.html" rel="nofollow">SciPy</a></span></div>

<ul id="pagelocation">
<li><a href="../../Cookbook.html">Cookbook</a></li><li><a href="../Matplotlib.html">Matplotlib</a></li><li><a class="backlink" href="MultilinePlotsab32.html?action=fullsearch&amp;context=180&amp;value=linkto%3A%22Cookbook%2FMatplotlib%2FMultilinePlots%22" rel="nofollow" title="Click to do a full-text search for this title">MultilinePlots</a></li>
</ul>

</div>


<ul id="navibar">
<li class="wikilink"><a href="../../RecentChanges.html">RecentChanges</a></li><li class="wikilink"><a class="nonexistent" href="../../FindPage.html">FindPage</a></li><li class="wikilink"><a class="nonexistent" href="../../HelpContents.html">HelpContents</a></li><li class="current"><a href="MultilinePlots.html">MultilinePlots</a></li>
</ul>

<div id="pageline"><hr style="display:none;"></div>
<div id="message">
<p><div class="warning">This wiki is not enabled for mail processing.
Contact the owner of the wiki, who can enable email.</div></p><a class="clear-link" href="MultilinePlots.html">Clear message</a>
</div>

<ul class="editbar"><li class="toggleCommentsButton" style="display:none;"><a href="#" class="nbcomment" onClick="toggleComments();return false;">Comments</a></li><li><a class="nbattachments" href="MultilinePlots37dc.html?action=AttachFile" rel="nofollow">Attachments</a></li><li>
<form class="actionsmenu" method="GET" action="../../../external.html?link=http://localhost:8080/Cookbook/Matplotlib/MultilinePlots">
<div>
    <label>More Actions:</label>
    <select name="action"
        onchange="if ((this.selectedIndex != 0) &&
                      (this.options[this.selectedIndex].disabled == false)) {
                this.form.submit();
            }
            this.selectedIndex = 0;">
        <option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="RenamePage" disabled class="disabled">Rename Page</option>
<option value="DeletePage" disabled class="disabled">Delete Page</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Subscribe User</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Remove Spam</option>
<option value="show" disabled class="disabled">Revert to this revision</option>
    </select>
    <input type="submit" value="Do">
    
</div>
<script type="text/javascript">
<!--// Init menu
actionsMenuInit('More Actions:');
//-->
</script>
</form>
</li></ul>

</div>

<div id="page" lang="en" dir="ltr">
<div dir="ltr" id="content" lang="en"><span class="anchor" id="top"></span>
<span class="anchor" id="line-1"></span><p class="line867"><div class="table-of-contents"><p class="table-of-contents-heading">Contents<ol><li>
<a href="#Multiple_line_plots">Multiple line plots</a></li><li>
<a href="#Using_multiple_axes">Using multiple axes</a></li><li>
<a href="#Manipulating_transforms">Manipulating transforms</a></li></ol></div> <span class="anchor" id="line-2"></span><span class="anchor" id="line-3"></span><p class="line867">
<h1 id="Multiple_line_plots">Multiple line plots</h1>
<span class="anchor" id="line-4"></span><span class="anchor" id="line-5"></span><p class="line874">Often one wants to plot many signals over one another.  There are a few ways to do this.  The naive implementation is just to add a constant offset to each signal: <span class="anchor" id="line-6"></span><span class="anchor" id="line-7"></span><p class="line867"><span class="anchor" id="line-8"></span><span class="anchor" id="line-9"></span><span class="anchor" id="line-10"></span><span class="anchor" id="line-11"></span><span class="anchor" id="line-12"></span><span class="anchor" id="line-13"></span><span class="anchor" id="line-14"></span><span class="anchor" id="line-15"></span><span class="anchor" id="line-16"></span><span class="anchor" id="line-17"></span><span class="anchor" id="line-18"></span><span class="anchor" id="line-19"></span><span class="anchor" id="line-20"></span><span class="anchor" id="line-21"></span><span class="anchor" id="line-22"></span><span class="anchor" id="line-23"></span><span class="anchor" id="line-24"></span><span class="anchor" id="line-1-1"></span><div class="highlight python"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
function isnumbered(obj) {
  return obj.childNodes.length && obj.firstChild.childNodes.length && obj.firstChild.firstChild.className == 'LineNumber';
}
function nformat(num,chrs,add) {
  var nlen = Math.max(0,chrs-(''+num).length), res = '';
  while (nlen>0) { res += ' '; nlen-- }
  return res+num+add;
}
function addnumber(did, nstart, nstep) {
  var c = document.getElementById(did), l = c.firstChild, n = 1;
  if (!isnumbered(c)) {
    if (typeof nstart == 'undefined') nstart = 1;
    if (typeof nstep  == 'undefined') nstep = 1;
    var n = nstart;
    while (l != null) {
      if (l.tagName == 'SPAN') {
        var s = document.createElement('SPAN');
        var a = document.createElement('A');
        s.className = 'LineNumber';
        a.appendChild(document.createTextNode(nformat(n,4,'')));
        a.href = '#' + did + '_' + n;
        s.appendChild(a);
        s.appendChild(document.createTextNode(' '));
        n += nstep;
        if (l.childNodes.length) {
          l.insertBefore(s, l.firstChild);
        }
        else {
          l.appendChild(s);
        }
      }
      l = l.nextSibling;
    }
  }
  return false;
}
function remnumber(did) {
  var c = document.getElementById(did), l = c.firstChild;
  if (isnumbered(c)) {
    while (l != null) {
      if (l.tagName == 'SPAN' && l.firstChild.className == 'LineNumber') l.removeChild(l.firstChild);
      l = l.nextSibling;
    }
  }
  return false;
}
function togglenumber(did, nstart, nstep) {
  var c = document.getElementById(did);
  if (isnumbered(c)) {
    remnumber(did);
  } else {
    addnumber(did,nstart,nstep);
  }
  return false;
}
</script>

<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-f875b2ed26ee72a332d971c767e6f3bdf09059bb\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script>
<pre dir="ltr" id="CA-f875b2ed26ee72a332d971c767e6f3bdf09059bb" lang="en"><span class="line"><span class="LineNumber"><a href="#CA-f875b2ed26ee72a332d971c767e6f3bdf09059bb_1">   1</a> </span><span class="LineAnchor" id="CA-f875b2ed26ee72a332d971c767e6f3bdf09059bb_1"></span><span class="anchor" id="line-1-2"></span><span class="ResWord">from</span> <span class="ID">pylab</span> <span class="ResWord">import</span> <span class="ID">plot</span>, <span class="ID">show</span>, <span class="ID">ylim</span>, <span class="ID">yticks</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-f875b2ed26ee72a332d971c767e6f3bdf09059bb_2">   2</a> </span><span class="LineAnchor" id="CA-f875b2ed26ee72a332d971c767e6f3bdf09059bb_2"></span><span class="anchor" id="line-2-1"></span><span class="ResWord">from</span> <span class="ID">matplotlib.numerix</span> <span class="ResWord">import</span> <span class="ID">sin</span>, <span class="ID">cos</span>, <span class="ID">exp</span>, <span class="ID">pi</span>, <span class="ID">arange</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-f875b2ed26ee72a332d971c767e6f3bdf09059bb_3">   3</a> </span><span class="LineAnchor" id="CA-f875b2ed26ee72a332d971c767e6f3bdf09059bb_3"></span><span class="anchor" id="line-3-1"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-f875b2ed26ee72a332d971c767e6f3bdf09059bb_4">   4</a> </span><span class="LineAnchor" id="CA-f875b2ed26ee72a332d971c767e6f3bdf09059bb_4"></span><span class="anchor" id="line-4-1"></span><span class="ID">t</span> = <span class="ID">arange</span>(<span class="Number">0.0</span>, <span class="Number">2.0</span>, <span class="Number">0.01</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-f875b2ed26ee72a332d971c767e6f3bdf09059bb_5">   5</a> </span><span class="LineAnchor" id="CA-f875b2ed26ee72a332d971c767e6f3bdf09059bb_5"></span><span class="anchor" id="line-5-1"></span><span class="ID">s1</span> = <span class="ID">sin</span>(<span class="Number">2</span>*<span class="ID">pi</span>*<span class="ID">t</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-f875b2ed26ee72a332d971c767e6f3bdf09059bb_6">   6</a> </span><span class="LineAnchor" id="CA-f875b2ed26ee72a332d971c767e6f3bdf09059bb_6"></span><span class="anchor" id="line-6-1"></span><span class="ID">s2</span> = <span class="ID">exp</span>(-<span class="ID">t</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-f875b2ed26ee72a332d971c767e6f3bdf09059bb_7">   7</a> </span><span class="LineAnchor" id="CA-f875b2ed26ee72a332d971c767e6f3bdf09059bb_7"></span><span class="anchor" id="line-7-1"></span><span class="ID">s3</span> = <span class="ID">sin</span>(<span class="Number">2</span>*<span class="ID">pi</span>*<span class="ID">t</span>)*<span class="ID">exp</span>(-<span class="ID">t</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-f875b2ed26ee72a332d971c767e6f3bdf09059bb_8">   8</a> </span><span class="LineAnchor" id="CA-f875b2ed26ee72a332d971c767e6f3bdf09059bb_8"></span><span class="anchor" id="line-8-1"></span><span class="ID">s4</span> = <span class="ID">sin</span>(<span class="Number">2</span>*<span class="ID">pi</span>*<span class="ID">t</span>)*<span class="ID">cos</span>(<span class="Number">4</span>*<span class="ID">pi</span>*<span class="ID">t</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-f875b2ed26ee72a332d971c767e6f3bdf09059bb_9">   9</a> </span><span class="LineAnchor" id="CA-f875b2ed26ee72a332d971c767e6f3bdf09059bb_9"></span><span class="anchor" id="line-9-1"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-f875b2ed26ee72a332d971c767e6f3bdf09059bb_10">  10</a> </span><span class="LineAnchor" id="CA-f875b2ed26ee72a332d971c767e6f3bdf09059bb_10"></span><span class="anchor" id="line-10-1"></span><span class="ID">t</span> = <span class="ID">arange</span>(<span class="Number">0.0</span>, <span class="Number">2.0</span>, <span class="Number">0.01</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-f875b2ed26ee72a332d971c767e6f3bdf09059bb_11">  11</a> </span><span class="LineAnchor" id="CA-f875b2ed26ee72a332d971c767e6f3bdf09059bb_11"></span><span class="anchor" id="line-11-1"></span><span class="ID">plot</span>(<span class="ID">t</span>, <span class="ID">s1</span>, <span class="ID">t</span>, <span class="ID">s2</span>+<span class="Number">1</span>, <span class="ID">t</span>, <span class="ID">s3</span>+<span class="Number">2</span>, <span class="ID">t</span>, <span class="ID">s4</span>+<span class="Number">3</span>, <span class="ID">color</span>=<span class="String">'</span><span class="String">k</span><span class="String">'</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-f875b2ed26ee72a332d971c767e6f3bdf09059bb_12">  12</a> </span><span class="LineAnchor" id="CA-f875b2ed26ee72a332d971c767e6f3bdf09059bb_12"></span><span class="anchor" id="line-12-1"></span><span class="ID">ylim</span>(-<span class="Number">1</span>,<span class="Number">4</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-f875b2ed26ee72a332d971c767e6f3bdf09059bb_13">  13</a> </span><span class="LineAnchor" id="CA-f875b2ed26ee72a332d971c767e6f3bdf09059bb_13"></span><span class="anchor" id="line-13-1"></span><span class="ID">yticks</span>(<span class="ID">arange</span>(<span class="Number">4</span>), [<span class="String">'</span><span class="String">S1</span><span class="String">'</span>, <span class="String">'</span><span class="String">S2</span><span class="String">'</span>, <span class="String">'</span><span class="String">S3</span><span class="String">'</span>, <span class="String">'</span><span class="String">S4</span><span class="String">'</span>]) </span>
<span class="line"><span class="LineNumber"><a href="#CA-f875b2ed26ee72a332d971c767e6f3bdf09059bb_14">  14</a> </span><span class="LineAnchor" id="CA-f875b2ed26ee72a332d971c767e6f3bdf09059bb_14"></span><span class="anchor" id="line-14-1"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-f875b2ed26ee72a332d971c767e6f3bdf09059bb_15">  15</a> </span><span class="LineAnchor" id="CA-f875b2ed26ee72a332d971c767e6f3bdf09059bb_15"></span><span class="anchor" id="line-15-1"></span><span class="ID">show</span>()</span>
</pre></div></div><span class="anchor" id="line-25"></span><span class="anchor" id="line-26"></span><p class="line874">but then it is difficult to do change the y scale in a reasonable way. For example when you zoom in on y, the signals on top and bottom will go off the screen. Often what one wants is for the y location of each signal to remain in place and the gain of the signal to be changed. <span class="anchor" id="line-27"></span><span class="anchor" id="line-28"></span><p class="line867">
<h1 id="Using_multiple_axes">Using multiple axes</h1>
<span class="anchor" id="line-29"></span><span class="anchor" id="line-30"></span><p class="line874">If you have just a few signals, you could make each signal a separate axes and make the y label horizontal.  This works fine for a small number of signals (4-10 say) except the extra horizontal lines and ticks around the axes may be annoying.  It's on our list of things to change the way these axes lines are draw so that you can remove it, but it isn't done yet: <span class="anchor" id="line-31"></span><span class="anchor" id="line-32"></span><p class="line867"><span class="anchor" id="line-33"></span><span class="anchor" id="line-34"></span><span class="anchor" id="line-35"></span><span class="anchor" id="line-36"></span><span class="anchor" id="line-37"></span><span class="anchor" id="line-38"></span><span class="anchor" id="line-39"></span><span class="anchor" id="line-40"></span><span class="anchor" id="line-41"></span><span class="anchor" id="line-42"></span><span class="anchor" id="line-43"></span><span class="anchor" id="line-44"></span><span class="anchor" id="line-45"></span><span class="anchor" id="line-46"></span><span class="anchor" id="line-47"></span><span class="anchor" id="line-48"></span><span class="anchor" id="line-49"></span><span class="anchor" id="line-50"></span><span class="anchor" id="line-51"></span><span class="anchor" id="line-52"></span><span class="anchor" id="line-53"></span><span class="anchor" id="line-54"></span><span class="anchor" id="line-55"></span><span class="anchor" id="line-56"></span><span class="anchor" id="line-57"></span><span class="anchor" id="line-58"></span><span class="anchor" id="line-59"></span><span class="anchor" id="line-60"></span><span class="anchor" id="line-61"></span><span class="anchor" id="line-62"></span><span class="anchor" id="line-63"></span><span class="anchor" id="line-64"></span><span class="anchor" id="line-65"></span><span class="anchor" id="line-66"></span><span class="anchor" id="line-67"></span><span class="anchor" id="line-68"></span><span class="anchor" id="line-69"></span><span class="anchor" id="line-70"></span><span class="anchor" id="line-71"></span><span class="anchor" id="line-72"></span><span class="anchor" id="line-73"></span><span class="anchor" id="line-74"></span><span class="anchor" id="line-75"></span><span class="anchor" id="line-76"></span><span class="anchor" id="line-77"></span><span class="anchor" id="line-78"></span><span class="anchor" id="line-1-3"></span><div class="highlight python"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-d17812f9ff079d8db8a5041b2426a5e33e48254a\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script>
<pre dir="ltr" id="CA-d17812f9ff079d8db8a5041b2426a5e33e48254a" lang="en"><span class="line"><span class="LineNumber"><a href="#CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_1">   1</a> </span><span class="LineAnchor" id="CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_1"></span><span class="anchor" id="line-1-4"></span><span class="ResWord">from</span> <span class="ID">pylab</span> <span class="ResWord">import</span> <span class="ID">figure</span>, <span class="ID">show</span>, <span class="ID">setp</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_2">   2</a> </span><span class="LineAnchor" id="CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_2"></span><span class="anchor" id="line-2-2"></span><span class="ResWord">from</span> <span class="ID">matplotlib.numerix</span> <span class="ResWord">import</span> <span class="ID">sin</span>, <span class="ID">cos</span>, <span class="ID">exp</span>, <span class="ID">pi</span>, <span class="ID">arange</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_3">   3</a> </span><span class="LineAnchor" id="CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_3"></span><span class="anchor" id="line-3-2"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_4">   4</a> </span><span class="LineAnchor" id="CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_4"></span><span class="anchor" id="line-4-2"></span><span class="ID">t</span> = <span class="ID">arange</span>(<span class="Number">0.0</span>, <span class="Number">2.0</span>, <span class="Number">0.01</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_5">   5</a> </span><span class="LineAnchor" id="CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_5"></span><span class="anchor" id="line-5-2"></span><span class="ID">s1</span> = <span class="ID">sin</span>(<span class="Number">2</span>*<span class="ID">pi</span>*<span class="ID">t</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_6">   6</a> </span><span class="LineAnchor" id="CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_6"></span><span class="anchor" id="line-6-2"></span><span class="ID">s2</span> = <span class="ID">exp</span>(-<span class="ID">t</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_7">   7</a> </span><span class="LineAnchor" id="CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_7"></span><span class="anchor" id="line-7-2"></span><span class="ID">s3</span> = <span class="ID">sin</span>(<span class="Number">2</span>*<span class="ID">pi</span>*<span class="ID">t</span>)*<span class="ID">exp</span>(-<span class="ID">t</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_8">   8</a> </span><span class="LineAnchor" id="CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_8"></span><span class="anchor" id="line-8-2"></span><span class="ID">s4</span> = <span class="ID">sin</span>(<span class="Number">2</span>*<span class="ID">pi</span>*<span class="ID">t</span>)*<span class="ID">cos</span>(<span class="Number">4</span>*<span class="ID">pi</span>*<span class="ID">t</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_9">   9</a> </span><span class="LineAnchor" id="CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_9"></span><span class="anchor" id="line-9-2"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_10">  10</a> </span><span class="LineAnchor" id="CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_10"></span><span class="anchor" id="line-10-2"></span><span class="ID">fig</span> = <span class="ID">figure</span>()</span>
<span class="line"><span class="LineNumber"><a href="#CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_11">  11</a> </span><span class="LineAnchor" id="CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_11"></span><span class="anchor" id="line-11-2"></span><span class="ID">t</span> = <span class="ID">arange</span>(<span class="Number">0.0</span>, <span class="Number">2.0</span>, <span class="Number">0.01</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_12">  12</a> </span><span class="LineAnchor" id="CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_12"></span><span class="anchor" id="line-12-2"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_13">  13</a> </span><span class="LineAnchor" id="CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_13"></span><span class="anchor" id="line-13-2"></span><span class="ID">yprops</span> = <span class="ResWord">dict</span>(<span class="ID">rotation</span>=<span class="Number">0</span>,  </span>
<span class="line"><span class="LineNumber"><a href="#CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_14">  14</a> </span><span class="LineAnchor" id="CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_14"></span><span class="anchor" id="line-14-2"></span>              <span class="ID">horizontalalignment</span>=<span class="String">'</span><span class="String">right</span><span class="String">'</span>,</span>
<span class="line"><span class="LineNumber"><a href="#CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_15">  15</a> </span><span class="LineAnchor" id="CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_15"></span><span class="anchor" id="line-15-2"></span>              <span class="ID">verticalalignment</span>=<span class="String">'</span><span class="String">center</span><span class="String">'</span>,</span>
<span class="line"><span class="LineNumber"><a href="#CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_16">  16</a> </span><span class="LineAnchor" id="CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_16"></span><span class="anchor" id="line-16-1"></span>              <span class="ID">x</span>=-<span class="Number">0.01</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_17">  17</a> </span><span class="LineAnchor" id="CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_17"></span><span class="anchor" id="line-17-1"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_18">  18</a> </span><span class="LineAnchor" id="CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_18"></span><span class="anchor" id="line-18-1"></span><span class="ID">axprops</span> = <span class="ResWord">dict</span>(<span class="ID">yticks</span>=[])</span>
<span class="line"><span class="LineNumber"><a href="#CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_19">  19</a> </span><span class="LineAnchor" id="CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_19"></span><span class="anchor" id="line-19-1"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_20">  20</a> </span><span class="LineAnchor" id="CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_20"></span><span class="anchor" id="line-20-1"></span><span class="ID">ax1</span> =<span class="ID">fig</span>.<span class="ID">add_axes</span>([<span class="Number">0.1</span>, <span class="Number">0.7</span>, <span class="Number">0.8</span>, <span class="Number">0.2</span>], **<span class="ID">axprops</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_21">  21</a> </span><span class="LineAnchor" id="CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_21"></span><span class="anchor" id="line-21-1"></span><span class="ID">ax1</span>.<span class="ID">plot</span>(<span class="ID">t</span>, <span class="ID">s1</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_22">  22</a> </span><span class="LineAnchor" id="CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_22"></span><span class="anchor" id="line-22-1"></span><span class="ID">ax1</span>.<span class="ID">set_ylabel</span>(<span class="String">'</span><span class="String">S1</span><span class="String">'</span>, **<span class="ID">yprops</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_23">  23</a> </span><span class="LineAnchor" id="CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_23"></span><span class="anchor" id="line-23-1"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_24">  24</a> </span><span class="LineAnchor" id="CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_24"></span><span class="anchor" id="line-24-1"></span><span class="ID">axprops</span>[<span class="String">'</span><span class="String">sharex</span><span class="String">'</span>] = <span class="ID">ax1</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_25">  25</a> </span><span class="LineAnchor" id="CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_25"></span><span class="anchor" id="line-25-1"></span><span class="ID">axprops</span>[<span class="String">'</span><span class="String">sharey</span><span class="String">'</span>] = <span class="ID">ax1</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_26">  26</a> </span><span class="LineAnchor" id="CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_26"></span><span class="anchor" id="line-26-1"></span><span class="Comment"># force x axes to remain in register, even with toolbar navigation</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_27">  27</a> </span><span class="LineAnchor" id="CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_27"></span><span class="anchor" id="line-27-1"></span><span class="ID">ax2</span> = <span class="ID">fig</span>.<span class="ID">add_axes</span>([<span class="Number">0.1</span>, <span class="Number">0.5</span>, <span class="Number">0.8</span>, <span class="Number">0.2</span>], **<span class="ID">axprops</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_28">  28</a> </span><span class="LineAnchor" id="CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_28"></span><span class="anchor" id="line-28-1"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_29">  29</a> </span><span class="LineAnchor" id="CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_29"></span><span class="anchor" id="line-29-1"></span><span class="ID">ax2</span>.<span class="ID">plot</span>(<span class="ID">t</span>, <span class="ID">s2</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_30">  30</a> </span><span class="LineAnchor" id="CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_30"></span><span class="anchor" id="line-30-1"></span><span class="ID">ax2</span>.<span class="ID">set_ylabel</span>(<span class="String">'</span><span class="String">S2</span><span class="String">'</span>, **<span class="ID">yprops</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_31">  31</a> </span><span class="LineAnchor" id="CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_31"></span><span class="anchor" id="line-31-1"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_32">  32</a> </span><span class="LineAnchor" id="CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_32"></span><span class="anchor" id="line-32-1"></span><span class="ID">ax3</span> = <span class="ID">fig</span>.<span class="ID">add_axes</span>([<span class="Number">0.1</span>, <span class="Number">0.3</span>, <span class="Number">0.8</span>, <span class="Number">0.2</span>], **<span class="ID">axprops</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_33">  33</a> </span><span class="LineAnchor" id="CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_33"></span><span class="anchor" id="line-33-1"></span><span class="ID">ax3</span>.<span class="ID">plot</span>(<span class="ID">t</span>, <span class="ID">s4</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_34">  34</a> </span><span class="LineAnchor" id="CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_34"></span><span class="anchor" id="line-34-1"></span><span class="ID">ax3</span>.<span class="ID">set_ylabel</span>(<span class="String">'</span><span class="String">S3</span><span class="String">'</span>, **<span class="ID">yprops</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_35">  35</a> </span><span class="LineAnchor" id="CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_35"></span><span class="anchor" id="line-35-1"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_36">  36</a> </span><span class="LineAnchor" id="CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_36"></span><span class="anchor" id="line-36-1"></span><span class="ID">ax4</span> = <span class="ID">fig</span>.<span class="ID">add_axes</span>([<span class="Number">0.1</span>, <span class="Number">0.1</span>, <span class="Number">0.8</span>, <span class="Number">0.2</span>], **<span class="ID">axprops</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_37">  37</a> </span><span class="LineAnchor" id="CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_37"></span><span class="anchor" id="line-37-1"></span><span class="ID">ax4</span>.<span class="ID">plot</span>(<span class="ID">t</span>, <span class="ID">s4</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_38">  38</a> </span><span class="LineAnchor" id="CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_38"></span><span class="anchor" id="line-38-1"></span><span class="ID">ax4</span>.<span class="ID">set_ylabel</span>(<span class="String">'</span><span class="String">S4</span><span class="String">'</span>, **<span class="ID">yprops</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_39">  39</a> </span><span class="LineAnchor" id="CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_39"></span><span class="anchor" id="line-39-1"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_40">  40</a> </span><span class="LineAnchor" id="CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_40"></span><span class="anchor" id="line-40-1"></span><span class="Comment"># turn off x ticklabels for all but the lower axes</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_41">  41</a> </span><span class="LineAnchor" id="CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_41"></span><span class="anchor" id="line-41-1"></span><span class="ResWord">for</span> <span class="ID">ax</span> <span class="ResWord">in</span> <span class="ID">ax1</span>, <span class="ID">ax2</span>, <span class="ID">ax3</span>:</span>
<span class="line"><span class="LineNumber"><a href="#CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_42">  42</a> </span><span class="LineAnchor" id="CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_42"></span><span class="anchor" id="line-42-1"></span>    <span class="ID">setp</span>(<span class="ID">ax</span>.<span class="ID">get_xticklabels</span>(), <span class="ID">visible</span>=<span class="ResWord">False</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_43">  43</a> </span><span class="LineAnchor" id="CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_43"></span><span class="anchor" id="line-43-1"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_44">  44</a> </span><span class="LineAnchor" id="CA-d17812f9ff079d8db8a5041b2426a5e33e48254a_44"></span><span class="anchor" id="line-44-1"></span><span class="ID">show</span>()</span>
</pre></div></div><span class="anchor" id="line-79"></span><p class="line867"><img alt="multipleaxes.png" class="attachment" src="multipleaxes902d.png?action=AttachFile&amp;do=get&amp;target=multipleaxes.png" title="multipleaxes.png" /> <span class="anchor" id="line-80"></span><span class="anchor" id="line-81"></span><p class="line867">
<h1 id="Manipulating_transforms">Manipulating transforms</h1>
<span class="anchor" id="line-82"></span><span class="anchor" id="line-83"></span><p class="line862">For large numbers of lines the approach above is inefficient because creating a separate axes for each line creates a lot of useless overhead. The application that gave birth to matplotlib is an <a class="http" href="../../../external.html?link=http://matplotlib.sourceforge.net/screenshots/eeg_small.png">EEG viewer</a> which must efficiently handle hundreds of lines; this is is available as part of the <a class="http" href="../../../external.html?link=http://pbrain.sf.net/">pbrain package</a>. <span class="anchor" id="line-84"></span><span class="anchor" id="line-85"></span><p class="line862">Here is an example of how that application does multiline plotting with &quot;in place&quot; gain changes.  Note that this will break the y behavior of the toolbar because we have changed all the default transforms.  In my application I have a custom toolbar to increase or decrease the y scale.  In this example, I bind the plus/minus keys to a function which increases or decreases the y gain.  Perhaps I will take this and wrap it up into a function called plot_signals or something like that because the code is a bit hairy since it makes heavy use of the somewhat arcane matplotlib transforms.  I suggest reading up on the <a class="http" href="../../../external.html?link=http://matplotlib.sourceforge.net/matplotlib.transforms.html">transforms module</a> before trying to understand this example: <span class="anchor" id="line-86"></span><span class="anchor" id="line-87"></span><p class="line867"><span class="anchor" id="line-88"></span><span class="anchor" id="line-89"></span><span class="anchor" id="line-90"></span><span class="anchor" id="line-91"></span><span class="anchor" id="line-92"></span><span class="anchor" id="line-93"></span><span class="anchor" id="line-94"></span><span class="anchor" id="line-95"></span><span class="anchor" id="line-96"></span><span class="anchor" id="line-97"></span><span class="anchor" id="line-98"></span><span class="anchor" id="line-99"></span><span class="anchor" id="line-100"></span><span class="anchor" id="line-101"></span><span class="anchor" id="line-102"></span><span class="anchor" id="line-103"></span><span class="anchor" id="line-104"></span><span class="anchor" id="line-105"></span><span class="anchor" id="line-106"></span><span class="anchor" id="line-107"></span><span class="anchor" id="line-108"></span><span class="anchor" id="line-109"></span><span class="anchor" id="line-110"></span><span class="anchor" id="line-111"></span><span class="anchor" id="line-112"></span><span class="anchor" id="line-113"></span><span class="anchor" id="line-114"></span><span class="anchor" id="line-115"></span><span class="anchor" id="line-116"></span><span class="anchor" id="line-117"></span><span class="anchor" id="line-118"></span><span class="anchor" id="line-119"></span><span class="anchor" id="line-120"></span><span class="anchor" id="line-121"></span><span class="anchor" id="line-122"></span><span class="anchor" id="line-123"></span><span class="anchor" id="line-124"></span><span class="anchor" id="line-125"></span><span class="anchor" id="line-126"></span><span class="anchor" id="line-127"></span><span class="anchor" id="line-128"></span><span class="anchor" id="line-129"></span><span class="anchor" id="line-130"></span><span class="anchor" id="line-131"></span><span class="anchor" id="line-132"></span><span class="anchor" id="line-133"></span><span class="anchor" id="line-134"></span><span class="anchor" id="line-135"></span><span class="anchor" id="line-136"></span><span class="anchor" id="line-137"></span><span class="anchor" id="line-138"></span><span class="anchor" id="line-139"></span><span class="anchor" id="line-140"></span><span class="anchor" id="line-141"></span><span class="anchor" id="line-142"></span><span class="anchor" id="line-143"></span><span class="anchor" id="line-144"></span><span class="anchor" id="line-145"></span><span class="anchor" id="line-146"></span><span class="anchor" id="line-147"></span><span class="anchor" id="line-148"></span><span class="anchor" id="line-149"></span><span class="anchor" id="line-150"></span><span class="anchor" id="line-151"></span><span class="anchor" id="line-152"></span><span class="anchor" id="line-153"></span><span class="anchor" id="line-154"></span><span class="anchor" id="line-155"></span><span class="anchor" id="line-156"></span><span class="anchor" id="line-157"></span><span class="anchor" id="line-158"></span><span class="anchor" id="line-159"></span><span class="anchor" id="line-160"></span><span class="anchor" id="line-161"></span><span class="anchor" id="line-162"></span><span class="anchor" id="line-163"></span><span class="anchor" id="line-164"></span><span class="anchor" id="line-165"></span><span class="anchor" id="line-166"></span><span class="anchor" id="line-167"></span><span class="anchor" id="line-168"></span><span class="anchor" id="line-169"></span><span class="anchor" id="line-170"></span><span class="anchor" id="line-171"></span><span class="anchor" id="line-172"></span><span class="anchor" id="line-173"></span><span class="anchor" id="line-174"></span><span class="anchor" id="line-175"></span><span class="anchor" id="line-176"></span><span class="anchor" id="line-177"></span><span class="anchor" id="line-178"></span><span class="anchor" id="line-179"></span><span class="anchor" id="line-180"></span><span class="anchor" id="line-181"></span><span class="anchor" id="line-182"></span><span class="anchor" id="line-183"></span><span class="anchor" id="line-184"></span><span class="anchor" id="line-185"></span><span class="anchor" id="line-186"></span><span class="anchor" id="line-187"></span><span class="anchor" id="line-188"></span><span class="anchor" id="line-189"></span><span class="anchor" id="line-190"></span><span class="anchor" id="line-191"></span><span class="anchor" id="line-192"></span><span class="anchor" id="line-193"></span><span class="anchor" id="line-194"></span><span class="anchor" id="line-195"></span><span class="anchor" id="line-196"></span><span class="anchor" id="line-197"></span><span class="anchor" id="line-198"></span><span class="anchor" id="line-199"></span><span class="anchor" id="line-200"></span><span class="anchor" id="line-201"></span><span class="anchor" id="line-1-5"></span><div class="highlight python"><div class="codearea" dir="ltr" lang="en">
<script type="text/javascript">
document.write('<a href="#" onclick="return togglenumber(\'CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca\', 1, 1);" \
                class="codenumbers">Toggle line numbers<\/a>');
</script>
<pre dir="ltr" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca" lang="en"><span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_1">   1</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_1"></span><span class="anchor" id="line-1-6"></span><span class="ResWord">from</span> <span class="ID">pylab</span> <span class="ResWord">import</span> <span class="ID">figure</span>, <span class="ID">show</span>, <span class="ID">setp</span>, <span class="ID">connect</span>, <span class="ID">draw</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_2">   2</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_2"></span><span class="anchor" id="line-2-3"></span><span class="ResWord">from</span> <span class="ID">matplotlib.numerix</span> <span class="ResWord">import</span> <span class="ID">sin</span>, <span class="ID">cos</span>, <span class="ID">exp</span>, <span class="ID">pi</span>, <span class="ID">arange</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_3">   3</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_3"></span><span class="anchor" id="line-3-3"></span><span class="ResWord">from</span> <span class="ID">matplotlib.numerix.mlab</span> <span class="ResWord">import</span> <span class="ID">mean</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_4">   4</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_4"></span><span class="anchor" id="line-4-3"></span><span class="ResWord">from</span> <span class="ID">matplotlib.transforms</span> <span class="ResWord">import</span> <span class="ID">Bbox</span>, <span class="ID">Value</span>, <span class="ID">Point</span>, \</span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_5">   5</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_5"></span><span class="anchor" id="line-5-3"></span>     <span class="ID">get_bbox_transform</span>, <span class="ID">unit_bbox</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_6">   6</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_6"></span><span class="anchor" id="line-6-3"></span><span class="Comment"># load the data</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_7">   7</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_7"></span><span class="anchor" id="line-7-3"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_8">   8</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_8"></span><span class="anchor" id="line-8-3"></span><span class="ID">t</span> = <span class="ID">arange</span>(<span class="Number">0.0</span>, <span class="Number">2.0</span>, <span class="Number">0.01</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_9">   9</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_9"></span><span class="anchor" id="line-9-3"></span><span class="ID">s1</span> = <span class="ID">sin</span>(<span class="Number">2</span>*<span class="ID">pi</span>*<span class="ID">t</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_10">  10</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_10"></span><span class="anchor" id="line-10-3"></span><span class="ID">s2</span> = <span class="ID">exp</span>(-<span class="ID">t</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_11">  11</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_11"></span><span class="anchor" id="line-11-3"></span><span class="ID">s3</span> = <span class="ID">sin</span>(<span class="Number">2</span>*<span class="ID">pi</span>*<span class="ID">t</span>)*<span class="ID">exp</span>(-<span class="ID">t</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_12">  12</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_12"></span><span class="anchor" id="line-12-3"></span><span class="ID">s4</span> = <span class="ID">sin</span>(<span class="Number">2</span>*<span class="ID">pi</span>*<span class="ID">t</span>)*<span class="ID">cos</span>(<span class="Number">4</span>*<span class="ID">pi</span>*<span class="ID">t</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_13">  13</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_13"></span><span class="anchor" id="line-13-3"></span><span class="ID">s5</span> = <span class="ID">s1</span>*<span class="ID">s2</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_14">  14</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_14"></span><span class="anchor" id="line-14-3"></span><span class="ID">s6</span> = <span class="ID">s1</span>-<span class="ID">s4</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_15">  15</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_15"></span><span class="anchor" id="line-15-3"></span><span class="ID">s7</span> = <span class="ID">s3</span>*<span class="ID">s4</span>-<span class="ID">s1</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_16">  16</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_16"></span><span class="anchor" id="line-16-2"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_17">  17</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_17"></span><span class="anchor" id="line-17-2"></span><span class="ID">signals</span> = <span class="ID">s1</span>, <span class="ID">s2</span>, <span class="ID">s3</span>, <span class="ID">s4</span>, <span class="ID">s5</span>, <span class="ID">s6</span>, <span class="ID">s7</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_18">  18</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_18"></span><span class="anchor" id="line-18-2"></span><span class="ResWord">for</span> <span class="ID">sig</span> <span class="ResWord">in</span> <span class="ID">signals</span>:</span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_19">  19</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_19"></span><span class="anchor" id="line-19-2"></span>    <span class="ID">sig</span> = <span class="ID">sig</span>-<span class="ID">mean</span>(<span class="ID">sig</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_20">  20</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_20"></span><span class="anchor" id="line-20-2"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_21">  21</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_21"></span><span class="anchor" id="line-21-2"></span><span class="ID">lineprops</span> = <span class="ResWord">dict</span>(<span class="ID">linewidth</span>=<span class="Number">1</span>, <span class="ID">color</span>=<span class="String">'</span><span class="String">black</span><span class="String">'</span>, <span class="ID">linestyle</span>=<span class="String">'</span><span class="String">-</span><span class="String">'</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_22">  22</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_22"></span><span class="anchor" id="line-22-2"></span><span class="ID">fig</span> = <span class="ID">figure</span>()</span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_23">  23</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_23"></span><span class="anchor" id="line-23-2"></span><span class="ID">ax</span> = <span class="ID">fig</span>.<span class="ID">add_axes</span>([<span class="Number">0.1</span>, <span class="Number">0.1</span>, <span class="Number">0.8</span>, <span class="Number">0.8</span>])</span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_24">  24</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_24"></span><span class="anchor" id="line-24-2"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_25">  25</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_25"></span><span class="anchor" id="line-25-2"></span><span class="Comment"># The normal matplotlib transformation is the view lim bounding box</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_26">  26</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_26"></span><span class="anchor" id="line-26-2"></span><span class="Comment"># (ax.viewLim) to the axes bounding box (ax.bbox).  Where are going to</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_27">  27</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_27"></span><span class="anchor" id="line-27-2"></span><span class="Comment"># define a new transform by defining a new input bounding box. See the</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_28">  28</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_28"></span><span class="anchor" id="line-28-2"></span><span class="Comment"># matplotlib.transforms module helkp for more information on</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_29">  29</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_29"></span><span class="anchor" id="line-29-2"></span><span class="Comment"># transforms</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_30">  30</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_30"></span><span class="anchor" id="line-30-2"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_31">  31</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_31"></span><span class="anchor" id="line-31-2"></span><span class="Comment"># This bounding reuses the x data of the viewLim for the xscale -10 to</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_32">  32</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_32"></span><span class="anchor" id="line-32-2"></span><span class="Comment"># 10 on the y scale.  -10 to 10 means that a signal with a min/max</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_33">  33</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_33"></span><span class="anchor" id="line-33-2"></span><span class="Comment"># amplitude of 10 will span the entire vertical extent of the axes</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_34">  34</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_34"></span><span class="anchor" id="line-34-2"></span><span class="ID">scale</span> = <span class="Number">10</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_35">  35</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_35"></span><span class="anchor" id="line-35-2"></span><span class="ID">boxin</span> = <span class="ID">Bbox</span>(</span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_36">  36</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_36"></span><span class="anchor" id="line-36-2"></span>    <span class="ID">Point</span>(<span class="ID">ax</span>.<span class="ID">viewLim</span>.<span class="ID">ll</span>().<span class="ID">x</span>(), <span class="ID">Value</span>(-<span class="ID">scale</span>)),</span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_37">  37</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_37"></span><span class="anchor" id="line-37-2"></span>    <span class="ID">Point</span>(<span class="ID">ax</span>.<span class="ID">viewLim</span>.<span class="ID">ur</span>().<span class="ID">x</span>(), <span class="ID">Value</span>(<span class="ID">scale</span>)))</span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_38">  38</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_38"></span><span class="anchor" id="line-38-2"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_39">  39</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_39"></span><span class="anchor" id="line-39-2"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_40">  40</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_40"></span><span class="anchor" id="line-40-2"></span><span class="Comment"># height is a lazy value</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_41">  41</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_41"></span><span class="anchor" id="line-41-2"></span><span class="ID">height</span> = <span class="ID">ax</span>.<span class="ID">bbox</span>.<span class="ID">ur</span>().<span class="ID">y</span>() - <span class="ID">ax</span>.<span class="ID">bbox</span>.<span class="ID">ll</span>().<span class="ID">y</span>()</span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_42">  42</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_42"></span><span class="anchor" id="line-42-2"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_43">  43</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_43"></span><span class="anchor" id="line-43-2"></span><span class="ID">boxout</span> = <span class="ID">Bbox</span>(</span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_44">  44</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_44"></span><span class="anchor" id="line-44-2"></span>    <span class="ID">Point</span>(<span class="ID">ax</span>.<span class="ID">bbox</span>.<span class="ID">ll</span>().<span class="ID">x</span>(), <span class="ID">Value</span>(-<span class="Number">0.5</span>) * <span class="ID">height</span>),</span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_45">  45</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_45"></span><span class="anchor" id="line-45-1"></span>    <span class="ID">Point</span>(<span class="ID">ax</span>.<span class="ID">bbox</span>.<span class="ID">ur</span>().<span class="ID">x</span>(), <span class="ID">Value</span>( <span class="Number">0.5</span>) * <span class="ID">height</span>))</span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_46">  46</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_46"></span><span class="anchor" id="line-46-1"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_47">  47</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_47"></span><span class="anchor" id="line-47-1"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_48">  48</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_48"></span><span class="anchor" id="line-48-1"></span><span class="Comment"># matplotlib transforms can accepts an offset, which is defined as a</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_49">  49</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_49"></span><span class="anchor" id="line-49-1"></span><span class="Comment"># point and another transform to map that point to display.  This</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_50">  50</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_50"></span><span class="anchor" id="line-50-1"></span><span class="Comment"># transform maps x as identity and maps the 0-1 y interval to the</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_51">  51</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_51"></span><span class="anchor" id="line-51-1"></span><span class="Comment"># vertical extent of the yaxis.  This will be used to offset the lines</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_52">  52</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_52"></span><span class="anchor" id="line-52-1"></span><span class="Comment"># and ticks vertically</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_53">  53</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_53"></span><span class="anchor" id="line-53-1"></span><span class="ID">transOffset</span> = <span class="ID">get_bbox_transform</span>(</span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_54">  54</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_54"></span><span class="anchor" id="line-54-1"></span>    <span class="ID">unit_bbox</span>(),</span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_55">  55</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_55"></span><span class="anchor" id="line-55-1"></span>    <span class="ID">Bbox</span>( <span class="ID">Point</span>( <span class="ID">Value</span>(<span class="Number">0</span>), <span class="ID">ax</span>.<span class="ID">bbox</span>.<span class="ID">ll</span>().<span class="ID">y</span>()),</span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_56">  56</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_56"></span><span class="anchor" id="line-56-1"></span>          <span class="ID">Point</span>( <span class="ID">Value</span>(<span class="Number">1</span>), <span class="ID">ax</span>.<span class="ID">bbox</span>.<span class="ID">ur</span>().<span class="ID">y</span>())</span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_57">  57</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_57"></span><span class="anchor" id="line-57-1"></span>          ))</span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_58">  58</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_58"></span><span class="anchor" id="line-58-1"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_59">  59</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_59"></span><span class="anchor" id="line-59-1"></span><span class="Comment"># now add the signals, set the transform, and set the offset of each</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_60">  60</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_60"></span><span class="anchor" id="line-60-1"></span><span class="Comment"># line</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_61">  61</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_61"></span><span class="anchor" id="line-61-1"></span><span class="ID">ticklocs</span> = []</span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_62">  62</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_62"></span><span class="anchor" id="line-62-1"></span><span class="ResWord">for</span> <span class="ID">i</span>, <span class="ID">s</span> <span class="ResWord">in</span> <span class="ResWord">enumerate</span>(<span class="ID">signals</span>):</span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_63">  63</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_63"></span><span class="anchor" id="line-63-1"></span>    <span class="ID">trans</span> = <span class="ID">get_bbox_transform</span>(<span class="ID">boxin</span>, <span class="ID">boxout</span>) </span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_64">  64</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_64"></span><span class="anchor" id="line-64-1"></span>    <span class="ID">offset</span> = (<span class="ID">i</span>+<span class="Number">1.</span>)/(<span class="ResWord">len</span>(<span class="ID">signals</span>)+<span class="Number">1.</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_65">  65</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_65"></span><span class="anchor" id="line-65-1"></span>    <span class="ID">trans</span>.<span class="ID">set_offset</span>( (<span class="Number">0</span>, <span class="ID">offset</span>), <span class="ID">transOffset</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_66">  66</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_66"></span><span class="anchor" id="line-66-1"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_67">  67</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_67"></span><span class="anchor" id="line-67-1"></span>    <span class="ID">ax</span>.<span class="ID">plot</span>(<span class="ID">t</span>, <span class="ID">s</span>, <span class="ID">transform</span>=<span class="ID">trans</span>, **<span class="ID">lineprops</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_68">  68</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_68"></span><span class="anchor" id="line-68-1"></span>    <span class="ID">ticklocs</span>.<span class="ID">append</span>(<span class="ID">offset</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_69">  69</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_69"></span><span class="anchor" id="line-69-1"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_70">  70</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_70"></span><span class="anchor" id="line-70-1"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_71">  71</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_71"></span><span class="anchor" id="line-71-1"></span><span class="ID">ax</span>.<span class="ID">set_yticks</span>(<span class="ID">ticklocs</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_72">  72</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_72"></span><span class="anchor" id="line-72-1"></span><span class="ID">ax</span>.<span class="ID">set_yticklabels</span>([<span class="String">'</span><span class="String">S</span><span class="String">%d</span><span class="String">'</span>%(<span class="ID">i</span>+<span class="Number">1</span>) <span class="ResWord">for</span> <span class="ID">i</span> <span class="ResWord">in</span> <span class="ResWord">range</span>(<span class="ResWord">len</span>(<span class="ID">signals</span>))])</span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_73">  73</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_73"></span><span class="anchor" id="line-73-1"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_74">  74</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_74"></span><span class="anchor" id="line-74-1"></span><span class="Comment"># place all the y tick attributes in axes coords  </span></span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_75">  75</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_75"></span><span class="anchor" id="line-75-1"></span><span class="ResWord">all</span> = []</span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_76">  76</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_76"></span><span class="anchor" id="line-76-1"></span><span class="ID">labels</span> = []</span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_77">  77</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_77"></span><span class="anchor" id="line-77-1"></span><span class="ID">ax</span>.<span class="ID">set_yticks</span>(<span class="ID">ticklocs</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_78">  78</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_78"></span><span class="anchor" id="line-78-1"></span><span class="ResWord">for</span> <span class="ID">tick</span> <span class="ResWord">in</span> <span class="ID">ax</span>.<span class="ID">yaxis</span>.<span class="ID">get_major_ticks</span>():</span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_79">  79</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_79"></span><span class="anchor" id="line-79-1"></span>    <span class="ResWord">all</span>.<span class="ID">extend</span>(( <span class="ID">tick</span>.<span class="ID">label1</span>, <span class="ID">tick</span>.<span class="ID">label2</span>, <span class="ID">tick</span>.<span class="ID">tick1line</span>,</span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_80">  80</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_80"></span><span class="anchor" id="line-80-1"></span>                 <span class="ID">tick</span>.<span class="ID">tick2line</span>, <span class="ID">tick</span>.<span class="ID">gridline</span>))</span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_81">  81</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_81"></span><span class="anchor" id="line-81-1"></span>    <span class="ID">labels</span>.<span class="ID">append</span>(<span class="ID">tick</span>.<span class="ID">label1</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_82">  82</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_82"></span><span class="anchor" id="line-82-1"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_83">  83</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_83"></span><span class="anchor" id="line-83-1"></span><span class="ID">setp</span>(<span class="ResWord">all</span>, <span class="ID">transform</span>=<span class="ID">ax</span>.<span class="ID">transAxes</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_84">  84</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_84"></span><span class="anchor" id="line-84-1"></span><span class="ID">setp</span>(<span class="ID">labels</span>, <span class="ID">x</span>=-<span class="Number">0.01</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_85">  85</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_85"></span><span class="anchor" id="line-85-1"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_86">  86</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_86"></span><span class="anchor" id="line-86-1"></span><span class="ID">ax</span>.<span class="ID">set_xlabel</span>(<span class="String">'</span><span class="String">time (s)</span><span class="String">'</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_87">  87</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_87"></span><span class="anchor" id="line-87-1"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_88">  88</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_88"></span><span class="anchor" id="line-88-1"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_89">  89</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_89"></span><span class="anchor" id="line-89-1"></span><span class="Comment"># Because we have hacked the transforms, you need a special method to</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_90">  90</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_90"></span><span class="anchor" id="line-90-1"></span><span class="Comment"># set the voltage gain; this is a naive implementation of how you</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_91">  91</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_91"></span><span class="anchor" id="line-91-1"></span><span class="Comment"># might want to do this in real life (eg make the scale changes</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_92">  92</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_92"></span><span class="anchor" id="line-92-1"></span><span class="Comment"># exponential rather than linear) but it gives you the idea</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_93">  93</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_93"></span><span class="anchor" id="line-93-1"></span><span class="ResWord">def</span> <span class="ID">set_ygain</span>(<span class="ID">direction</span>):</span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_94">  94</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_94"></span><span class="anchor" id="line-94-1"></span>    <span class="ID">set_ygain</span>.<span class="ID">scale</span> += <span class="ID">direction</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_95">  95</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_95"></span><span class="anchor" id="line-95-1"></span>    <span class="ResWord">if</span> <span class="ID">set_ygain</span>.<span class="ID">scale</span> &lt;=<span class="Number">0</span>:</span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_96">  96</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_96"></span><span class="anchor" id="line-96-1"></span>        <span class="ID">set_ygain</span>.<span class="ID">scale</span> -= <span class="ID">direction</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_97">  97</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_97"></span><span class="anchor" id="line-97-1"></span>        <span class="ResWord">return</span></span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_98">  98</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_98"></span><span class="anchor" id="line-98-1"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_99">  99</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_99"></span><span class="anchor" id="line-99-1"></span>    <span class="ResWord">for</span> <span class="ID">line</span> <span class="ResWord">in</span> <span class="ID">ax</span>.<span class="ID">lines</span>:</span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_100"> 100</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_100"></span><span class="anchor" id="line-100-1"></span>        <span class="ID">trans</span> = <span class="ID">line</span>.<span class="ID">get_transform</span>()</span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_101"> 101</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_101"></span><span class="anchor" id="line-101-1"></span>        <span class="ID">box1</span> =  <span class="ID">trans</span>.<span class="ID">get_bbox1</span>()</span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_102"> 102</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_102"></span><span class="anchor" id="line-102-1"></span>        <span class="ID">box1</span>.<span class="ID">intervaly</span>().<span class="ID">set_bounds</span>(-<span class="ID">set_ygain</span>.<span class="ID">scale</span>, <span class="ID">set_ygain</span>.<span class="ID">scale</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_103"> 103</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_103"></span><span class="anchor" id="line-103-1"></span>    <span class="ID">draw</span>()</span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_104"> 104</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_104"></span><span class="anchor" id="line-104-1"></span><span class="ID">set_ygain</span>.<span class="ID">scale</span> = <span class="ID">scale</span>    </span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_105"> 105</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_105"></span><span class="anchor" id="line-105-1"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_106"> 106</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_106"></span><span class="anchor" id="line-106-1"></span><span class="ResWord">def</span> <span class="ID">keypress</span>(<span class="ID">event</span>):</span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_107"> 107</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_107"></span><span class="anchor" id="line-107-1"></span>    <span class="ResWord">if</span> <span class="ID">event</span>.<span class="ID">key</span> <span class="ResWord">in</span> (<span class="String">'</span><span class="String">+</span><span class="String">'</span>, <span class="String">'</span><span class="String">=</span><span class="String">'</span>): <span class="ID">set_ygain</span>(-<span class="Number">1</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_108"> 108</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_108"></span><span class="anchor" id="line-108-1"></span>    <span class="ResWord">elif</span> <span class="ID">event</span>.<span class="ID">key</span> <span class="ResWord">in</span> (<span class="String">'</span><span class="String">-</span><span class="String">'</span>, <span class="String">'</span><span class="String">_</span><span class="String">'</span>): <span class="ID">set_ygain</span>(<span class="Number">1</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_109"> 109</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_109"></span><span class="anchor" id="line-109-1"></span></span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_110"> 110</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_110"></span><span class="anchor" id="line-110-1"></span><span class="ID">connect</span>(<span class="String">'</span><span class="String">key_press_event</span><span class="String">'</span>, <span class="ID">keypress</span>)</span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_111"> 111</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_111"></span><span class="anchor" id="line-111-1"></span><span class="ID">ax</span>.<span class="ID">set_title</span>(<span class="String">'</span><span class="String">Use + / - to change y gain</span><span class="String">'</span>)    </span>
<span class="line"><span class="LineNumber"><a href="#CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_112"> 112</a> </span><span class="LineAnchor" id="CA-849ad1170214b190f5cba58916c62ad7e3bfc8ca_112"></span><span class="anchor" id="line-112-1"></span><span class="ID">show</span>()</span>
</pre></div></div><span class="anchor" id="line-202"></span><p class="line867"><img alt="multiline.png" class="attachment" src="multiline3809.png?action=AttachFile&amp;do=get&amp;target=multiline.png" title="multiline.png" /> <span class="anchor" id="line-203"></span><hr /><p class="line874"> <span class="anchor" id="line-204"></span><a href="../../CategoryCookbookMatplotlib.html">CategoryCookbookMatplotlib</a> <span class="anchor" id="line-205"></span><span class="anchor" id="bottom"></span></div>
<div id="pagebottom"></div>
</div>


<div id="footer">
<ul class="editbar"><li class="toggleCommentsButton" style="display:none;"><a href="#" class="nbcomment" onClick="toggleComments();return false;">Comments</a></li><li><a class="nbattachments" href="MultilinePlots37dc.html?action=AttachFile" rel="nofollow">Attachments</a></li><li>
<form class="actionsmenu" method="GET" action="../../../external.html?link=http://localhost:8080/Cookbook/Matplotlib/MultilinePlots">
<div>
    <label>More Actions:</label>
    <select name="action"
        onchange="if ((this.selectedIndex != 0) &&
                      (this.options[this.selectedIndex].disabled == false)) {
                this.form.submit();
            }
            this.selectedIndex = 0;">
        <option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="RenamePage" disabled class="disabled">Rename Page</option>
<option value="DeletePage" disabled class="disabled">Delete Page</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Subscribe User</option>
<option value="show" disabled class="disabled">------------------------</option>
<option value="show" disabled class="disabled">Remove Spam</option>
<option value="show" disabled class="disabled">Revert to this revision</option>
    </select>
    <input type="submit" value="Do">
    
</div>
<script type="text/javascript">
<!--// Init menu
actionsMenuInit('More Actions:');
//-->
</script>
</form>
</li></ul>

<ul id="credits">
<li><a href="../../../external.html?link=http://moinmo.in/" title="This site uses the MoinMoin Wiki software.">MoinMoin Powered</a></li><li><a href="../../../external.html?link=http://moinmo.in/Python" title="MoinMoin is written in Python.">Python Powered</a></li><li><a href="../../../external.html?link=http://moinmo.in/GPL" title="MoinMoin is GPL licensed.">GPL licensed</a></li><li><a href="../../../external.html?link=http://validator.w3.org/check?uri=referer" title="Click here to validate this page.">Valid HTML 4.01</a></li>
</ul>


</div>
</body>

<!-- Mirrored from localhost:8080/Cookbook/Matplotlib/MultilinePlots?action=recoverpass by HTTrack Website Copier/3.x [XR&CO'2014], Thu, 29 Oct 2015 23:19:04 GMT -->
</html>

